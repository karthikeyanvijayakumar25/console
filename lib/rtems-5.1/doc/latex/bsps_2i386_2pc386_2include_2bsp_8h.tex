\hypertarget{bsps_2i386_2pc386_2include_2bsp_8h}{}\section{bsps/i386/pc386/include/bsp.h File Reference}
\label{bsps_2i386_2pc386_2include_2bsp_8h}\index{bsps/i386/pc386/include/bsp.h@{bsps/i386/pc386/include/bsp.h}}


Global B\+SP definitions.  


{\ttfamily \#include $<$bspopts.\+h$>$}\newline
{\ttfamily \#include $<$bsp/default-\/initial-\/extension.\+h$>$}\newline
{\ttfamily \#include $<$bsp/tblsizes.\+h$>$}\newline
{\ttfamily \#include $<$rtems.\+h$>$}\newline
{\ttfamily \#include $<$rtems/score/cpu.\+h$>$}\newline
{\ttfamily \#include $<$rtems/bsp\+Io.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries B\+S\+P\+\_\+\+H\+A\+S\+\_\+\+F\+R\+A\+M\+E\+\_\+\+B\+U\+F\+F\+ER}~1
\item 
\#define {\bfseries B\+S\+P\+\_\+\+N\+E2000\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+ME}~\char`\"{}ne1\char`\"{}
\item 
\#define {\bfseries B\+S\+P\+\_\+\+N\+E2000\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+A\+T\+T\+A\+CH}~rtems\+\_\+ne\+\_\+driver\+\_\+attach
\item 
\#define {\bfseries B\+S\+P\+\_\+\+W\+D8003\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+ME}~\char`\"{}wd1\char`\"{}
\item 
\#define {\bfseries B\+S\+P\+\_\+\+W\+D8003\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+A\+T\+T\+A\+CH}~rtems\+\_\+wd\+\_\+driver\+\_\+attach
\item 
\#define {\bfseries B\+S\+P\+\_\+\+D\+E\+C21140\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+ME}~\char`\"{}dc1\char`\"{}
\item 
\#define {\bfseries B\+S\+P\+\_\+\+D\+E\+C21140\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+A\+T\+T\+A\+CH}~rtems\+\_\+dec21140\+\_\+driver\+\_\+attach
\item 
\#define {\bfseries B\+S\+P\+\_\+3\+C509\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+ME}~\char`\"{}3c1\char`\"{}
\item 
\#define {\bfseries B\+S\+P\+\_\+3\+C509\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+A\+T\+T\+A\+CH}~rtems\+\_\+3c509\+\_\+driver\+\_\+attach
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+ME}~B\+S\+P\+\_\+\+D\+E\+C21140\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+ME
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+A\+T\+T\+A\+CH}~B\+S\+P\+\_\+\+D\+E\+C21140\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+A\+T\+T\+A\+CH
\item 
\#define {\bfseries I\+O\+\_\+\+T\+I\+M\+E\+R1}~0x40
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+C\+N\+T\+R0}~(I\+O\+\_\+\+T\+I\+M\+E\+R1 + 0) /$\ast$ timer 0 counter port           $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+C\+N\+T\+R1}~(I\+O\+\_\+\+T\+I\+M\+E\+R1 + 1) /$\ast$ timer 1 counter port           $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+C\+N\+T\+R2}~(I\+O\+\_\+\+T\+I\+M\+E\+R1 + 2) /$\ast$ timer 2 counter port           $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+M\+O\+DE}~(I\+O\+\_\+\+T\+I\+M\+E\+R1 + 3) /$\ast$ timer mode port                $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+S\+E\+L0}~0x00            /$\ast$ select counter 0               $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+S\+E\+L1}~0x40            /$\ast$ select counter 1               $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+S\+E\+L2}~0x80            /$\ast$ select counter 2               $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+I\+N\+T\+TC}~0x00            /$\ast$ mode 0, intr on terminal cnt   $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+O\+N\+E\+S\+H\+OT}~0x02            /$\ast$ mode 1, one shot               $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+R\+A\+T\+E\+G\+EN}~0x04            /$\ast$ mode 2, rate generator         $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+S\+Q\+W\+A\+VE}~0x06            /$\ast$ mode 3, square wave            $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+S\+W\+S\+T\+R\+O\+BE}~0x08            /$\ast$ mode 4, s/w triggered strobe   $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+H\+W\+S\+T\+R\+O\+BE}~0x0a            /$\ast$ mode 5, h/w triggered strobe   $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+L\+A\+T\+CH}~0x00            /$\ast$ latch counter for reading      $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+L\+SB}~0x10            /$\ast$ r/w counter L\+S\+B                $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+M\+SB}~0x20            /$\ast$ r/w counter M\+S\+B                $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+16\+B\+IT}~0x30            /$\ast$ r/w counter 16 bits, L\+S\+B first $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+B\+CD}~0x01            /$\ast$ count in B\+C\+D                   $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+R\+D\+\_\+\+B\+A\+CK}~0xc0	       /$\ast$ Read Back Command 		 $\ast$/
\item 
\#define {\bfseries R\+B\+\_\+\+N\+O\+T\+\_\+\+C\+O\+U\+NT}~0x40	       /$\ast$ Don\textquotesingle{}t select counter latch 	 $\ast$/
\item 
\#define {\bfseries R\+B\+\_\+\+N\+O\+T\+\_\+\+S\+T\+A\+T\+US}~0x20	       /$\ast$ Don\textquotesingle{}t select status latch 	 $\ast$/
\item 
\#define {\bfseries R\+B\+\_\+\+C\+O\+U\+N\+T\+\_\+0}~0x02	       /$\ast$ Counter 0 latch 		 $\ast$/
\item 
\#define {\bfseries R\+B\+\_\+\+C\+O\+U\+N\+T\+\_\+1}~0x04	       /$\ast$ Counter 1 latch 		 $\ast$/
\item 
\#define {\bfseries R\+B\+\_\+\+C\+O\+U\+N\+T\+\_\+2}~0x08	       /$\ast$ Counter 2 latch 		 $\ast$/
\item 
\#define {\bfseries R\+B\+\_\+\+O\+U\+T\+P\+UT}~0x80	       /$\ast$ Output of the counter is 1 	 $\ast$/
\item 
\#define {\bfseries T\+I\+M\+E\+R\+\_\+\+T\+I\+CK}~1193182  /$\ast$ The internal tick rate in ticks per second $\ast$/
\item 
\#define {\bfseries B\+S\+P\+\_\+\+C\+O\+N\+S\+O\+L\+E\+\_\+\+V\+GA}~0
\item 
\#define {\bfseries B\+S\+P\+\_\+\+C\+O\+N\+S\+O\+L\+E\+\_\+\+C\+O\+M1}~1
\item 
\#define {\bfseries B\+S\+P\+\_\+\+C\+O\+N\+S\+O\+L\+E\+\_\+\+C\+O\+M2}~2
\item 
\#define {\bfseries U\+S\+\_\+\+T\+O\+\_\+\+T\+I\+CK}(us)~(((us)$\ast$105+44)/88)
\item 
\#define {\bfseries T\+I\+C\+K\+\_\+\+T\+O\+\_\+\+US}(tk)~(((tk)$\ast$88+52)/105)
\item 
\#define {\bfseries B\+S\+P\+\_\+\+I\+D\+L\+E\+\_\+\+T\+A\+S\+K\+\_\+\+B\+O\+DY}~\mbox{\hyperlink{group__RTEMSBSPsSPARCLEON3_ga301be7085b80c41a9c5887247003c662}{bsp\+\_\+idle\+\_\+thread}}
\item 
\#define {\bfseries B\+S\+P\+\_\+\+C\+O\+N\+S\+O\+L\+E\+\_\+\+P\+O\+R\+T\+\_\+\+C\+O\+N\+S\+O\+LE}~(-\/1)
\item 
\#define {\bfseries B\+S\+P\+\_\+\+C\+O\+N\+S\+O\+L\+E\+\_\+\+P\+O\+R\+T\+\_\+\+C\+O\+M1}~(\mbox{\hyperlink{group__i386__uart_gaa1561064cc8499388f7512347b434d25}{B\+S\+P\+\_\+\+U\+A\+R\+T\+\_\+\+C\+O\+M1}})
\item 
\#define {\bfseries B\+S\+P\+\_\+\+C\+O\+N\+S\+O\+L\+E\+\_\+\+P\+O\+R\+T\+\_\+\+C\+O\+M2}~(B\+S\+P\+\_\+\+U\+A\+R\+T\+\_\+\+C\+O\+M2)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \+\_\+\+\_\+\+F\+I\+LE {\bfseries F\+I\+LE}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void {\bfseries B\+S\+P\+\_\+runtime\+\_\+console\+\_\+select} (int $\ast$p\+Printk\+Port, int $\ast$p\+Console\+Port)
\item 
int {\bfseries rtems\+\_\+ne\+\_\+driver\+\_\+attach} (struct rtems\+\_\+bsdnet\+\_\+ifconfig $\ast$, int)
\item 
int {\bfseries rtems\+\_\+wd\+\_\+driver\+\_\+attach} (struct rtems\+\_\+bsdnet\+\_\+ifconfig $\ast$, int)
\item 
int {\bfseries rtems\+\_\+dec21140\+\_\+driver\+\_\+attach} (struct rtems\+\_\+bsdnet\+\_\+ifconfig $\ast$, int)
\item 
int {\bfseries rtems\+\_\+3c509\+\_\+driver\+\_\+attach} (struct rtems\+\_\+bsdnet\+\_\+ifconfig $\ast$\mbox{\hyperlink{structconfig__s}{config}})
\item 
void {\bfseries \+\_\+\+I\+B\+M\+P\+C\+\_\+init\+Video} (void)
\item 
void {\bfseries \+\_\+\+I\+B\+M\+P\+C\+\_\+outch} (char)
\item 
char {\bfseries \+\_\+\+I\+B\+M\+P\+C\+\_\+inch} (void)
\item 
char {\bfseries \+\_\+\+I\+B\+M\+P\+C\+\_\+inch\+\_\+sleep} (void)
\item 
int {\bfseries B\+S\+P\+\_\+wait\+\_\+polled\+\_\+input} (void)
\item 
int {\bfseries rtems\+\_\+kbpoll} (void)
\item 
int {\bfseries getch} (void)
\item 
void {\bfseries add\+\_\+to\+\_\+queue} (unsigned short b)
\item 
void {\bfseries Wait\+\_\+\+X\+\_\+ms} (unsigned int time\+To\+Wait)
\item 
void {\bfseries Calibrate\+\_\+loop\+\_\+1ms} (void)
\item 
void {\bfseries rtems\+\_\+irq\+\_\+mngt\+\_\+init} (void)
\item 
void {\bfseries Clock\+\_\+driver\+\_\+install\+\_\+handler} (void)
\item 
void {\bfseries Clock\+\_\+driver\+\_\+support\+\_\+initialize\+\_\+hardware} (void)
\item 
void $\ast$ \mbox{\hyperlink{group__RTEMSBSPsI386_ga301be7085b80c41a9c5887247003c662}{bsp\+\_\+idle\+\_\+thread}} (uintptr\+\_\+t ignored)
\begin{DoxyCompactList}\small\item\em Optimized idle task. \end{DoxyCompactList}\item 
void {\bfseries kbd\+\_\+reset\+\_\+setup} (char $\ast$str, int $\ast$ints)
\item 
size\+\_\+t {\bfseries read\+\_\+aux} (char $\ast$buffer, size\+\_\+t count)
\item 
bool {\bfseries bsp\+\_\+get\+\_\+serial\+\_\+mouse\+\_\+device} (const char $\ast$$\ast$name, const char $\ast$$\ast$type)
\item 
void {\bfseries register\+\_\+leds} (int console, unsigned int led, unsigned int $\ast$addr, unsigned int mask)
\item 
const char $\ast$ {\bfseries bsp\+\_\+cmdline} (void)
\item 
const char $\ast$ {\bfseries bsp\+\_\+cmdline\+\_\+arg} (const char $\ast$arg)
\item 
void {\bfseries init\+\_\+remote\+\_\+gdb} (void)
\item 
void {\bfseries i386\+\_\+stub\+\_\+glue\+\_\+init} (int uart)
\item 
void {\bfseries i386\+\_\+stub\+\_\+glue\+\_\+init\+\_\+breakin} (void)
\item 
int {\bfseries i386\+\_\+stub\+\_\+glue\+\_\+uart} (void)
\item 
void {\bfseries breakpoint} (void)
\item 
uint32\+\_\+t {\bfseries B\+S\+P\+\_\+irq\+\_\+count\+\_\+dump} (F\+I\+LE $\ast$f)
\item 
void {\bfseries raw\+\_\+idt\+\_\+notify} (void)
\item 
void {\bfseries C\+\_\+dispatch\+\_\+isr} (int vector)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structinterrupt__gate__descriptor}{interrupt\+\_\+gate\+\_\+descriptor}} {\bfseries Interrupt\+\_\+descriptor\+\_\+table} \mbox{[}I\+D\+T\+\_\+\+S\+I\+ZE\mbox{]}
\item 
segment\+\_\+descriptors {\bfseries \+\_\+\+Global\+\_\+descriptor\+\_\+table} \mbox{[}G\+D\+T\+\_\+\+S\+I\+ZE\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Global B\+SP definitions. 

