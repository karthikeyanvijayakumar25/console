\hypertarget{group__IMFSGenericNodes}{}\section{I\+M\+FS Generic Nodes}
\label{group__IMFSGenericNodes}\index{IMFS Generic Nodes@{IMFS Generic Nodes}}


Generic nodes are an alternative to standard drivers in R\+T\+E\+MS.  


\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}}
\begin{DoxyCompactList}\small\item\em I\+M\+FS node control. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structIMFS__mknod__control}{I\+M\+F\+S\+\_\+mknod\+\_\+control}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__IMFSGenericNodes_ga6f88e6c31de1206bd6a0921bd3f57e33}\label{group__IMFSGenericNodes_ga6f88e6c31de1206bd6a0921bd3f57e33}} 
\#define {\bfseries I\+M\+F\+S\+\_\+\+G\+E\+N\+E\+R\+I\+C\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER}(handlers,  init,  destroy)~\mbox{\hyperlink{group__IMFS_ga3003884652843bc2a52af880d6accf4f}{I\+M\+F\+S\+\_\+\+N\+O\+D\+E\+\_\+\+C\+O\+N\+T\+R\+O\+L\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER}}( handlers, init, destroy )
\item 
\#define \mbox{\hyperlink{group__IMFSGenericNodes_ga8764e226d4483098ea7e5dee061927f3}{I\+M\+F\+S\+\_\+\+G\+E\+N\+E\+R\+I\+C\+\_\+\+C\+O\+N\+T\+R\+O\+L\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER}}(handlers,  init,  destroy)~\mbox{\hyperlink{group__IMFS_ga3003884652843bc2a52af880d6accf4f}{I\+M\+F\+S\+\_\+\+N\+O\+D\+E\+\_\+\+C\+O\+N\+T\+R\+O\+L\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER}}( handlers, init, destroy )
\begin{DoxyCompactList}\small\item\em Initializer for a generic node control. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__IMFSGenericNodes_gaa92e5380e1b89f2b97f03f2f47ec5302}{I\+M\+F\+S\+\_\+\+G\+E\+N\+E\+R\+I\+C\+\_\+\+N\+O\+D\+E\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER}}(node\+\_\+control,  name,  namelen,  mode)~\{ \mbox{\hyperlink{group__IMFS_gadf395ed2a459636e9554349d7227da6d}{I\+M\+F\+S\+\_\+\+N\+O\+D\+E\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER}}( node\+\_\+control, name, namelen, mode ), \mbox{\hyperlink{bestcomm__api_8h_a872bb74de61c3689ccd5b41873fce42c}{N\+U\+LL}} \}
\begin{DoxyCompactList}\small\item\em Initializer for a generic node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$($\ast$ \mbox{\hyperlink{group__IMFSGenericNodes_gaa17eaae581fd5703b3bd1a3b5e95b054}{I\+M\+F\+S\+\_\+node\+\_\+control\+\_\+initialize}}) (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Initializes an I\+M\+FS node. \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$($\ast$ \mbox{\hyperlink{group__IMFSGenericNodes_gab8e5f3c5eb8c39d46a5cc865cf90125c}{I\+M\+F\+S\+\_\+node\+\_\+control\+\_\+remove}}) (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node)
\begin{DoxyCompactList}\small\item\em Prepares the removal of an I\+M\+FS node from its parent directory. \end{DoxyCompactList}\item 
typedef void($\ast$ \mbox{\hyperlink{group__IMFSGenericNodes_ga9b01d3df01e1e6c71cd242336fe2a793}{I\+M\+F\+S\+\_\+node\+\_\+control\+\_\+destroy}}) (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node)
\begin{DoxyCompactList}\small\item\em Destroys an I\+M\+FS node. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$ \mbox{\hyperlink{group__IMFSGenericNodes_gab52e16c2a7d9bac5234d44954a044f24}{I\+M\+F\+S\+\_\+node\+\_\+initialize\+\_\+default}} (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Returns the node and does nothing else. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__IMFSGenericNodes_ga858656b988dead1a9acb895c40f4aa19}\label{group__IMFSGenericNodes_ga858656b988dead1a9acb895c40f4aa19}} 
\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$ {\bfseries I\+M\+F\+S\+\_\+node\+\_\+initialize\+\_\+directory} (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node, void $\ast$arg)
\item 
\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$ \mbox{\hyperlink{group__IMFSGenericNodes_gadf9e23718e6c6b5d811c498fa1212e6d}{I\+M\+F\+S\+\_\+node\+\_\+initialize\+\_\+generic}} (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Returns the node and sets the generic node context. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$ \mbox{\hyperlink{group__IMFSGenericNodes_gadea493725f5f86786783f83d3c8d23db}{I\+M\+F\+S\+\_\+node\+\_\+remove\+\_\+default}} (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node)
\begin{DoxyCompactList}\small\item\em Returns the node and does nothing else. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__IMFSGenericNodes_ga5e5fff400f0147ce6f0df196b350df48}\label{group__IMFSGenericNodes_ga5e5fff400f0147ce6f0df196b350df48}} 
\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$ {\bfseries I\+M\+F\+S\+\_\+node\+\_\+remove\+\_\+directory} (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node)
\item 
void \mbox{\hyperlink{group__IMFSGenericNodes_gaec999106a1cb28b45a46896fce71f320}{I\+M\+F\+S\+\_\+node\+\_\+destroy\+\_\+default}} (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node)
\begin{DoxyCompactList}\small\item\em Frees the node. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__IMFSGenericNodes_ga1b73262616b2acec68486a12229f1553}{I\+M\+F\+S\+\_\+do\+\_\+nothing\+\_\+destroy}} (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node)
\begin{DoxyCompactList}\small\item\em Does nothing. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{group__IMFSGenericNodes_gae7bc195be301f29ac87799edab608076}{I\+M\+F\+S\+\_\+make\+\_\+generic\+\_\+node}} (const char $\ast$path, mode\+\_\+t mode, const \mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}} $\ast$node\+\_\+control, void $\ast$\mbox{\hyperlink{sun4u_2tte_8h_a9b4a99475e2709333b8e5d70483173f1}{context}})
\begin{DoxyCompactList}\small\item\em Makes a generic I\+M\+FS node. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Generic nodes are an alternative to standard drivers in R\+T\+E\+MS. 

The handlers of a generic node are called with less overhead compared to the standard driver operations. The usage of file system node handlers enable more features like support for \mbox{\hyperlink{fsync_8c_a9ba34c4ff72e21db486eedf77c2a18d0}{fsync()}} and fdatasync(). The generic nodes use the reference counting of the I\+M\+FS. This provides automatic node destruction when the last reference vanishes. 

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__IMFSGenericNodes_ga8764e226d4483098ea7e5dee061927f3}\label{group__IMFSGenericNodes_ga8764e226d4483098ea7e5dee061927f3}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_GENERIC\_CONTROL\_INITIALIZER@{IMFS\_GENERIC\_CONTROL\_INITIALIZER}}
\index{IMFS\_GENERIC\_CONTROL\_INITIALIZER@{IMFS\_GENERIC\_CONTROL\_INITIALIZER}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_GENERIC\_CONTROL\_INITIALIZER}{IMFS\_GENERIC\_CONTROL\_INITIALIZER}}
{\footnotesize\ttfamily \#define I\+M\+F\+S\+\_\+\+G\+E\+N\+E\+R\+I\+C\+\_\+\+C\+O\+N\+T\+R\+O\+L\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER(\begin{DoxyParamCaption}\item[{}]{handlers,  }\item[{}]{init,  }\item[{}]{destroy }\end{DoxyParamCaption})~\mbox{\hyperlink{group__IMFS_ga3003884652843bc2a52af880d6accf4f}{I\+M\+F\+S\+\_\+\+N\+O\+D\+E\+\_\+\+C\+O\+N\+T\+R\+O\+L\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER}}( handlers, init, destroy )}



Initializer for a generic node control. 


\begin{DoxyParams}{Parameters}
{\em handlers} & The file system node handlers. \\
\hline
{\em init} & The node initialization method. \\
\hline
{\em destroy} & The node destruction method. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__IMFSGenericNodes_gaa92e5380e1b89f2b97f03f2f47ec5302}\label{group__IMFSGenericNodes_gaa92e5380e1b89f2b97f03f2f47ec5302}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_GENERIC\_NODE\_INITIALIZER@{IMFS\_GENERIC\_NODE\_INITIALIZER}}
\index{IMFS\_GENERIC\_NODE\_INITIALIZER@{IMFS\_GENERIC\_NODE\_INITIALIZER}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_GENERIC\_NODE\_INITIALIZER}{IMFS\_GENERIC\_NODE\_INITIALIZER}}
{\footnotesize\ttfamily \#define I\+M\+F\+S\+\_\+\+G\+E\+N\+E\+R\+I\+C\+\_\+\+N\+O\+D\+E\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER(\begin{DoxyParamCaption}\item[{}]{node\+\_\+control,  }\item[{}]{name,  }\item[{}]{namelen,  }\item[{}]{mode }\end{DoxyParamCaption})~\{ \mbox{\hyperlink{group__IMFS_gadf395ed2a459636e9554349d7227da6d}{I\+M\+F\+S\+\_\+\+N\+O\+D\+E\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ER}}( node\+\_\+control, name, namelen, mode ), \mbox{\hyperlink{bestcomm__api_8h_a872bb74de61c3689ccd5b41873fce42c}{N\+U\+LL}} \}}



Initializer for a generic node. 

Initialize the node control with \mbox{\hyperlink{group__IMFSGenericNodes_ga8764e226d4483098ea7e5dee061927f3}{I\+M\+F\+S\+\_\+\+G\+E\+N\+E\+R\+I\+C\+\_\+\+C\+O\+N\+T\+R\+O\+L\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+E\+R()}}.


\begin{DoxyParams}{Parameters}
{\em node\+\_\+control} & The node control of the I\+M\+FS generic node. \\
\hline
{\em name} & The name of the I\+M\+FS generic node. \\
\hline
{\em namelen} & The length of the name of the I\+M\+FS generic node. \\
\hline
{\em mode} & The mode of the I\+M\+FS generic node. \\
\hline
\end{DoxyParams}


\subsection{Typedef Documentation}
\mbox{\Hypertarget{group__IMFSGenericNodes_ga9b01d3df01e1e6c71cd242336fe2a793}\label{group__IMFSGenericNodes_ga9b01d3df01e1e6c71cd242336fe2a793}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_node\_control\_destroy@{IMFS\_node\_control\_destroy}}
\index{IMFS\_node\_control\_destroy@{IMFS\_node\_control\_destroy}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_node\_control\_destroy}{IMFS\_node\_control\_destroy}}
{\footnotesize\ttfamily typedef void($\ast$ I\+M\+F\+S\+\_\+node\+\_\+control\+\_\+destroy) (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node)}



Destroys an I\+M\+FS node. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em node} & The I\+M\+FS node.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}} and \mbox{\hyperlink{group__IMFSGenericNodes_gaec999106a1cb28b45a46896fce71f320}{I\+M\+F\+S\+\_\+node\+\_\+destroy\+\_\+default()}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{group__IMFSGenericNodes_gaa17eaae581fd5703b3bd1a3b5e95b054}\label{group__IMFSGenericNodes_gaa17eaae581fd5703b3bd1a3b5e95b054}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_node\_control\_initialize@{IMFS\_node\_control\_initialize}}
\index{IMFS\_node\_control\_initialize@{IMFS\_node\_control\_initialize}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_node\_control\_initialize}{IMFS\_node\_control\_initialize}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}}$\ast$($\ast$ I\+M\+F\+S\+\_\+node\+\_\+control\+\_\+initialize) (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node, void $\ast$arg)}



Initializes an I\+M\+FS node. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em node} & The I\+M\+FS node. \\
\hline
\mbox{\texttt{ in}}  & {\em arg} & The user provided argument pointer. It may contain node specific initialization information.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em node} & Successful operation. \\
\hline
{\em N\+U\+LL} & An error occurred. The {\ttfamily errno} indicates the error. This will abort the make operation.\\
\hline
\end{DoxyRetVals}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}}, \mbox{\hyperlink{group__IMFSGenericNodes_gab52e16c2a7d9bac5234d44954a044f24}{I\+M\+F\+S\+\_\+node\+\_\+initialize\+\_\+default()}}, and \mbox{\hyperlink{group__IMFSGenericNodes_gadf9e23718e6c6b5d811c498fa1212e6d}{I\+M\+F\+S\+\_\+node\+\_\+initialize\+\_\+generic()}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{group__IMFSGenericNodes_gab8e5f3c5eb8c39d46a5cc865cf90125c}\label{group__IMFSGenericNodes_gab8e5f3c5eb8c39d46a5cc865cf90125c}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_node\_control\_remove@{IMFS\_node\_control\_remove}}
\index{IMFS\_node\_control\_remove@{IMFS\_node\_control\_remove}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_node\_control\_remove}{IMFS\_node\_control\_remove}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}}$\ast$($\ast$ I\+M\+F\+S\+\_\+node\+\_\+control\+\_\+remove) (\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$node)}



Prepares the removal of an I\+M\+FS node from its parent directory. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em node} & The I\+M\+FS node.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em node} & Successful operation. \\
\hline
{\em N\+U\+LL} & An error occurred. The {\ttfamily errno} indicates the error. This will abort the removal operation.\\
\hline
\end{DoxyRetVals}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}} and \mbox{\hyperlink{group__IMFSGenericNodes_gadea493725f5f86786783f83d3c8d23db}{I\+M\+F\+S\+\_\+node\+\_\+remove\+\_\+default()}}. 
\end{DoxySeeAlso}


\subsection{Function Documentation}
\mbox{\Hypertarget{group__IMFSGenericNodes_ga1b73262616b2acec68486a12229f1553}\label{group__IMFSGenericNodes_ga1b73262616b2acec68486a12229f1553}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_do\_nothing\_destroy@{IMFS\_do\_nothing\_destroy}}
\index{IMFS\_do\_nothing\_destroy@{IMFS\_do\_nothing\_destroy}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_do\_nothing\_destroy()}{IMFS\_do\_nothing\_destroy()}}
{\footnotesize\ttfamily void I\+M\+F\+S\+\_\+do\+\_\+nothing\+\_\+destroy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$}]{node }\end{DoxyParamCaption})}



Does nothing. 


\begin{DoxyParams}{Parameters}
{\em node} & The I\+M\+FS node.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{group__IMFSGenericNodes_gae7bc195be301f29ac87799edab608076}\label{group__IMFSGenericNodes_gae7bc195be301f29ac87799edab608076}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_make\_generic\_node@{IMFS\_make\_generic\_node}}
\index{IMFS\_make\_generic\_node@{IMFS\_make\_generic\_node}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_make\_generic\_node()}{IMFS\_make\_generic\_node()}}
{\footnotesize\ttfamily int I\+M\+F\+S\+\_\+make\+\_\+generic\+\_\+node (\begin{DoxyParamCaption}\item[{const char $\ast$}]{path,  }\item[{mode\+\_\+t}]{mode,  }\item[{const \mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}} $\ast$}]{node\+\_\+control,  }\item[{void $\ast$}]{context }\end{DoxyParamCaption})}



Makes a generic I\+M\+FS node. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em path} & The path to the new generic I\+M\+FS node. \\
\hline
\mbox{\texttt{ in}}  & {\em mode} & The node mode. \\
\hline
\mbox{\texttt{ in}}  & {\em node\+\_\+control} & The node control. \\
\hline
\mbox{\texttt{ in}}  & {\em context} & The node control handler context.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em -\/1} & An error occurred. The {\ttfamily errno} indicates the error.\\
\hline
\end{DoxyRetVals}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <sys/stat.h>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{assert_8h}{assert.h}}>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <fcntl.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{imfs_8h}{rtems/imfs.h}}>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{static} \textcolor{keyword}{const} \mbox{\hyperlink{struct__rtems__filesystem__file__handlers__r}{rtems\_filesystem\_file\_handlers\_r}} some\_node\_handlers = \{}
\DoxyCodeLine{  ...}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{static} \mbox{\hyperlink{structIMFS__jnode__tt}{IMFS\_jnode\_t}} *some\_node\_init(\mbox{\hyperlink{structIMFS__jnode__tt}{IMFS\_jnode\_t}} *node, \textcolor{keywordtype}{void} *arg)}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keywordtype}{void} *\mbox{\hyperlink{sun4u_2tlb_8h_a9b4a99475e2709333b8e5d70483173f1}{context}};}
\DoxyCodeLine{}
\DoxyCodeLine{  node = \mbox{\hyperlink{group__IMFSGenericNodes_gadf9e23718e6c6b5d811c498fa1212e6d}{IMFS\_node\_initialize\_generic}}(node, arg);}
\DoxyCodeLine{  \mbox{\hyperlink{sun4u_2tlb_8h_a9b4a99475e2709333b8e5d70483173f1}{context}} = IMFS\_generic\_get\_context\_by\_node(node);}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keywordflow}{return} node;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{static} \textcolor{keywordtype}{void} some\_node\_destroy(\mbox{\hyperlink{structIMFS__jnode__tt}{IMFS\_jnode\_t}} *node)}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keywordtype}{void} *\mbox{\hyperlink{sun4u_2tlb_8h_a9b4a99475e2709333b8e5d70483173f1}{context}} = IMFS\_generic\_get\_context\_by\_node(node);}
\DoxyCodeLine{}
\DoxyCodeLine{  \mbox{\hyperlink{group__IMFSGenericNodes_gaec999106a1cb28b45a46896fce71f320}{IMFS\_node\_destroy\_default}}(node);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{static} \textcolor{keyword}{const} \mbox{\hyperlink{structIMFS__node__control}{IMFS\_node\_control}}}
\DoxyCodeLine{some\_node\_control = \mbox{\hyperlink{group__IMFSGenericNodes_ga8764e226d4483098ea7e5dee061927f3}{IMFS\_GENERIC\_CONTROL\_INITIALIZER}}(}
\DoxyCodeLine{  \&some\_node\_handlers,}
\DoxyCodeLine{  some\_node\_init,}
\DoxyCodeLine{  some\_node\_destroy}
\DoxyCodeLine{);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void} example(\textcolor{keywordtype}{void} *some\_node\_context)}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keywordtype}{int} rv;}
\DoxyCodeLine{}
\DoxyCodeLine{  rv = \mbox{\hyperlink{group__IMFSGenericNodes_gae7bc195be301f29ac87799edab608076}{IMFS\_make\_generic\_node}}(}
\DoxyCodeLine{    \textcolor{stringliteral}{"/path/to/some/generic/node"},}
\DoxyCodeLine{    S\_IFCHR | S\_IRWXU | S\_IRWXG | S\_IRWXO,}
\DoxyCodeLine{    \&some\_node\_control,}
\DoxyCodeLine{    some\_node\_context}
\DoxyCodeLine{  );}
\DoxyCodeLine{  assert(rv == 0);}
\DoxyCodeLine{\}}
\end{DoxyCode}
 \mbox{\Hypertarget{group__IMFSGenericNodes_gaec999106a1cb28b45a46896fce71f320}\label{group__IMFSGenericNodes_gaec999106a1cb28b45a46896fce71f320}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_node\_destroy\_default@{IMFS\_node\_destroy\_default}}
\index{IMFS\_node\_destroy\_default@{IMFS\_node\_destroy\_default}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_node\_destroy\_default()}{IMFS\_node\_destroy\_default()}}
{\footnotesize\ttfamily void I\+M\+F\+S\+\_\+node\+\_\+destroy\+\_\+default (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$}]{node }\end{DoxyParamCaption})}



Frees the node. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em node} & The I\+M\+FS node.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{group__IMFSGenericNodes_gab52e16c2a7d9bac5234d44954a044f24}\label{group__IMFSGenericNodes_gab52e16c2a7d9bac5234d44954a044f24}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_node\_initialize\_default@{IMFS\_node\_initialize\_default}}
\index{IMFS\_node\_initialize\_default@{IMFS\_node\_initialize\_default}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_node\_initialize\_default()}{IMFS\_node\_initialize\_default()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}}$\ast$ I\+M\+F\+S\+\_\+node\+\_\+initialize\+\_\+default (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$}]{node,  }\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Returns the node and does nothing else. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em node} & The I\+M\+FS node. \\
\hline
\mbox{\texttt{ in}}  & {\em arg} & The user provided argument pointer. It is not used.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em node} & Returns always the node passed as parameter.\\
\hline
\end{DoxyRetVals}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{group__IMFSGenericNodes_gadf9e23718e6c6b5d811c498fa1212e6d}\label{group__IMFSGenericNodes_gadf9e23718e6c6b5d811c498fa1212e6d}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_node\_initialize\_generic@{IMFS\_node\_initialize\_generic}}
\index{IMFS\_node\_initialize\_generic@{IMFS\_node\_initialize\_generic}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_node\_initialize\_generic()}{IMFS\_node\_initialize\_generic()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}}$\ast$ I\+M\+F\+S\+\_\+node\+\_\+initialize\+\_\+generic (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$}]{node,  }\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Returns the node and sets the generic node context. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em node} & The I\+M\+FS node. \\
\hline
\mbox{\texttt{ in}}  & {\em arg} & The user provided argument pointer. It must contain the generic context.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em node} & Returns always the node passed as parameter.\\
\hline
\end{DoxyRetVals}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{group__IMFSGenericNodes_gadea493725f5f86786783f83d3c8d23db}\label{group__IMFSGenericNodes_gadea493725f5f86786783f83d3c8d23db}} 
\index{IMFS Generic Nodes@{IMFS Generic Nodes}!IMFS\_node\_remove\_default@{IMFS\_node\_remove\_default}}
\index{IMFS\_node\_remove\_default@{IMFS\_node\_remove\_default}!IMFS Generic Nodes@{IMFS Generic Nodes}}
\subsubsection{\texorpdfstring{IMFS\_node\_remove\_default()}{IMFS\_node\_remove\_default()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}}$\ast$ I\+M\+F\+S\+\_\+node\+\_\+remove\+\_\+default (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structIMFS__jnode__tt}{I\+M\+F\+S\+\_\+jnode\+\_\+t}} $\ast$}]{node }\end{DoxyParamCaption})}



Returns the node and does nothing else. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em node} & The I\+M\+FS node.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em node} & Returns always the node passed as parameter.\\
\hline
\end{DoxyRetVals}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{structIMFS__node__control}{I\+M\+F\+S\+\_\+node\+\_\+control}}. 
\end{DoxySeeAlso}
