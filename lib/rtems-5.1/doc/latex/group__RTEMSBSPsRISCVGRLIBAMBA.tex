\hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA}{}\section{R\+I\+S\+C-\/V A\+M\+BA Driver Handler}
\label{group__RTEMSBSPsRISCVGRLIBAMBA}\index{RISC-\/V AMBA Driver Handler@{RISC-\/V AMBA Driver Handler}}


A\+M\+BA Plag \& Play Bus Driver Macros.  


\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \mbox{\hyperlink{riscv_2griscv_2include_2amba_8h}{amba.\+h}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga23ba69eef39ac8857a4fbe37301286be}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga23ba69eef39ac8857a4fbe37301286be}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+I\+O\+\_\+\+A\+R\+EA}~0xfff00000
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gadb9d112a0b8fd779458ecedad4356859}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gadb9d112a0b8fd779458ecedad4356859}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+C\+O\+N\+F\+\_\+\+A\+R\+EA}~0xff000
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gac86531ede005d4b7192eac3e73551025}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gac86531ede005d4b7192eac3e73551025}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+A\+H\+B\+\_\+\+S\+L\+A\+V\+E\+\_\+\+C\+O\+N\+F\+\_\+\+A\+R\+EA}~(1 $<$$<$ 11)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gace606356aabc9408320eb9f60d23aece}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gace606356aabc9408320eb9f60d23aece}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+A\+H\+B\+\_\+\+C\+O\+N\+F\+\_\+\+W\+O\+R\+DS}~8
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gaa19895659637dae0851711ea448e254d}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gaa19895659637dae0851711ea448e254d}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+A\+P\+B\+\_\+\+C\+O\+N\+F\+\_\+\+W\+O\+R\+DS}~2
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga2ae54166d2e4300cc6030b478b51aa11}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga2ae54166d2e4300cc6030b478b51aa11}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+A\+H\+B\+\_\+\+M\+A\+S\+T\+E\+RS}~64
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga038737a270cfdf8439cd68434274bc75}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga038737a270cfdf8439cd68434274bc75}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+A\+H\+B\+\_\+\+S\+L\+A\+V\+ES}~64
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gaa9a21362044739c281bb81d2f09949c0}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gaa9a21362044739c281bb81d2f09949c0}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+A\+P\+B\+\_\+\+S\+L\+A\+V\+ES}~16
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gab2de33a995c96362412afe805b0f9711}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gab2de33a995c96362412afe805b0f9711}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+C\+L\+O\+C\+K\+\_\+\+I\+N\+D\+EX}~0
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gaac1f132a549de5e331c442280d5496d8}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gaac1f132a549de5e331c442280d5496d8}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+C\+O\+U\+N\+T\+E\+R\+\_\+\+G\+P\+T\+I\+M\+E\+R\+\_\+\+I\+N\+D\+EX}~G\+R\+L\+I\+B\+\_\+\+C\+L\+O\+C\+K\+\_\+\+I\+N\+D\+EX
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga331f68c526cb1ff299d50cb874455f24}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga331f68c526cb1ff299d50cb874455f24}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+G\+P\+T\+I\+M\+E\+R\+\_\+0\+\_\+\+F\+R\+E\+Q\+U\+E\+N\+C\+Y\+\_\+\+S\+E\+T\+\_\+\+B\+Y\+\_\+\+B\+O\+O\+T\+\_\+\+L\+O\+A\+D\+ER}~1000000
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga4e4fa42a5d508bac3b22eff6c83d76c5}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga4e4fa42a5d508bac3b22eff6c83d76c5}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+I\+R\+Q\+M\+P\+S\+T\+A\+T\+U\+S\+\_\+\+C\+P\+U\+NR}~28
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gaf85a8bb4714e0e8ae203678dee60c5f8}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gaf85a8bb4714e0e8ae203678dee60c5f8}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+I\+R\+Q\+C\+T\+R\+L\+\_\+\+A\+C\+Q\+U\+I\+RE}(\+\_\+lock\+\_\+context)~\mbox{\hyperlink{group__ClassicINTRLocks_ga0eeb7f40f9ac9e9c7b092d5fd85b5b3c}{rtems\+\_\+interrupt\+\_\+lock\+\_\+acquire}}( \&G\+R\+L\+I\+B\+\_\+\+Irq\+Ctrl\+\_\+\+Lock, \+\_\+lock\+\_\+context )
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga0bc6484c11ccc86e169da58f18c0ef92}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga0bc6484c11ccc86e169da58f18c0ef92}} 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+I\+R\+Q\+C\+T\+R\+L\+\_\+\+R\+E\+L\+E\+A\+SE}(\+\_\+lock\+\_\+context)~\mbox{\hyperlink{group__ClassicINTRLocks_gaefc0c78feded09af9fd5b3ed93262f97}{rtems\+\_\+interrupt\+\_\+lock\+\_\+release}}( \&G\+R\+L\+I\+B\+\_\+\+Irq\+Ctrl\+\_\+\+Lock, \+\_\+lock\+\_\+context )
\item 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+Cpu\+\_\+\+Unmask\+\_\+interrupt}(\+\_\+source,  \+\_\+cpu)
\item 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+Cpu\+\_\+\+Mask\+\_\+interrupt}(\+\_\+source,  \+\_\+cpu)
\item 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+Enable\+\_\+interrupt\+\_\+broadcast}(\+\_\+source)
\item 
\#define {\bfseries G\+R\+L\+I\+B\+\_\+\+Disable\+\_\+interrupt\+\_\+broadcast}(\+\_\+source)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga0a8801420661304fa4c37c95c5a4afe3}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga0a8801420661304fa4c37c95c5a4afe3}} 
\#define {\bfseries B\+S\+P\+\_\+\+Cpu\+\_\+\+Is\+\_\+interrupt\+\_\+masked}(\+\_\+source,  \+\_\+cpu)~(!(G\+R\+L\+I\+B\+\_\+\+Irq\+Ctrl\+\_\+\+Regs-\/$>$mask\mbox{[}\+\_\+cpu\mbox{]} \& (1\+U $<$$<$ (\+\_\+source))))
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gae1cf44f5c7e687746e0f0cd079a07496}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gae1cf44f5c7e687746e0f0cd079a07496}} 
void {\bfseries gptimer\+\_\+initialize} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gabf84cf4db67da0f716a9baebb023ff29}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gabf84cf4db67da0f716a9baebb023ff29}} 
void {\bfseries irqmp\+\_\+initialize} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_gaebe1fa29572f97b26c2982eb6b094801}\label{group__RTEMSBSPsRISCVGRLIBAMBA_gaebe1fa29572f97b26c2982eb6b094801}} 
struct \mbox{\hyperlink{structambapp__bus}{ambapp\+\_\+bus}} {\bfseries ambapp\+\_\+plb}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga01491814076cfdf1fad2e7911f1bf1a3}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga01491814076cfdf1fad2e7911f1bf1a3}} 
uint32\+\_\+t {\bfseries G\+R\+L\+I\+B\+\_\+\+Cpu\+\_\+\+Index}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga5b71e264584fadf74da8fb588238e297}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga5b71e264584fadf74da8fb588238e297}} 
const unsigned char {\bfseries G\+R\+L\+I\+B\+\_\+mp\+\_\+irq}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga1e1874d8b9cf8c1ccbd5a8a615249f9b}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga1e1874d8b9cf8c1ccbd5a8a615249f9b}} 
volatile struct \mbox{\hyperlink{structirqmp__regs}{irqmp\+\_\+regs}} $\ast$ {\bfseries G\+R\+L\+I\+B\+\_\+\+Irq\+Ctrl\+\_\+\+Regs}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga5a319ca3adff7780792337f7d704c9eb}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga5a319ca3adff7780792337f7d704c9eb}} 
struct \mbox{\hyperlink{structambapp__dev}{ambapp\+\_\+dev}} $\ast$ {\bfseries G\+R\+L\+I\+B\+\_\+\+Irq\+Ctrl\+\_\+\+Adev}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga34822c179de046c4661d935cdfac4703}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga34822c179de046c4661d935cdfac4703}} 
int {\bfseries G\+R\+L\+I\+B\+\_\+\+Irq\+Ctrl\+\_\+\+E\+Irq}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga439e33af1c42b7bbedccba69584838db}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga439e33af1c42b7bbedccba69584838db}} 
volatile struct \mbox{\hyperlink{structgptimer__regs}{gptimer\+\_\+regs}} $\ast$ {\bfseries G\+R\+L\+I\+B\+\_\+\+Timer\+\_\+\+Regs}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga1fe394559480a7e195e9538db2ced2f4}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga1fe394559480a7e195e9538db2ced2f4}} 
struct \mbox{\hyperlink{structambapp__dev}{ambapp\+\_\+dev}} $\ast$ {\bfseries G\+R\+L\+I\+B\+\_\+\+Timer\+\_\+\+Adev}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga90ccaec9780d4fb2dc0b545f171d43d2}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga90ccaec9780d4fb2dc0b545f171d43d2}} 
\mbox{\hyperlink{group__ClassicINTRLocks_ga7d4b54b01fd1507aa842d5fbc7b11177}{rtems\+\_\+interrupt\+\_\+lock}} {\bfseries G\+R\+L\+I\+B\+\_\+\+Irq\+Ctrl\+\_\+\+Lock}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A\+M\+BA Plag \& Play Bus Driver Macros. 



\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga9fe326310ef396f3f59afa82b47cfffd}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga9fe326310ef396f3f59afa82b47cfffd}} 
\index{RISC-\/V AMBA Driver Handler@{RISC-\/V AMBA Driver Handler}!GRLIB\_Cpu\_Mask\_interrupt@{GRLIB\_Cpu\_Mask\_interrupt}}
\index{GRLIB\_Cpu\_Mask\_interrupt@{GRLIB\_Cpu\_Mask\_interrupt}!RISC-\/V AMBA Driver Handler@{RISC-\/V AMBA Driver Handler}}
\subsubsection{\texorpdfstring{GRLIB\_Cpu\_Mask\_interrupt}{GRLIB\_Cpu\_Mask\_interrupt}}
{\footnotesize\ttfamily \#define G\+R\+L\+I\+B\+\_\+\+Cpu\+\_\+\+Mask\+\_\+interrupt(\begin{DoxyParamCaption}\item[{}]{\+\_\+source,  }\item[{}]{\+\_\+cpu }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{do} \{ \(\backslash\)}
\DoxyCodeLine{    rtems\_interrupt\_lock\_context \_lock\_context; \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IRQCTRL\_ACQUIRE( \&\_lock\_context ); \(\backslash\)}
\DoxyCodeLine{     GRLIB\_IrqCtrl\_Regs->mask[\_cpu]  \&= ~(1U << (\_source)); \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IRQCTRL\_RELEASE( \&\_lock\_context ); \(\backslash\)}
\DoxyCodeLine{  \} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga66de208a3f4849b8f1aab8ffb360901c}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga66de208a3f4849b8f1aab8ffb360901c}} 
\index{RISC-\/V AMBA Driver Handler@{RISC-\/V AMBA Driver Handler}!GRLIB\_Cpu\_Unmask\_interrupt@{GRLIB\_Cpu\_Unmask\_interrupt}}
\index{GRLIB\_Cpu\_Unmask\_interrupt@{GRLIB\_Cpu\_Unmask\_interrupt}!RISC-\/V AMBA Driver Handler@{RISC-\/V AMBA Driver Handler}}
\subsubsection{\texorpdfstring{GRLIB\_Cpu\_Unmask\_interrupt}{GRLIB\_Cpu\_Unmask\_interrupt}}
{\footnotesize\ttfamily \#define G\+R\+L\+I\+B\+\_\+\+Cpu\+\_\+\+Unmask\+\_\+interrupt(\begin{DoxyParamCaption}\item[{}]{\+\_\+source,  }\item[{}]{\+\_\+cpu }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{do} \{ \(\backslash\)}
\DoxyCodeLine{    rtems\_interrupt\_lock\_context \_lock\_context; \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IRQCTRL\_ACQUIRE( \&\_lock\_context ); \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IrqCtrl\_Regs->mask[\_cpu]  |= (1U << (\_source)); \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IRQCTRL\_RELEASE( \&\_lock\_context ); \(\backslash\)}
\DoxyCodeLine{  \} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga3f9965d4834e9bdc4100bd30800dcec8}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga3f9965d4834e9bdc4100bd30800dcec8}} 
\index{RISC-\/V AMBA Driver Handler@{RISC-\/V AMBA Driver Handler}!GRLIB\_Disable\_interrupt\_broadcast@{GRLIB\_Disable\_interrupt\_broadcast}}
\index{GRLIB\_Disable\_interrupt\_broadcast@{GRLIB\_Disable\_interrupt\_broadcast}!RISC-\/V AMBA Driver Handler@{RISC-\/V AMBA Driver Handler}}
\subsubsection{\texorpdfstring{GRLIB\_Disable\_interrupt\_broadcast}{GRLIB\_Disable\_interrupt\_broadcast}}
{\footnotesize\ttfamily \#define G\+R\+L\+I\+B\+\_\+\+Disable\+\_\+interrupt\+\_\+broadcast(\begin{DoxyParamCaption}\item[{}]{\+\_\+source }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{do} \{ \(\backslash\)}
\DoxyCodeLine{    rtems\_interrupt\_lock\_context \_lock\_context; \(\backslash\)}
\DoxyCodeLine{    uint32\_t \_mask = 1U << ( \_source ); \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IRQCTRL\_ACQUIRE( \&\_lock\_context ); \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IrqCtrl\_Regs->bcast \&= ~\_mask; \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IRQCTRL\_RELEASE( \&\_lock\_context ); \(\backslash\)}
\DoxyCodeLine{  \} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}
\mbox{\Hypertarget{group__RTEMSBSPsRISCVGRLIBAMBA_ga6e2a405cbb1b12c820b045699924ee41}\label{group__RTEMSBSPsRISCVGRLIBAMBA_ga6e2a405cbb1b12c820b045699924ee41}} 
\index{RISC-\/V AMBA Driver Handler@{RISC-\/V AMBA Driver Handler}!GRLIB\_Enable\_interrupt\_broadcast@{GRLIB\_Enable\_interrupt\_broadcast}}
\index{GRLIB\_Enable\_interrupt\_broadcast@{GRLIB\_Enable\_interrupt\_broadcast}!RISC-\/V AMBA Driver Handler@{RISC-\/V AMBA Driver Handler}}
\subsubsection{\texorpdfstring{GRLIB\_Enable\_interrupt\_broadcast}{GRLIB\_Enable\_interrupt\_broadcast}}
{\footnotesize\ttfamily \#define G\+R\+L\+I\+B\+\_\+\+Enable\+\_\+interrupt\+\_\+broadcast(\begin{DoxyParamCaption}\item[{}]{\+\_\+source }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordflow}{do} \{ \(\backslash\)}
\DoxyCodeLine{    rtems\_interrupt\_lock\_context \_lock\_context; \(\backslash\)}
\DoxyCodeLine{    uint32\_t \_mask = 1U << ( \_source ); \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IRQCTRL\_ACQUIRE( \&\_lock\_context ); \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IrqCtrl\_Regs->bcast |= \_mask; \(\backslash\)}
\DoxyCodeLine{    GRLIB\_IRQCTRL\_RELEASE( \&\_lock\_context ); \(\backslash\)}
\DoxyCodeLine{  \} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}
