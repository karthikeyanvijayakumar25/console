\hypertarget{arm_2beagle_2spi_2spi_8c}{}\section{bsps/arm/beagle/spi/spi.c File Reference}
\label{arm_2beagle_2spi_2spi_8c}\index{bsps/arm/beagle/spi/spi.c@{bsps/arm/beagle/spi/spi.c}}


Beagle\+Board S\+PI bus initialization and A\+PI Support.  


{\ttfamily \#include $<$bsp.\+h$>$}\newline
{\ttfamily \#include $<$bsp/bbb-\/gpio.\+h$>$}\newline
{\ttfamily \#include $<$bsp/spi.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$rtems/bsp\+Io.\+h$>$}\newline
{\ttfamily \#include $<$rtems/error.\+h$>$}\newline
{\ttfamily \#include $<$rtems/libi2c.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{arm_2beagle_2spi_2spi_8c_ad7a21baaf3a1ae311bf28758581cdf8a}\label{arm_2beagle_2spi_2spi_8c_ad7a21baaf3a1ae311bf28758581cdf8a}} 
\#define {\bfseries E\+V\+E\+N\+T\+\_\+\+T\+X\+E\+M\+P\+TY}~\mbox{\hyperlink{group__ClassicEventSet_ga40310258a3cbe2bef8420158c59f6acc}{R\+T\+E\+M\+S\+\_\+\+E\+V\+E\+N\+T\+\_\+0}}
\item 
\mbox{\Hypertarget{arm_2beagle_2spi_2spi_8c_acd777af384fdf4b73992038b7a700314}\label{arm_2beagle_2spi_2spi_8c_acd777af384fdf4b73992038b7a700314}} 
\#define {\bfseries E\+V\+E\+N\+T\+\_\+\+R\+X\+F\+U\+LL}~\mbox{\hyperlink{group__ClassicEventSet_ga9f027021d0070d4f9e35cccb41029e2d}{R\+T\+E\+M\+S\+\_\+\+E\+V\+E\+N\+T\+\_\+1}}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{arm_2beagle_2spi_2spi_8c_a46b6931174da95854b4eafca3edae0a6}\label{arm_2beagle_2spi_2spi_8c_a46b6931174da95854b4eafca3edae0a6}} 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} {\bfseries beagle\+\_\+spi\+\_\+init} (\mbox{\hyperlink{structrtems__libi2c__bus__t__}{rtems\+\_\+libi2c\+\_\+bus\+\_\+t}} $\ast$bh)
\item 
\mbox{\Hypertarget{arm_2beagle_2spi_2spi_8c_a61f08cef2d28a4bfb05390f20c446c96}\label{arm_2beagle_2spi_2spi_8c_a61f08cef2d28a4bfb05390f20c446c96}} 
int {\bfseries beagle\+\_\+spi\+\_\+read\+\_\+bytes} (\mbox{\hyperlink{structrtems__libi2c__bus__t__}{rtems\+\_\+libi2c\+\_\+bus\+\_\+t}} $\ast$bh, unsigned char $\ast$buf, int len)
\item 
\mbox{\Hypertarget{arm_2beagle_2spi_2spi_8c_a436ab16e8a92eea38bbcade842b075b3}\label{arm_2beagle_2spi_2spi_8c_a436ab16e8a92eea38bbcade842b075b3}} 
int {\bfseries beagle\+\_\+spi\+\_\+write\+\_\+bytes} (\mbox{\hyperlink{structrtems__libi2c__bus__t__}{rtems\+\_\+libi2c\+\_\+bus\+\_\+t}} $\ast$bh, unsigned char $\ast$buf, int len)
\item 
\mbox{\Hypertarget{arm_2beagle_2spi_2spi_8c_aa8335421bda9696f8dabce6cc6bdb444}\label{arm_2beagle_2spi_2spi_8c_aa8335421bda9696f8dabce6cc6bdb444}} 
int {\bfseries beagle\+\_\+spi\+\_\+ioctl} (\mbox{\hyperlink{structrtems__libi2c__bus__t__}{rtems\+\_\+libi2c\+\_\+bus\+\_\+t}} $\ast$bh, int cmd, void $\ast$arg)
\item 
\mbox{\Hypertarget{arm_2beagle_2spi_2spi_8c_a314f977c8cd2f9224ceaf11645788bb6}\label{arm_2beagle_2spi_2spi_8c_a314f977c8cd2f9224ceaf11645788bb6}} 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} {\bfseries bsp\+\_\+register\+\_\+spi} (const char $\ast$bus\+\_\+path, uintptr\+\_\+t register\+\_\+base, \mbox{\hyperlink{group__ClassicINTR_ga3e434c197d99f128e78cae4d9358bd8b}{rtems\+\_\+vector\+\_\+number}} irq)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structrtems__libi2c__bus__ops__}{rtems\+\_\+libi2c\+\_\+bus\+\_\+ops\+\_\+t}} {\bfseries bsp\+\_\+spi\+\_\+ops}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Beagle\+Board S\+PI bus initialization and A\+PI Support. 

Based on bsps/m68k/gen68360/spi/m360\+\_\+spi.\+c 

\subsection{Variable Documentation}
\mbox{\Hypertarget{arm_2beagle_2spi_2spi_8c_a997182401da3e9b554769e8fd3668f70}\label{arm_2beagle_2spi_2spi_8c_a997182401da3e9b554769e8fd3668f70}} 
\index{spi.c@{spi.c}!bsp\_spi\_ops@{bsp\_spi\_ops}}
\index{bsp\_spi\_ops@{bsp\_spi\_ops}!spi.c@{spi.c}}
\subsubsection{\texorpdfstring{bsp\_spi\_ops}{bsp\_spi\_ops}}
{\footnotesize\ttfamily \mbox{\hyperlink{structrtems__libi2c__bus__ops__}{rtems\+\_\+libi2c\+\_\+bus\+\_\+ops\+\_\+t}} bsp\+\_\+spi\+\_\+ops}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{  init:             beagle\_spi\_init,}
\DoxyCodeLine{  send\_start:       bsp\_spi\_send\_start\_dummy,}
\DoxyCodeLine{  send\_stop:        bsp\_spi\_send\_stop,}
\DoxyCodeLine{  send\_addr:        bsp\_spi\_sel\_addr,}
\DoxyCodeLine{  read\_bytes:       beagle\_spi\_read\_bytes,}
\DoxyCodeLine{  write\_bytes:      beagle\_spi\_write\_bytes,}
\DoxyCodeLine{  ioctl:            beagle\_spi\_ioctl}
\DoxyCodeLine{\}}

\end{DoxyCode}
