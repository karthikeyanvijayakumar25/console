\hypertarget{structi2c__bus}{}\section{i2c\+\_\+bus Struct Reference}
\label{structi2c__bus}\index{i2c\_bus@{i2c\_bus}}


I2C bus control.  




{\ttfamily \#include $<$i2c.\+h$>$}

\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
int($\ast$ \mbox{\hyperlink{structi2c__bus_ac32f1437ec3a0f45b21e7cd0cba50572}{transfer}} )(\mbox{\hyperlink{structi2c__bus}{i2c\+\_\+bus}} $\ast$bus, \mbox{\hyperlink{structi2c__msg}{i2c\+\_\+msg}} $\ast$msgs, uint32\+\_\+t msg\+\_\+count)
\begin{DoxyCompactList}\small\item\em Transfers I2C messages. \end{DoxyCompactList}\item 
int($\ast$ \mbox{\hyperlink{structi2c__bus_aba2252a8dc8354c1faf7c2ca97b71278}{set\+\_\+clock}} )(\mbox{\hyperlink{structi2c__bus}{i2c\+\_\+bus}} $\ast$bus, unsigned long clock)
\begin{DoxyCompactList}\small\item\em Sets the bus clock. \end{DoxyCompactList}\item 
void($\ast$ \mbox{\hyperlink{structi2c__bus_a3ab526a3de62eab7cc4419bd6c974685}{destroy}} )(\mbox{\hyperlink{structi2c__bus}{i2c\+\_\+bus}} $\ast$bus)
\begin{DoxyCompactList}\small\item\em Destroys the bus. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structi2c__bus_a9d6c8ca0f1214537d9106798174883b2}\label{structi2c__bus_a9d6c8ca0f1214537d9106798174883b2}} 
rtems\+\_\+recursive\+\_\+mutex \mbox{\hyperlink{structi2c__bus_a9d6c8ca0f1214537d9106798174883b2}{mutex}}
\begin{DoxyCompactList}\small\item\em Mutex to protect the bus access. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structi2c__bus_a6d97e17a4e4ec8bd78b326eadc96a432}\label{structi2c__bus_a6d97e17a4e4ec8bd78b326eadc96a432}} 
uint16\+\_\+t \mbox{\hyperlink{structi2c__bus_a6d97e17a4e4ec8bd78b326eadc96a432}{default\+\_\+address}}
\begin{DoxyCompactList}\small\item\em Default slave device address. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structi2c__bus_ae4344ac55a8115945ade4d4e5fb02a00}\label{structi2c__bus_ae4344ac55a8115945ade4d4e5fb02a00}} 
bool \mbox{\hyperlink{structi2c__bus_ae4344ac55a8115945ade4d4e5fb02a00}{ten\+\_\+bit\+\_\+address}}
\begin{DoxyCompactList}\small\item\em Use 10-\/bit addresses. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structi2c__bus_a77094668f02c93add1dd78a28a4c40b6}\label{structi2c__bus_a77094668f02c93add1dd78a28a4c40b6}} 
bool \mbox{\hyperlink{structi2c__bus_a77094668f02c93add1dd78a28a4c40b6}{use\+\_\+pec}}
\begin{DoxyCompactList}\small\item\em Use S\+M\+Bus P\+EC. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structi2c__bus_a2b023bc6bcfd4926e91d336a5a825e1b}\label{structi2c__bus_a2b023bc6bcfd4926e91d336a5a825e1b}} 
unsigned long \mbox{\hyperlink{structi2c__bus_a2b023bc6bcfd4926e91d336a5a825e1b}{retries}}
\begin{DoxyCompactList}\small\item\em Transfer retry count. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structi2c__bus_a3370d4dbf13e0b19e2af3d41a2b18482}\label{structi2c__bus_a3370d4dbf13e0b19e2af3d41a2b18482}} 
\mbox{\hyperlink{group__ClassicTasks_gad39c43f949683d46874e3a5586b93aee}{rtems\+\_\+interval}} \mbox{\hyperlink{structi2c__bus_a3370d4dbf13e0b19e2af3d41a2b18482}{timeout}}
\begin{DoxyCompactList}\small\item\em Transaction timeout in ticks. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structi2c__bus_a060c73e570a86c2ecb20dbcfeebf528d}\label{structi2c__bus_a060c73e570a86c2ecb20dbcfeebf528d}} 
unsigned long \mbox{\hyperlink{structi2c__bus_a060c73e570a86c2ecb20dbcfeebf528d}{functionality}}
\begin{DoxyCompactList}\small\item\em Controller functionality. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
I2C bus control. 

\subsection{Field Documentation}
\mbox{\Hypertarget{structi2c__bus_a3ab526a3de62eab7cc4419bd6c974685}\label{structi2c__bus_a3ab526a3de62eab7cc4419bd6c974685}} 
\index{i2c\_bus@{i2c\_bus}!destroy@{destroy}}
\index{destroy@{destroy}!i2c\_bus@{i2c\_bus}}
\subsubsection{\texorpdfstring{destroy}{destroy}}
{\footnotesize\ttfamily void($\ast$ i2c\+\_\+bus\+::destroy) (\mbox{\hyperlink{structi2c__bus}{i2c\+\_\+bus}} $\ast$bus)}



Destroys the bus. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bus} & The bus control. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{structi2c__bus_aba2252a8dc8354c1faf7c2ca97b71278}\label{structi2c__bus_aba2252a8dc8354c1faf7c2ca97b71278}} 
\index{i2c\_bus@{i2c\_bus}!set\_clock@{set\_clock}}
\index{set\_clock@{set\_clock}!i2c\_bus@{i2c\_bus}}
\subsubsection{\texorpdfstring{set\_clock}{set\_clock}}
{\footnotesize\ttfamily int($\ast$ i2c\+\_\+bus\+::set\+\_\+clock) (\mbox{\hyperlink{structi2c__bus}{i2c\+\_\+bus}} $\ast$bus, unsigned long clock)}



Sets the bus clock. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bus} & The bus control. \\
\hline
\mbox{\texttt{ in}}  & {\em clock} & The desired bus clock in Hz.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em negative} & Negative error number in case of an error. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{structi2c__bus_ac32f1437ec3a0f45b21e7cd0cba50572}\label{structi2c__bus_ac32f1437ec3a0f45b21e7cd0cba50572}} 
\index{i2c\_bus@{i2c\_bus}!transfer@{transfer}}
\index{transfer@{transfer}!i2c\_bus@{i2c\_bus}}
\subsubsection{\texorpdfstring{transfer}{transfer}}
{\footnotesize\ttfamily int($\ast$ i2c\+\_\+bus\+::transfer) (\mbox{\hyperlink{structi2c__bus}{i2c\+\_\+bus}} $\ast$bus, \mbox{\hyperlink{structi2c__msg}{i2c\+\_\+msg}} $\ast$msgs, uint32\+\_\+t msg\+\_\+count)}



Transfers I2C messages. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bus} & The bus control. \\
\hline
\mbox{\texttt{ in}}  & {\em msgs} & The messages to transfer. \\
\hline
\mbox{\texttt{ in}}  & {\em msg\+\_\+count} & The count of messages to transfer. It must be positive.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em negative} & Negative error number in case of an error. \\
\hline
\end{DoxyRetVals}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
cpukit/include/dev/i2c/\mbox{\hyperlink{cpukit_2include_2dev_2i2c_2i2c_8h}{i2c.\+h}}\end{DoxyCompactItemize}
