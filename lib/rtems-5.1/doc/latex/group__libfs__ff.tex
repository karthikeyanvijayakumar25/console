\hypertarget{group__libfs__ff}{}\section{Fat File}
\label{group__libfs__ff}\index{Fat File@{Fat File}}
\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \mbox{\hyperlink{fat__file_8c}{fat\+\_\+file.\+c}}
\begin{DoxyCompactList}\small\item\em General operations on \char`\"{}fat-\/file\char`\"{}. \end{DoxyCompactList}\item 
file \mbox{\hyperlink{fat__file_8h}{fat\+\_\+file.\+h}}
\begin{DoxyCompactList}\small\item\em Constants/\+Data Structures/\+Prototypes for Operations on \char`\"{}fat-\/file\char`\"{}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structfat__file__map__s}{fat\+\_\+file\+\_\+map\+\_\+s}}
\begin{DoxyCompactList}\small\item\em The \char`\"{}fat-\/file\char`\"{} representation. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structfat__file__fd__s}{fat\+\_\+file\+\_\+fd\+\_\+s}}
\begin{DoxyCompactList}\small\item\em Descriptor of a fat-\/file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__libfs__ff_ga9a993f7a2a73e16b401cdb3c41666193}\label{group__libfs__ff_ga9a993f7a2a73e16b401cdb3c41666193}} 
\#define {\bfseries F\+A\+T\+\_\+\+F\+I\+L\+E\+\_\+\+R\+E\+M\+O\+V\+ED}~0x01
\item 
\mbox{\Hypertarget{group__libfs__ff_gac4376a84c2a497345f2605a163a1a6bf}\label{group__libfs__ff_gac4376a84c2a497345f2605a163a1a6bf}} 
\#define {\bfseries F\+A\+T\+\_\+\+F\+I\+L\+E\+\_\+\+M\+E\+T\+A\+\_\+\+D\+A\+T\+A\+\_\+\+C\+H\+A\+N\+G\+ED}~0x02
\item 
\mbox{\Hypertarget{group__libfs__ff_ga3a947670df0e7846185638b2ddf07725}\label{group__libfs__ff_ga3a947670df0e7846185638b2ddf07725}} 
\#define {\bfseries F\+\_\+\+C\+L\+U\+\_\+\+N\+UM}~0x01
\item 
\mbox{\Hypertarget{group__libfs__ff_ga86d30980a18e05a1d13f8c8b626dc86a}\label{group__libfs__ff_ga86d30980a18e05a1d13f8c8b626dc86a}} 
\#define {\bfseries F\+A\+T\+\_\+\+R\+O\+O\+T\+D\+I\+R\+\_\+\+C\+L\+U\+S\+T\+E\+R\+\_\+\+N\+UM}~0x01
\item 
\#define {\bfseries F\+A\+T\+\_\+\+F\+D\+\_\+\+O\+F\+\_\+\+R\+O\+O\+T\+\_\+\+D\+IR}(fat\+\_\+fd)
\item 
\mbox{\Hypertarget{group__libfs__ff_ga6546c12ad09d8a707d32a7d9bd3a0acc}\label{group__libfs__ff_ga6546c12ad09d8a707d32a7d9bd3a0acc}} 
\#define {\bfseries F\+A\+T\+\_\+\+E\+OF}~0x00
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structfat__file__map__s}{fat\+\_\+file\+\_\+map\+\_\+s}} \mbox{\hyperlink{group__libfs__ff_gab16eea01f8ddea275cd616cc28082ff8}{fat\+\_\+file\+\_\+map\+\_\+t}}
\begin{DoxyCompactList}\small\item\em The \char`\"{}fat-\/file\char`\"{} representation. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structfat__file__fd__s}{fat\+\_\+file\+\_\+fd\+\_\+s}} \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Descriptor of a fat-\/file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__libfs__ff_gac74c41b0ee6699afd65a52107ac492ee}\label{group__libfs__ff_gac74c41b0ee6699afd65a52107ac492ee}} 
enum {\bfseries fat\+\_\+file\+\_\+type\+\_\+t} \{ {\bfseries F\+A\+T\+\_\+\+D\+I\+R\+E\+C\+T\+O\+RY} = 0, 
{\bfseries F\+A\+T\+\_\+\+H\+A\+R\+D\+\_\+\+L\+I\+NK} = 2, 
{\bfseries F\+A\+T\+\_\+\+F\+I\+LE} = 4
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__libfs__ff_gaa84d7c17cb4472bfc5f3508c4297584b}\label{group__libfs__ff_gaa84d7c17cb4472bfc5f3508c4297584b}} 
int {\bfseries fat\+\_\+file\+\_\+open} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{structfat__dir__pos__s}{fat\+\_\+dir\+\_\+pos\+\_\+t}} $\ast$dir\+\_\+pos, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$$\ast$fat\+\_\+fd)
\item 
\mbox{\Hypertarget{group__libfs__ff_ga670f99a4b6502ac7f2b069074ba57dcb}\label{group__libfs__ff_ga670f99a4b6502ac7f2b069074ba57dcb}} 
int {\bfseries fat\+\_\+file\+\_\+reopen} (\mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd)
\item 
\mbox{\Hypertarget{group__libfs__ff_ga9593edd203b7d420e4816672b72b8c89}\label{group__libfs__ff_ga9593edd203b7d420e4816672b72b8c89}} 
int {\bfseries fat\+\_\+file\+\_\+close} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd)
\item 
\mbox{\Hypertarget{group__libfs__ff_ga594f426ebc7d6e788f271701485ad825}\label{group__libfs__ff_ga594f426ebc7d6e788f271701485ad825}} 
ssize\+\_\+t {\bfseries fat\+\_\+file\+\_\+read} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd, uint32\+\_\+t start, uint32\+\_\+t count, uint8\+\_\+t $\ast$buf)
\item 
\mbox{\Hypertarget{group__libfs__ff_ga2cb92684053d7fc5036bc5f03e72d066}\label{group__libfs__ff_ga2cb92684053d7fc5036bc5f03e72d066}} 
ssize\+\_\+t {\bfseries fat\+\_\+file\+\_\+write} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd, uint32\+\_\+t start, uint32\+\_\+t count, const uint8\+\_\+t $\ast$buf)
\item 
\mbox{\Hypertarget{group__libfs__ff_ga12e8cfa7766516d1add39d8e6584cf95}\label{group__libfs__ff_ga12e8cfa7766516d1add39d8e6584cf95}} 
int {\bfseries fat\+\_\+file\+\_\+extend} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd, bool zero\+\_\+fill, uint32\+\_\+t new\+\_\+length, uint32\+\_\+t $\ast$a\+\_\+length)
\item 
\mbox{\Hypertarget{group__libfs__ff_gacf1ea9c0618a16b4a6ca07b9b616ad7c}\label{group__libfs__ff_gacf1ea9c0618a16b4a6ca07b9b616ad7c}} 
int {\bfseries fat\+\_\+file\+\_\+truncate} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd, uint32\+\_\+t new\+\_\+length)
\item 
\mbox{\Hypertarget{group__libfs__ff_ga02afb311953f5fbcf63bd8ff0d900632}\label{group__libfs__ff_ga02afb311953f5fbcf63bd8ff0d900632}} 
int {\bfseries fat\+\_\+file\+\_\+ioctl} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd, int cmd,...)
\item 
\mbox{\Hypertarget{group__libfs__ff_gaddbd37c81a2632592436239afacd81fa}\label{group__libfs__ff_gaddbd37c81a2632592436239afacd81fa}} 
int {\bfseries fat\+\_\+file\+\_\+size} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd)
\item 
\mbox{\Hypertarget{group__libfs__ff_gaaeb2a5182b9a593745933f8f6a6cf4f8}\label{group__libfs__ff_gaaeb2a5182b9a593745933f8f6a6cf4f8}} 
void {\bfseries fat\+\_\+file\+\_\+mark\+\_\+removed} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd)
\item 
\mbox{\Hypertarget{group__libfs__ff_ga8cc9a3440f661f761a6a0302dccf1718}\label{group__libfs__ff_ga8cc9a3440f661f761a6a0302dccf1718}} 
int {\bfseries fat\+\_\+file\+\_\+write\+\_\+first\+\_\+cluster\+\_\+num} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd)
\item 
\mbox{\Hypertarget{group__libfs__ff_ga3f13a8b560b28777da670a0797a7fd09}\label{group__libfs__ff_ga3f13a8b560b28777da670a0797a7fd09}} 
int {\bfseries fat\+\_\+file\+\_\+write\+\_\+file\+\_\+size} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd)
\item 
\mbox{\Hypertarget{group__libfs__ff_gac836c18b4fcd4047b33e52abd0b03a8f}\label{group__libfs__ff_gac836c18b4fcd4047b33e52abd0b03a8f}} 
int {\bfseries fat\+\_\+file\+\_\+write\+\_\+time\+\_\+and\+\_\+date} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd)
\item 
\mbox{\Hypertarget{group__libfs__ff_gabfdae4ceb7b98392f254d3d05b33e362}\label{group__libfs__ff_gabfdae4ceb7b98392f254d3d05b33e362}} 
int {\bfseries fat\+\_\+file\+\_\+update} (\mbox{\hyperlink{structfat__fs__info__s}{fat\+\_\+fs\+\_\+info\+\_\+t}} $\ast$fs\+\_\+info, \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}} $\ast$fat\+\_\+fd)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__libfs__ff_gaf1bc6a551a5b68f969e8658a172ab979}\label{group__libfs__ff_gaf1bc6a551a5b68f969e8658a172ab979}} 
\index{Fat File@{Fat File}!FAT\_FD\_OF\_ROOT\_DIR@{FAT\_FD\_OF\_ROOT\_DIR}}
\index{FAT\_FD\_OF\_ROOT\_DIR@{FAT\_FD\_OF\_ROOT\_DIR}!Fat File@{Fat File}}
\subsubsection{\texorpdfstring{FAT\_FD\_OF\_ROOT\_DIR}{FAT\_FD\_OF\_ROOT\_DIR}}
{\footnotesize\ttfamily \#define F\+A\+T\+\_\+\+F\+D\+\_\+\+O\+F\+\_\+\+R\+O\+O\+T\+\_\+\+D\+IR(\begin{DoxyParamCaption}\item[{}]{fat\+\_\+fd }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{((fat\_fd->dir\_pos.sname.cln == FAT\_ROOTDIR\_CLUSTER\_NUM) \&\& \(\backslash\)}
\DoxyCodeLine{  (fat\_fd->dir\_pos.sname.ofs == 0))}

\end{DoxyCode}


\subsection{Typedef Documentation}
\mbox{\Hypertarget{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}\label{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}} 
\index{Fat File@{Fat File}!fat\_file\_fd\_t@{fat\_file\_fd\_t}}
\index{fat\_file\_fd\_t@{fat\_file\_fd\_t}!Fat File@{Fat File}}
\subsubsection{\texorpdfstring{fat\_file\_fd\_t}{fat\_file\_fd\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structfat__file__fd__s}{fat\+\_\+file\+\_\+fd\+\_\+s}}  \mbox{\hyperlink{group__libfs__ff_gaa53f9c544914509505e3cfbd3796f877}{fat\+\_\+file\+\_\+fd\+\_\+t}}}



Descriptor of a fat-\/file. 

To each particular clusters chain \mbox{\Hypertarget{group__libfs__ff_gab16eea01f8ddea275cd616cc28082ff8}\label{group__libfs__ff_gab16eea01f8ddea275cd616cc28082ff8}} 
\index{Fat File@{Fat File}!fat\_file\_map\_t@{fat\_file\_map\_t}}
\index{fat\_file\_map\_t@{fat\_file\_map\_t}!Fat File@{Fat File}}
\subsubsection{\texorpdfstring{fat\_file\_map\_t}{fat\_file\_map\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structfat__file__map__s}{fat\+\_\+file\+\_\+map\+\_\+s}}  \mbox{\hyperlink{group__libfs__ff_gab16eea01f8ddea275cd616cc28082ff8}{fat\+\_\+file\+\_\+map\+\_\+t}}}



The \char`\"{}fat-\/file\char`\"{} representation. 

the idea is\+: fat-\/file is nothing but a cluster chain, any open fat-\/file is represented in system by fat-\/file descriptor and has well-\/known file interface\+:

fat\+\_\+file\+\_\+open() fat\+\_\+file\+\_\+close() fat\+\_\+file\+\_\+read() fat\+\_\+file\+\_\+write()

Such interface hides the architecture of fat-\/file and represents it like linear file 