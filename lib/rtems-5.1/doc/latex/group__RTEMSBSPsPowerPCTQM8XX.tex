\hypertarget{group__RTEMSBSPsPowerPCTQM8XX}{}\section{T\+Q\+M8\+XX}
\label{group__RTEMSBSPsPowerPCTQM8XX}\index{TQM8XX@{TQM8XX}}


T\+Q\+M8\+XX Board Support Package.  


\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \mbox{\hyperlink{bsps_2powerpc_2tqm8xx_2include_2bsp_8h}{bsp.\+h}}
\begin{DoxyCompactList}\small\item\em Global B\+SP definitions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gac7d594b9c1d86dee7927067af792ca34}\label{group__RTEMSBSPsPowerPCTQM8XX_gac7d594b9c1d86dee7927067af792ca34}} 
\#define {\bfseries B\+S\+P\+\_\+\+H\+A\+S\+\_\+\+T\+Q\+M\+M\+ON}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga97834ea41edc77b53711fd3004fa0a41}\label{group__RTEMSBSPsPowerPCTQM8XX_ga97834ea41edc77b53711fd3004fa0a41}} 
\#define {\bfseries N\+O\+C\+A\+C\+H\+E\+\_\+\+M\+E\+M\+\_\+\+S\+I\+ZE}~512$\ast$1024
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga8ed1f4614c64c31b651a9f61d2db97dd}\label{group__RTEMSBSPsPowerPCTQM8XX_ga8ed1f4614c64c31b651a9f61d2db97dd}} 
\#define {\bfseries P\+G\+H\+P\+L\+U\+S\+\_\+\+S\+P\+I\+\_\+\+A\+D\+D\+R\+\_\+\+E\+E\+P\+R\+OM}~0
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gac896e4683fe411dd1ce096c0875c7254}\label{group__RTEMSBSPsPowerPCTQM8XX_gac896e4683fe411dd1ce096c0875c7254}} 
\#define {\bfseries P\+G\+H\+P\+L\+U\+S\+\_\+\+S\+P\+I\+\_\+\+A\+D\+D\+R\+\_\+\+D\+I\+S\+P4}~1
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga2d8c01f62f074dde6aa4216ae55982b3}\label{group__RTEMSBSPsPowerPCTQM8XX_ga2d8c01f62f074dde6aa4216ae55982b3}} 
\#define {\bfseries P\+G\+H\+P\+L\+U\+S\+\_\+\+S\+P\+I\+\_\+\+A\+D\+D\+R\+\_\+\+D\+I\+S\+P4\+\_\+\+D\+A\+TA}~(P\+G\+H\+P\+L\+U\+S\+\_\+\+S\+P\+I\+\_\+\+A\+D\+D\+R\+\_\+\+D\+I\+S\+P4)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gaffea38cdf3b723163cc9cb3a086f85eb}\label{group__RTEMSBSPsPowerPCTQM8XX_gaffea38cdf3b723163cc9cb3a086f85eb}} 
\#define {\bfseries P\+G\+H\+P\+L\+U\+S\+\_\+\+S\+P\+I\+\_\+\+A\+D\+D\+R\+\_\+\+D\+I\+S\+P4\+\_\+\+C\+T\+RL}~(P\+G\+H\+P\+L\+U\+S\+\_\+\+S\+P\+I\+\_\+\+A\+D\+D\+R\+\_\+\+D\+I\+S\+P4\+\_\+\+D\+A\+TA+1)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gaa06f0dc50fc7860284d97df9cf6bf075}\label{group__RTEMSBSPsPowerPCTQM8XX_gaa06f0dc50fc7860284d97df9cf6bf075}} 
\#define {\bfseries P\+G\+H\+P\+L\+U\+S\+\_\+\+P\+B\+\_\+\+S\+P\+I\+\_\+\+E\+E\+P\+\_\+\+C\+E\+\_\+\+M\+SK}~(1$<$$<$ 0)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga3282814ae0fc8197c61fdb2dfce43562}\label{group__RTEMSBSPsPowerPCTQM8XX_ga3282814ae0fc8197c61fdb2dfce43562}} 
\#define {\bfseries P\+G\+H\+P\+L\+U\+S\+\_\+\+P\+B\+\_\+\+S\+P\+I\+\_\+\+D\+I\+S\+P4\+\_\+\+R\+S\+\_\+\+M\+SK}~(1$<$$<$15)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gad0b44e28abf051cb90720d52ff777de6}\label{group__RTEMSBSPsPowerPCTQM8XX_gad0b44e28abf051cb90720d52ff777de6}} 
\#define {\bfseries P\+G\+H\+P\+L\+U\+S\+\_\+\+P\+B\+\_\+\+S\+P\+I\+\_\+\+D\+I\+S\+P4\+\_\+\+C\+E\+\_\+\+M\+SK}~(1$<$$<$14)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga77c9d82c79ced711d8bb6cbb61f73806}\label{group__RTEMSBSPsPowerPCTQM8XX_ga77c9d82c79ced711d8bb6cbb61f73806}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (Top\+Ram\+Reserved)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga392610c3b98525eadd0ff0a552be0f55}\label{group__RTEMSBSPsPowerPCTQM8XX_ga392610c3b98525eadd0ff0a552be0f55}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+ram\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga9b74695d25dc36b9601e9ed474465f3d}\label{group__RTEMSBSPsPowerPCTQM8XX_ga9b74695d25dc36b9601e9ed474465f3d}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+ram\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga2cbfaf0e1778b1b120561ac398b93829}\label{group__RTEMSBSPsPowerPCTQM8XX_ga2cbfaf0e1778b1b120561ac398b93829}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+ram\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga5b98bad744c4219bddb71b88d40f3009}\label{group__RTEMSBSPsPowerPCTQM8XX_ga5b98bad744c4219bddb71b88d40f3009}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+rom\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gac19a9b4ebdfb674aae111a9dc84c883e}\label{group__RTEMSBSPsPowerPCTQM8XX_gac19a9b4ebdfb674aae111a9dc84c883e}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+rom\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga50ee0195c766ce222c8e6c9f885587f4}\label{group__RTEMSBSPsPowerPCTQM8XX_ga50ee0195c766ce222c8e6c9f885587f4}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+rom\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga5933fe3f247ec1f3fe969eca69acf4a0}\label{group__RTEMSBSPsPowerPCTQM8XX_ga5933fe3f247ec1f3fe969eca69acf4a0}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+text\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga31346d676f01a19b1c12465c35e9d67b}\label{group__RTEMSBSPsPowerPCTQM8XX_ga31346d676f01a19b1c12465c35e9d67b}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+text\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga1432c81417a50518cc70ec68e245be70}\label{group__RTEMSBSPsPowerPCTQM8XX_ga1432c81417a50518cc70ec68e245be70}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+text\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga65a37e076a3a32fddc8400e15f0f6597}\label{group__RTEMSBSPsPowerPCTQM8XX_ga65a37e076a3a32fddc8400e15f0f6597}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+data\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gaa458efd8fb3c88b1cb72245f9957c4d7}\label{group__RTEMSBSPsPowerPCTQM8XX_gaa458efd8fb3c88b1cb72245f9957c4d7}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+data\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga96979d71ae4f8f60b8991140043c3549}\label{group__RTEMSBSPsPowerPCTQM8XX_ga96979d71ae4f8f60b8991140043c3549}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+data\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga4e10b3b34aff8d6b14109c18a180ad9f}\label{group__RTEMSBSPsPowerPCTQM8XX_ga4e10b3b34aff8d6b14109c18a180ad9f}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+bss\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga24e90eba27e3b9e3710c3a0e59d02cb1}\label{group__RTEMSBSPsPowerPCTQM8XX_ga24e90eba27e3b9e3710c3a0e59d02cb1}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+bss\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga58bcfd4c9250422eaf14e0c1315cb497}\label{group__RTEMSBSPsPowerPCTQM8XX_ga58bcfd4c9250422eaf14e0c1315cb497}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+bss\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga4996e27f277924c49b95516b59bbc86e}\label{group__RTEMSBSPsPowerPCTQM8XX_ga4996e27f277924c49b95516b59bbc86e}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+work\+\_\+area\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga5b6f7a1b73b76ef80251fd770905d0c1}\label{group__RTEMSBSPsPowerPCTQM8XX_ga5b6f7a1b73b76ef80251fd770905d0c1}} 
int {\bfseries B\+S\+P\+\_\+disconnect\+\_\+clock\+\_\+handler} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga599cfd44397bd0b9cc32fee779692d22}\label{group__RTEMSBSPsPowerPCTQM8XX_ga599cfd44397bd0b9cc32fee779692d22}} 
int {\bfseries B\+S\+P\+\_\+connect\+\_\+clock\+\_\+handler} (rtems\+\_\+irq\+\_\+hdl)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga39cac08164ba66cb0d3cc151ad25d69e}\label{group__RTEMSBSPsPowerPCTQM8XX_ga39cac08164ba66cb0d3cc151ad25d69e}} 
char {\bfseries serial\+\_\+getc} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gad35e7510023ead2cdd1089c3a94dae38}\label{group__RTEMSBSPsPowerPCTQM8XX_gad35e7510023ead2cdd1089c3a94dae38}} 
int {\bfseries serial\+\_\+tstc} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gad2b461e9e9044364a28a61cfadcacdd8}\label{group__RTEMSBSPsPowerPCTQM8XX_gad2b461e9e9044364a28a61cfadcacdd8}} 
void {\bfseries serial\+\_\+init} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gaf263dd0a3978e2b8bc5dd00a102eb1fb}\label{group__RTEMSBSPsPowerPCTQM8XX_gaf263dd0a3978e2b8bc5dd00a102eb1fb}} 
int {\bfseries mbx8xx\+\_\+console\+\_\+get\+\_\+configuration} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gaca92747603893c8e9bab0b641e5f63cc}\label{group__RTEMSBSPsPowerPCTQM8XX_gaca92747603893c8e9bab0b641e5f63cc}} 
void {\bfseries \+\_\+\+Init\+T\+Q\+M8xx} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga98f0443fb8880a53f25c0f99ba9aa981}\label{group__RTEMSBSPsPowerPCTQM8XX_ga98f0443fb8880a53f25c0f99ba9aa981}} 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} {\bfseries bsp\+\_\+register\+\_\+spi} (void)
\item 
void $\ast$ \mbox{\hyperlink{group__RTEMSBSPsPowerPCTQM8XX_ga301be7085b80c41a9c5887247003c662}{bsp\+\_\+idle\+\_\+thread}} (uintptr\+\_\+t ignored)
\begin{DoxyCompactList}\small\item\em Optimized idle task. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga560ad8614ae03841a10b489f4370bc51}\label{group__RTEMSBSPsPowerPCTQM8XX_ga560ad8614ae03841a10b489f4370bc51}} 
void {\bfseries cpu\+\_\+init} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gaf366f38cbf1842979ad68538f1e61303}\label{group__RTEMSBSPsPowerPCTQM8XX_gaf366f38cbf1842979ad68538f1e61303}} 
uint32\+\_\+t {\bfseries B\+S\+P\+\_\+bus\+\_\+frequency}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_gad74f56ed41b30c182c84b50f023e2ca5}\label{group__RTEMSBSPsPowerPCTQM8XX_gad74f56ed41b30c182c84b50f023e2ca5}} 
uint32\+\_\+t \mbox{\hyperlink{group__RTEMSBSPsPowerPCTQM8XX_gad74f56ed41b30c182c84b50f023e2ca5}{bsp\+\_\+clock\+\_\+speed}}
\begin{DoxyCompactList}\small\item\em System clock frequency. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
T\+Q\+M8\+XX Board Support Package. 



\subsection{Function Documentation}
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCTQM8XX_ga301be7085b80c41a9c5887247003c662}\label{group__RTEMSBSPsPowerPCTQM8XX_ga301be7085b80c41a9c5887247003c662}} 
\index{TQM8XX@{TQM8XX}!bsp\_idle\_thread@{bsp\_idle\_thread}}
\index{bsp\_idle\_thread@{bsp\_idle\_thread}!TQM8XX@{TQM8XX}}
\subsubsection{\texorpdfstring{bsp\_idle\_thread()}{bsp\_idle\_thread()}}
{\footnotesize\ttfamily void$\ast$ bsp\+\_\+idle\+\_\+thread (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{ignored }\end{DoxyParamCaption})}



Optimized idle task. 

This B\+SP provides its own I\+D\+LE thread to override the R\+T\+E\+MS one.

This idle task sets the power mode to idle. This causes the processor clock to be stopped, while on-\/chip peripherals remain active. Any enabled interrupt from a peripheral or an external interrupt source will cause the processor to resume execution.

To enable the idle task use the following in the system configuration\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <bsp.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_INIT}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_IDLE\_TASK\_BODY bsp\_idle\_thread}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{confdefs_8h}{confdefs.h}}>}}
\end{DoxyCode}


This B\+SP provides its own I\+D\+LE thread to override the R\+T\+E\+MS one.

Optimized idle task.

The M\+SR\mbox{[}P\+OW\mbox{]} bit is set to put the C\+PU into the low power mode defined in H\+I\+D0. H\+I\+D0 is set during starup in start.\+S.

This B\+SP provides its own I\+D\+LE thread to override the R\+T\+E\+MS one.

This idle task sets the power mode to idle. This causes the processor clock to be stopped, while on-\/chip peripherals remain active. Any enabled interrupt from a peripheral or an external interrupt source will cause the processor to resume execution.

To enable the idle task use the following in the system configuration\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <bsp.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_INIT}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_IDLE\_TASK\_BODY bsp\_idle\_thread}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{confdefs_8h}{confdefs.h}}>}}
\end{DoxyCode}


Optimized idle task.

The M\+SR\mbox{[}P\+OW\mbox{]} bit is set to put the C\+PU into the low power mode defined in H\+I\+D0. H\+I\+D0 is set during starup in start.\+S. 