\hypertarget{rtl-sym_8c}{}\section{cpukit/libdl/rtl-\/sym.c File Reference}
\label{rtl-sym_8c}\index{cpukit/libdl/rtl-\/sym.c@{cpukit/libdl/rtl-\/sym.c}}


R\+T\+E\+MS Run-\/\+Time Linker Object File Symbol Table.  


{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$inttypes.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$rtems/rtl/rtl.\+h$>$}\newline
{\ttfamily \#include \char`\"{}rtl-\/error.\+h\char`\"{}}\newline
{\ttfamily \#include $<$rtems/rtl/rtl-\/sym.\+h$>$}\newline
{\ttfamily \#include $<$rtems/rtl/rtl-\/trace.\+h$>$}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{rtl-sym_8c_a833c85e22a03d0c816411f6b88ea5bbf}{rtems\+\_\+rtl\+\_\+symbol\+\_\+table\+\_\+open}} (\mbox{\hyperlink{structrtems__rtl__symbols}{rtems\+\_\+rtl\+\_\+symbols}} $\ast$symbols, size\+\_\+t buckets)
\item 
void \mbox{\hyperlink{rtl-sym_8c_ac18c51aca9023a082b359e672c8838e6}{rtems\+\_\+rtl\+\_\+symbol\+\_\+table\+\_\+close}} (\mbox{\hyperlink{structrtems__rtl__symbols}{rtems\+\_\+rtl\+\_\+symbols}} $\ast$symbols)
\item 
bool \mbox{\hyperlink{rtl-sym_8c_acfcaf459050499e3ba535d8f17b1cac7}{rtems\+\_\+rtl\+\_\+symbol\+\_\+global\+\_\+add}} (\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$obj, const unsigned char $\ast$esyms, unsigned int \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}})
\item 
\mbox{\hyperlink{structrtems__rtl__obj__sym}{rtems\+\_\+rtl\+\_\+obj\+\_\+sym}} $\ast$ \mbox{\hyperlink{rtl-sym_8c_a2e0a774381e2d7d9597a88b1688741d3}{rtems\+\_\+rtl\+\_\+symbol\+\_\+global\+\_\+find}} (const char $\ast$name)
\item 
void \mbox{\hyperlink{rtl-sym_8c_a450818df431a0b6254e933f45497c281}{rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+sort}} (\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$obj)
\item 
\mbox{\hyperlink{structrtems__rtl__obj__sym}{rtems\+\_\+rtl\+\_\+obj\+\_\+sym}} $\ast$ \mbox{\hyperlink{rtl-sym_8c_a98e04c5083c6560c69802ee44b839459}{rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+find}} (\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$obj, const char $\ast$name)
\item 
void \mbox{\hyperlink{rtl-sym_8c_abd7450ebf4df51019720c76de3823460}{rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+add}} (\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$obj)
\item 
void \mbox{\hyperlink{rtl-sym_8c_a02b3a4ba7169bb4f243a5be15b301391}{rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+erase\+\_\+local}} (\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$obj)
\item 
void \mbox{\hyperlink{rtl-sym_8c_adf65b8fa73ea388857082a79e437767a}{rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+erase}} (\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$obj)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
R\+T\+E\+MS Run-\/\+Time Linker Object File Symbol Table. 



\subsection{Function Documentation}
\mbox{\Hypertarget{rtl-sym_8c_acfcaf459050499e3ba535d8f17b1cac7}\label{rtl-sym_8c_acfcaf459050499e3ba535d8f17b1cac7}} 
\index{rtl-\/sym.c@{rtl-\/sym.c}!rtems\_rtl\_symbol\_global\_add@{rtems\_rtl\_symbol\_global\_add}}
\index{rtems\_rtl\_symbol\_global\_add@{rtems\_rtl\_symbol\_global\_add}!rtl-\/sym.c@{rtl-\/sym.c}}
\subsubsection{\texorpdfstring{rtems\_rtl\_symbol\_global\_add()}{rtems\_rtl\_symbol\_global\_add()}}
{\footnotesize\ttfamily bool rtems\+\_\+rtl\+\_\+symbol\+\_\+global\+\_\+add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$}]{obj,  }\item[{const unsigned char $\ast$}]{esyms,  }\item[{unsigned int}]{size }\end{DoxyParamCaption})}

Add a table of exported symbols to the symbol table.

The export table is a series of symbol records and each record has two fields\+:


\begin{DoxyEnumerate}
\item label
\item address
\end{DoxyEnumerate}

The \textquotesingle{}label\textquotesingle{} is an A\+S\+C\+I\+IZ string of variable length. The address is of size of an unsigned long for the target running the link editor. The byte order is defined by the machine type because the table should be built by the target compiler.

The table is terminated with a nul string followed by the bytes 0x\+DE, 0x\+AD, 0x\+BE, and 0x\+EF. This avoids alignments issues.


\begin{DoxyParams}{Parameters}
{\em obj} & The object table the symbols are for. \\
\hline
{\em esyms} & The exported symbol table. \\
\hline
{\em size} & The size of the table in bytes. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtl-sym_8c_a2e0a774381e2d7d9597a88b1688741d3}\label{rtl-sym_8c_a2e0a774381e2d7d9597a88b1688741d3}} 
\index{rtl-\/sym.c@{rtl-\/sym.c}!rtems\_rtl\_symbol\_global\_find@{rtems\_rtl\_symbol\_global\_find}}
\index{rtems\_rtl\_symbol\_global\_find@{rtems\_rtl\_symbol\_global\_find}!rtl-\/sym.c@{rtl-\/sym.c}}
\subsubsection{\texorpdfstring{rtems\_rtl\_symbol\_global\_find()}{rtems\_rtl\_symbol\_global\_find()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structrtems__rtl__obj__sym}{rtems\+\_\+rtl\+\_\+obj\+\_\+sym}}$\ast$ rtems\+\_\+rtl\+\_\+symbol\+\_\+global\+\_\+find (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name }\end{DoxyParamCaption})}

Find a symbol given the symbol label in the global symbol table.


\begin{DoxyParams}{Parameters}
{\em name} & The name as an A\+S\+C\+I\+IZ string. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em N\+U\+LL} & No symbol found. \\
\hline
\end{DoxyRetVals}
\begin{DoxyReturn}{Returns}
rtems\+\_\+rtl\+\_\+obj\+\_\+sym$\ast$ Reference to the symbol. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtl-sym_8c_abd7450ebf4df51019720c76de3823460}\label{rtl-sym_8c_abd7450ebf4df51019720c76de3823460}} 
\index{rtl-\/sym.c@{rtl-\/sym.c}!rtems\_rtl\_symbol\_obj\_add@{rtems\_rtl\_symbol\_obj\_add}}
\index{rtems\_rtl\_symbol\_obj\_add@{rtems\_rtl\_symbol\_obj\_add}!rtl-\/sym.c@{rtl-\/sym.c}}
\subsubsection{\texorpdfstring{rtems\_rtl\_symbol\_obj\_add()}{rtems\_rtl\_symbol\_obj\_add()}}
{\footnotesize\ttfamily void rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$}]{obj }\end{DoxyParamCaption})}

Add the object file\textquotesingle{}s symbols to the global table.


\begin{DoxyParams}{Parameters}
{\em obj} & The object file the symbols are to be added. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtl-sym_8c_adf65b8fa73ea388857082a79e437767a}\label{rtl-sym_8c_adf65b8fa73ea388857082a79e437767a}} 
\index{rtl-\/sym.c@{rtl-\/sym.c}!rtems\_rtl\_symbol\_obj\_erase@{rtems\_rtl\_symbol\_obj\_erase}}
\index{rtems\_rtl\_symbol\_obj\_erase@{rtems\_rtl\_symbol\_obj\_erase}!rtl-\/sym.c@{rtl-\/sym.c}}
\subsubsection{\texorpdfstring{rtems\_rtl\_symbol\_obj\_erase()}{rtems\_rtl\_symbol\_obj\_erase()}}
{\footnotesize\ttfamily void rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+erase (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$}]{obj }\end{DoxyParamCaption})}

Erase the object file\textquotesingle{}s symbols.


\begin{DoxyParams}{Parameters}
{\em obj} & The object file the symbols are to be erased from. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtl-sym_8c_a02b3a4ba7169bb4f243a5be15b301391}\label{rtl-sym_8c_a02b3a4ba7169bb4f243a5be15b301391}} 
\index{rtl-\/sym.c@{rtl-\/sym.c}!rtems\_rtl\_symbol\_obj\_erase\_local@{rtems\_rtl\_symbol\_obj\_erase\_local}}
\index{rtems\_rtl\_symbol\_obj\_erase\_local@{rtems\_rtl\_symbol\_obj\_erase\_local}!rtl-\/sym.c@{rtl-\/sym.c}}
\subsubsection{\texorpdfstring{rtems\_rtl\_symbol\_obj\_erase\_local()}{rtems\_rtl\_symbol\_obj\_erase\_local()}}
{\footnotesize\ttfamily void rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+erase\+\_\+local (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$}]{obj }\end{DoxyParamCaption})}

Erase the object file\textquotesingle{}s local symbols.


\begin{DoxyParams}{Parameters}
{\em obj} & The object file the local symbols are to be erased from. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtl-sym_8c_a98e04c5083c6560c69802ee44b839459}\label{rtl-sym_8c_a98e04c5083c6560c69802ee44b839459}} 
\index{rtl-\/sym.c@{rtl-\/sym.c}!rtems\_rtl\_symbol\_obj\_find@{rtems\_rtl\_symbol\_obj\_find}}
\index{rtems\_rtl\_symbol\_obj\_find@{rtems\_rtl\_symbol\_obj\_find}!rtl-\/sym.c@{rtl-\/sym.c}}
\subsubsection{\texorpdfstring{rtems\_rtl\_symbol\_obj\_find()}{rtems\_rtl\_symbol\_obj\_find()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structrtems__rtl__obj__sym}{rtems\+\_\+rtl\+\_\+obj\+\_\+sym}}$\ast$ rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+find (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$}]{obj,  }\item[{const char $\ast$}]{name }\end{DoxyParamCaption})}

Find a symbol given the symbol label in the local object file.


\begin{DoxyParams}{Parameters}
{\em obj} & The object file to search. \\
\hline
{\em name} & The name as an A\+S\+C\+I\+IZ string. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em N\+U\+LL} & No symbol found. \\
\hline
\end{DoxyRetVals}
\begin{DoxyReturn}{Returns}
rtems\+\_\+rtl\+\_\+obj\+\_\+sym$\ast$ Reference to the symbol. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtl-sym_8c_a450818df431a0b6254e933f45497c281}\label{rtl-sym_8c_a450818df431a0b6254e933f45497c281}} 
\index{rtl-\/sym.c@{rtl-\/sym.c}!rtems\_rtl\_symbol\_obj\_sort@{rtems\_rtl\_symbol\_obj\_sort}}
\index{rtems\_rtl\_symbol\_obj\_sort@{rtems\_rtl\_symbol\_obj\_sort}!rtl-\/sym.c@{rtl-\/sym.c}}
\subsubsection{\texorpdfstring{rtems\_rtl\_symbol\_obj\_sort()}{rtems\_rtl\_symbol\_obj\_sort()}}
{\footnotesize\ttfamily void rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+sort (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__obj}{rtems\+\_\+rtl\+\_\+obj}} $\ast$}]{obj }\end{DoxyParamCaption})}

Sort an object file\textquotesingle{}s local and global symbol table. This needs to be done before calling \mbox{\hyperlink{rtl-sym_8c_a98e04c5083c6560c69802ee44b839459}{rtems\+\_\+rtl\+\_\+symbol\+\_\+obj\+\_\+find}} as it performs a binary search on the tables.


\begin{DoxyParams}{Parameters}
{\em obj} & The object file to sort. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtl-sym_8c_ac18c51aca9023a082b359e672c8838e6}\label{rtl-sym_8c_ac18c51aca9023a082b359e672c8838e6}} 
\index{rtl-\/sym.c@{rtl-\/sym.c}!rtems\_rtl\_symbol\_table\_close@{rtems\_rtl\_symbol\_table\_close}}
\index{rtems\_rtl\_symbol\_table\_close@{rtems\_rtl\_symbol\_table\_close}!rtl-\/sym.c@{rtl-\/sym.c}}
\subsubsection{\texorpdfstring{rtems\_rtl\_symbol\_table\_close()}{rtems\_rtl\_symbol\_table\_close()}}
{\footnotesize\ttfamily void rtems\+\_\+rtl\+\_\+symbol\+\_\+table\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__symbols}{rtems\+\_\+rtl\+\_\+symbols}} $\ast$}]{symbols }\end{DoxyParamCaption})}

Close the table and erase the hash table.


\begin{DoxyParams}{Parameters}
{\em symbols} & Close the symbol table. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtl-sym_8c_a833c85e22a03d0c816411f6b88ea5bbf}\label{rtl-sym_8c_a833c85e22a03d0c816411f6b88ea5bbf}} 
\index{rtl-\/sym.c@{rtl-\/sym.c}!rtems\_rtl\_symbol\_table\_open@{rtems\_rtl\_symbol\_table\_open}}
\index{rtems\_rtl\_symbol\_table\_open@{rtems\_rtl\_symbol\_table\_open}!rtl-\/sym.c@{rtl-\/sym.c}}
\subsubsection{\texorpdfstring{rtems\_rtl\_symbol\_table\_open()}{rtems\_rtl\_symbol\_table\_open()}}
{\footnotesize\ttfamily bool rtems\+\_\+rtl\+\_\+symbol\+\_\+table\+\_\+open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__symbols}{rtems\+\_\+rtl\+\_\+symbols}} $\ast$}]{symbols,  }\item[{size\+\_\+t}]{buckets }\end{DoxyParamCaption})}

Open a symbol table with the specified number of buckets.


\begin{DoxyParams}{Parameters}
{\em symbols} & The symbol table to open. \\
\hline
{\em buckets} & The number of buckets in the hash table. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em true} & The symbol is open. \\
\hline
{\em false} & The symbol table could not created. The R\+TL error has the error. \\
\hline
\end{DoxyRetVals}
