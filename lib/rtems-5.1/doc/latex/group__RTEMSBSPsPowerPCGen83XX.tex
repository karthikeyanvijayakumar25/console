\hypertarget{group__RTEMSBSPsPowerPCGen83XX}{}\section{N\+XP M\+P\+C83\+XX}
\label{group__RTEMSBSPsPowerPCGen83XX}\index{NXP MPC83XX@{NXP MPC83XX}}


N\+XP M\+P\+C83\+XX Board Support Package.  


\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \mbox{\hyperlink{bsps_2powerpc_2gen83xx_2include_2bsp_8h}{bsp.\+h}}
\begin{DoxyCompactList}\small\item\em Global B\+SP definitions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga5d7d631d3a14b7554160f14eb42f351b}\label{group__RTEMSBSPsPowerPCGen83XX_ga5d7d631d3a14b7554160f14eb42f351b}} 
\#define {\bfseries B\+S\+P\+\_\+\+F\+E\+A\+T\+U\+R\+E\+\_\+\+I\+R\+Q\+\_\+\+E\+X\+T\+E\+N\+S\+I\+ON}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga2273b73c24176d4d83789adec96fb848}\label{group__RTEMSBSPsPowerPCGen83XX_ga2273b73c24176d4d83789adec96fb848}} 
\#define {\bfseries B\+S\+P\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+C\+NT}(arr)~(sizeof(arr)/sizeof(arr\mbox{[}0\mbox{]}))
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga4aa606d0badadcc28e8054cb60f13b56}\label{group__RTEMSBSPsPowerPCGen83XX_ga4aa606d0badadcc28e8054cb60f13b56}} 
\#define {\bfseries B\+S\+P\+\_\+\+I\+D\+L\+E\+\_\+\+T\+A\+S\+K\+\_\+\+B\+O\+DY}~\mbox{\hyperlink{group__RTEMSBSPsSPARCLEON3_ga301be7085b80c41a9c5887247003c662}{bsp\+\_\+idle\+\_\+thread}}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_gadde0d66aef9442971dde465292ac14e6}\label{group__RTEMSBSPsPowerPCGen83XX_gadde0d66aef9442971dde465292ac14e6}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+A\+T\+T\+A\+CH}~B\+S\+P\+\_\+tsec\+\_\+attach
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga86d4f9aa98431100692e31068070a8df}\label{group__RTEMSBSPsPowerPCGen83XX_ga86d4f9aa98431100692e31068070a8df}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+ME}~\char`\"{}tsec1\char`\"{}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga9c7a480d4bd0eabe6766c4c6e24a340b}\label{group__RTEMSBSPsPowerPCGen83XX_ga9c7a480d4bd0eabe6766c4c6e24a340b}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+M\+E2}~\char`\"{}tsec2\char`\"{}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga5b3b7a8f2f89a6110c93e0229f67c104}\label{group__RTEMSBSPsPowerPCGen83XX_ga5b3b7a8f2f89a6110c93e0229f67c104}} 
\#define {\bfseries B\+S\+P\+\_\+\+Convert\+\_\+decrementer}(\+\_\+value)~((int) (((\+\_\+value) $\ast$ 10) / \mbox{\hyperlink{group__RTEMSBSPsPowerPCGen83XX_gabfae404b02d5b3193b9420930d97d84a}{bsp\+\_\+clicks\+\_\+per\+\_\+usec}}))
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga392610c3b98525eadd0ff0a552be0f55}\label{group__RTEMSBSPsPowerPCGen83XX_ga392610c3b98525eadd0ff0a552be0f55}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+ram\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga9b74695d25dc36b9601e9ed474465f3d}\label{group__RTEMSBSPsPowerPCGen83XX_ga9b74695d25dc36b9601e9ed474465f3d}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+ram\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga2cbfaf0e1778b1b120561ac398b93829}\label{group__RTEMSBSPsPowerPCGen83XX_ga2cbfaf0e1778b1b120561ac398b93829}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+ram\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga5b98bad744c4219bddb71b88d40f3009}\label{group__RTEMSBSPsPowerPCGen83XX_ga5b98bad744c4219bddb71b88d40f3009}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+rom\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_gac19a9b4ebdfb674aae111a9dc84c883e}\label{group__RTEMSBSPsPowerPCGen83XX_gac19a9b4ebdfb674aae111a9dc84c883e}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+rom\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga50ee0195c766ce222c8e6c9f885587f4}\label{group__RTEMSBSPsPowerPCGen83XX_ga50ee0195c766ce222c8e6c9f885587f4}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+rom\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga5933fe3f247ec1f3fe969eca69acf4a0}\label{group__RTEMSBSPsPowerPCGen83XX_ga5933fe3f247ec1f3fe969eca69acf4a0}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+text\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga31346d676f01a19b1c12465c35e9d67b}\label{group__RTEMSBSPsPowerPCGen83XX_ga31346d676f01a19b1c12465c35e9d67b}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+text\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga1432c81417a50518cc70ec68e245be70}\label{group__RTEMSBSPsPowerPCGen83XX_ga1432c81417a50518cc70ec68e245be70}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+text\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga65a37e076a3a32fddc8400e15f0f6597}\label{group__RTEMSBSPsPowerPCGen83XX_ga65a37e076a3a32fddc8400e15f0f6597}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+data\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_gaa458efd8fb3c88b1cb72245f9957c4d7}\label{group__RTEMSBSPsPowerPCGen83XX_gaa458efd8fb3c88b1cb72245f9957c4d7}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+data\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga96979d71ae4f8f60b8991140043c3549}\label{group__RTEMSBSPsPowerPCGen83XX_ga96979d71ae4f8f60b8991140043c3549}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+data\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga4e10b3b34aff8d6b14109c18a180ad9f}\label{group__RTEMSBSPsPowerPCGen83XX_ga4e10b3b34aff8d6b14109c18a180ad9f}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+bss\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga24e90eba27e3b9e3710c3a0e59d02cb1}\label{group__RTEMSBSPsPowerPCGen83XX_ga24e90eba27e3b9e3710c3a0e59d02cb1}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+bss\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga58bcfd4c9250422eaf14e0c1315cb497}\label{group__RTEMSBSPsPowerPCGen83XX_ga58bcfd4c9250422eaf14e0c1315cb497}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+bss\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga4996e27f277924c49b95516b59bbc86e}\label{group__RTEMSBSPsPowerPCGen83XX_ga4996e27f277924c49b95516b59bbc86e}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+work\+\_\+area\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_gab81ea570a5dc5353cd3e55b5216510c4}\label{group__RTEMSBSPsPowerPCGen83XX_gab81ea570a5dc5353cd3e55b5216510c4}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (I\+M\+M\+R\+B\+AR)
\item 
void $\ast$ \mbox{\hyperlink{group__RTEMSBSPsPowerPCGen83XX_ga301be7085b80c41a9c5887247003c662}{bsp\+\_\+idle\+\_\+thread}} (uintptr\+\_\+t ignored)
\begin{DoxyCompactList}\small\item\em Optimized idle task. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga58027abea7da23dc91a07af3260fa365}\label{group__RTEMSBSPsPowerPCGen83XX_ga58027abea7da23dc91a07af3260fa365}} 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} {\bfseries bsp\+\_\+register\+\_\+i2c} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga98f0443fb8880a53f25c0f99ba9aa981}\label{group__RTEMSBSPsPowerPCGen83XX_ga98f0443fb8880a53f25c0f99ba9aa981}} 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} {\bfseries bsp\+\_\+register\+\_\+spi} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga59edc02dc610b58bf9fb879f63424bdc}\label{group__RTEMSBSPsPowerPCGen83XX_ga59edc02dc610b58bf9fb879f63424bdc}} 
int {\bfseries B\+S\+P\+\_\+tsec\+\_\+attach} (struct rtems\+\_\+bsdnet\+\_\+ifconfig $\ast$\mbox{\hyperlink{structconfig__s}{config}}, int attaching)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_gaf8eeb3dfda51546c4ff1b2a5d037297b}\label{group__RTEMSBSPsPowerPCGen83XX_gaf8eeb3dfda51546c4ff1b2a5d037297b}} 
void {\bfseries mpc83xx\+\_\+zero\+\_\+4} (void $\ast$dest, size\+\_\+t n)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga560ad8614ae03841a10b489f4370bc51}\label{group__RTEMSBSPsPowerPCGen83XX_ga560ad8614ae03841a10b489f4370bc51}} 
void {\bfseries cpu\+\_\+init} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga22e8ff0c484a388835087ab82844fa5b}\label{group__RTEMSBSPsPowerPCGen83XX_ga22e8ff0c484a388835087ab82844fa5b}} 
void {\bfseries bsp\+\_\+restart} (void $\ast$addr)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_gacebd8212ca7912c89b531e7abaeb8389}\label{group__RTEMSBSPsPowerPCGen83XX_gacebd8212ca7912c89b531e7abaeb8389}} 
unsigned int {\bfseries B\+S\+P\+\_\+bus\+\_\+frequency}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_gabfae404b02d5b3193b9420930d97d84a}\label{group__RTEMSBSPsPowerPCGen83XX_gabfae404b02d5b3193b9420930d97d84a}} 
uint32\+\_\+t {\bfseries bsp\+\_\+clicks\+\_\+per\+\_\+usec}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
N\+XP M\+P\+C83\+XX Board Support Package. 



\subsection{Function Documentation}
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen83XX_ga301be7085b80c41a9c5887247003c662}\label{group__RTEMSBSPsPowerPCGen83XX_ga301be7085b80c41a9c5887247003c662}} 
\index{NXP MPC83XX@{NXP MPC83XX}!bsp\_idle\_thread@{bsp\_idle\_thread}}
\index{bsp\_idle\_thread@{bsp\_idle\_thread}!NXP MPC83XX@{NXP MPC83XX}}
\subsubsection{\texorpdfstring{bsp\_idle\_thread()}{bsp\_idle\_thread()}}
{\footnotesize\ttfamily void$\ast$ bsp\+\_\+idle\+\_\+thread (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{ignored }\end{DoxyParamCaption})}



Optimized idle task. 

This B\+SP provides its own I\+D\+LE thread to override the R\+T\+E\+MS one.

This idle task sets the power mode to idle. This causes the processor clock to be stopped, while on-\/chip peripherals remain active. Any enabled interrupt from a peripheral or an external interrupt source will cause the processor to resume execution.

To enable the idle task use the following in the system configuration\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <bsp.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_INIT}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_IDLE\_TASK\_BODY bsp\_idle\_thread}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{confdefs_8h}{confdefs.h}}>}}
\end{DoxyCode}


This B\+SP provides its own I\+D\+LE thread to override the R\+T\+E\+MS one.

Optimized idle task.

The M\+SR\mbox{[}P\+OW\mbox{]} bit is set to put the C\+PU into the low power mode defined in H\+I\+D0. H\+I\+D0 is set during starup in start.\+S.

This B\+SP provides its own I\+D\+LE thread to override the R\+T\+E\+MS one.

This idle task sets the power mode to idle. This causes the processor clock to be stopped, while on-\/chip peripherals remain active. Any enabled interrupt from a peripheral or an external interrupt source will cause the processor to resume execution.

To enable the idle task use the following in the system configuration\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <bsp.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_INIT}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_IDLE\_TASK\_BODY bsp\_idle\_thread}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{confdefs_8h}{confdefs.h}}>}}
\end{DoxyCode}


Optimized idle task.

The M\+SR\mbox{[}P\+OW\mbox{]} bit is set to put the C\+PU into the low power mode defined in H\+I\+D0. H\+I\+D0 is set during starup in start.\+S. 