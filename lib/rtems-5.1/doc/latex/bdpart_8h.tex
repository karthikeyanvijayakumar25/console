\hypertarget{bdpart_8h}{}\section{cpukit/include/rtems/bdpart.h File Reference}
\label{bdpart_8h}\index{cpukit/include/rtems/bdpart.h@{cpukit/include/rtems/bdpart.h}}


Block Device Partition Management.  


{\ttfamily \#include $<$uuid/uuid.\+h$>$}\newline
{\ttfamily \#include $<$rtems.\+h$>$}\newline
{\ttfamily \#include $<$rtems/blkdev.\+h$>$}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}}
\item 
union \mbox{\hyperlink{unionrtems__bdpart__format}{rtems\+\_\+bdpart\+\_\+format}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__rtems__bdpart_gadd7733262575d66342e79ebafbd3ec78}{R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+H\+I\+NT}}~16
\item 
\mbox{\Hypertarget{bdpart_8h_a45a26e2c7de9500e2fa26bb937b7a723}\label{bdpart_8h_a45a26e2c7de9500e2fa26bb937b7a723}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+C\+Y\+L\+I\+N\+D\+E\+R\+\_\+\+S\+I\+ZE}~63
\item 
\mbox{\Hypertarget{bdpart_8h_a1ace8d1922d0d7474a6148243e8849e3}\label{bdpart_8h_a1ace8d1922d0d7474a6148243e8849e3}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+S\+I\+ZE}~4
\item 
\mbox{\Hypertarget{bdpart_8h_a75881795f39d5d6ea3e745c7460dd8d1}\label{bdpart_8h_a75881795f39d5d6ea3e745c7460dd8d1}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+ZE}~512
\item 
\mbox{\Hypertarget{bdpart_8h_aefe305377e16407be573f76d6438aa4b}\label{bdpart_8h_aefe305377e16407be573f76d6438aa4b}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+T\+A\+B\+L\+E\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+S\+I\+ZE}~16
\item 
\mbox{\Hypertarget{bdpart_8h_ae2bc5d2da8fd73c69b44d2d6ed31bd06}\label{bdpart_8h_ae2bc5d2da8fd73c69b44d2d6ed31bd06}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+T\+A\+B\+L\+E\+\_\+0}~446
\item 
\mbox{\Hypertarget{bdpart_8h_a0c35e70215ad14e831fc878225ff5528}\label{bdpart_8h_a0c35e70215ad14e831fc878225ff5528}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+T\+A\+B\+L\+E\+\_\+1}~(R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+T\+A\+B\+L\+E\+\_\+0 + R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+T\+A\+B\+L\+E\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+S\+I\+ZE)
\item 
\mbox{\Hypertarget{bdpart_8h_a2914d3b0b2c22139d0d0f1f67f445f63}\label{bdpart_8h_a2914d3b0b2c22139d0d0f1f67f445f63}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+D\+I\+S\+K\+\_\+\+ID}~440
\item 
\mbox{\Hypertarget{bdpart_8h_a6e015f75788f6ef6fb1b207709890ce6}\label{bdpart_8h_a6e015f75788f6ef6fb1b207709890ce6}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+I\+G\+N\+A\+T\+U\+R\+E\+\_\+0}~510
\item 
\mbox{\Hypertarget{bdpart_8h_a37ade6dd7aa39590e76f4fadd4c28794}\label{bdpart_8h_a37ade6dd7aa39590e76f4fadd4c28794}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+I\+G\+N\+A\+T\+U\+R\+E\+\_\+1}~511
\item 
\mbox{\Hypertarget{bdpart_8h_a2dc3b9e7f8e91dcae582bae61b4253a4}\label{bdpart_8h_a2dc3b9e7f8e91dcae582bae61b4253a4}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+S\+I\+G\+N\+A\+T\+U\+R\+E\+\_\+0}~0x55U
\item 
\mbox{\Hypertarget{bdpart_8h_a280d59f92de90670dec34b09fe4f4f00}\label{bdpart_8h_a280d59f92de90670dec34b09fe4f4f00}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+S\+I\+G\+N\+A\+T\+U\+R\+E\+\_\+1}~0xaaU
\item 
\mbox{\Hypertarget{bdpart_8h_ab2509d246ee77d7269e348edd709aaef}\label{bdpart_8h_ab2509d246ee77d7269e348edd709aaef}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+B\+E\+G\+IN}~8
\item 
\mbox{\Hypertarget{bdpart_8h_ab9ec6e62418db0cc6918f26d00ae5775}\label{bdpart_8h_ab9ec6e62418db0cc6918f26d00ae5775}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+S\+I\+ZE}~12
\item 
\mbox{\Hypertarget{bdpart_8h_a527190ddbeaa00ccb0779a22cee0eb0f}\label{bdpart_8h_a527190ddbeaa00ccb0779a22cee0eb0f}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+T\+Y\+PE}~4
\item 
\mbox{\Hypertarget{bdpart_8h_ae818f4735ab2f906ab78d9ccfce92d1e}\label{bdpart_8h_ae818f4735ab2f906ab78d9ccfce92d1e}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+F\+L\+A\+GS}~0
\end{DoxyCompactItemize}
\begin{Indent}\textbf{ M\+BR Partition Types and Flags}\par
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+E\+M\+P\+TY}~0x0U
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+F\+A\+T\+\_\+12}~0x1U
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+F\+A\+T\+\_\+16}~0x4U
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+F\+A\+T\+\_\+16\+\_\+\+L\+BA}~0xeU
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+F\+A\+T\+\_\+32}~0xbU
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+F\+A\+T\+\_\+32\+\_\+\+L\+BA}~0xcU
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+E\+X\+T\+E\+N\+D\+ED}~0x5U
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+D\+A\+TA}~0xdaU
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+G\+PT}~0xeeU
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+M\+B\+R\+\_\+\+F\+L\+A\+G\+\_\+\+A\+C\+T\+I\+VE}~0x80U
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} \mbox{\hyperlink{group__rtems__bdpart_ga332cb2d1be444f20c2daa9d7382f8e2c}{rtems\+\_\+bdpart\+\_\+partition}}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group__rtems__bdpart_ga688bdae263560502610c958bd45ff8af}{rtems\+\_\+bdpart\+\_\+format\+\_\+type}} \{ \mbox{\hyperlink{group__rtems__bdpart_gga688bdae263560502610c958bd45ff8afa1438658ed9ac308090fcfd6f671ed512}{R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+M\+BR}}, 
\mbox{\hyperlink{group__rtems__bdpart_gga688bdae263560502610c958bd45ff8afaa83a46115f9a9145ba010d99f67c128c}{R\+T\+E\+M\+S\+\_\+\+B\+D\+P\+A\+R\+T\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+G\+PT}}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__rtems__bdpart_ga1ffdc1b7fc86d324faa9b93500ab0e63}{rtems\+\_\+bdpart\+\_\+read}} (const char $\ast$disk\+\_\+name, \mbox{\hyperlink{unionrtems__bdpart__format}{rtems\+\_\+bdpart\+\_\+format}} $\ast$\mbox{\hyperlink{structformat}{format}}, \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} $\ast$partitions, size\+\_\+t $\ast$count)
\begin{DoxyCompactList}\small\item\em Reads the partition information from the physical disk device with name {\itshape disk\+\_\+name}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__rtems__bdpart_gaec68d844510e8516ae962f29d1cdd384}{rtems\+\_\+bdpart\+\_\+sort}} (\mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} $\ast$partitions, size\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Sorts the partition table {\itshape partitions} with {\itshape count} partitions to have ascending begin blocks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__rtems__bdpart_gaa8b69004c352fe7867bdcb551453beb0}{rtems\+\_\+bdpart\+\_\+write}} (const char $\ast$disk\+\_\+name, const \mbox{\hyperlink{unionrtems__bdpart__format}{rtems\+\_\+bdpart\+\_\+format}} $\ast$\mbox{\hyperlink{structformat}{format}}, const \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} $\ast$partitions, size\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Writes the partition table to the physical disk device with name {\itshape disk\+\_\+name}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__rtems__bdpart_ga208abbe74a399a6e38115ab8eeab6eb5}{rtems\+\_\+bdpart\+\_\+create}} (const char $\ast$disk\+\_\+name, const \mbox{\hyperlink{unionrtems__bdpart__format}{rtems\+\_\+bdpart\+\_\+format}} $\ast$\mbox{\hyperlink{structformat}{format}}, \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} $\ast$partitions, const unsigned $\ast$distribution, size\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Creates a partition table in {\itshape partitions} with {\itshape count} partitions for the physical disk device with name {\itshape disk\+\_\+name}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__rtems__bdpart_ga36d215715c22ca86ce71f977ed760f4c}{rtems\+\_\+bdpart\+\_\+register}} (const char $\ast$disk\+\_\+name, const \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} $\ast$partitions, size\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Registers the partitions as logical disks for the physical disk device with name {\itshape disk\+\_\+name}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__rtems__bdpart_ga9b0517982a75560e134c808e70885b81}{rtems\+\_\+bdpart\+\_\+register\+\_\+from\+\_\+disk}} (const char $\ast$disk\+\_\+name)
\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__rtems__bdpart_ga927be713792520f358b760d0e04fb5bf}{rtems\+\_\+bdpart\+\_\+unregister}} (const char $\ast$disk\+\_\+name, const \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} $\ast$partitions, size\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Deletes the logical disks associated with the partitions of the disk device with name {\itshape disk\+\_\+name}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__rtems__bdpart_gaac90511f26e1d224e9e821d4b5c1d064}{rtems\+\_\+bdpart\+\_\+mount}} (const char $\ast$disk\+\_\+name, const \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} $\ast$partitions, size\+\_\+t count, const char $\ast$mount\+\_\+base)
\begin{DoxyCompactList}\small\item\em Mounts all supported file systems inside the logical disks derived from the partitions of the physical disk device with name {\itshape disk\+\_\+name}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__rtems__bdpart_ga8240aed18861975cded42f606f4e9107}{rtems\+\_\+bdpart\+\_\+unmount}} (const char $\ast$disk\+\_\+name, const \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} $\ast$partitions, size\+\_\+t count, const char $\ast$mount\+\_\+base)
\begin{DoxyCompactList}\small\item\em Unmounts all file systems mounted with \mbox{\hyperlink{group__rtems__bdpart_gaac90511f26e1d224e9e821d4b5c1d064}{rtems\+\_\+bdpart\+\_\+mount()}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__rtems__bdpart_gabd436124677aaeaaf2ae4c9f2bb031d2}{rtems\+\_\+bdpart\+\_\+dump}} (const \mbox{\hyperlink{structrtems__bdpart__partition}{rtems\+\_\+bdpart\+\_\+partition}} $\ast$partitions, size\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Prints the partition table {\itshape partitions} with {\itshape count} partitions to standard output. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__rtems__bdpart_ga1620402cb457ec28f7712296fa66c04b}{rtems\+\_\+bdpart\+\_\+to\+\_\+partition\+\_\+type}} (uint8\+\_\+t mbr\+\_\+type, uuid\+\_\+t type)
\begin{DoxyCompactList}\small\item\em Returns the partition type for the M\+BR partition type value {\itshape mbr\+\_\+type} in {\itshape type}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group__rtems__bdpart_ga13ba144439be58871fa6c7e26854f11a}{rtems\+\_\+bdpart\+\_\+to\+\_\+mbr\+\_\+partition\+\_\+type}} (const uuid\+\_\+t type, uint8\+\_\+t $\ast$mbr\+\_\+type)
\begin{DoxyCompactList}\small\item\em Converts the partition type in {\itshape type} to the M\+BR partition type. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{bdpart_8h_a59b7911ed99f103fe6dfa1b07a956925}\label{bdpart_8h_a59b7911ed99f103fe6dfa1b07a956925}} 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} {\bfseries rtems\+\_\+bdpart\+\_\+get\+\_\+disk\+\_\+data} (const char $\ast$disk\+\_\+name, int $\ast$fd\+\_\+ptr, \mbox{\hyperlink{structrtems__disk__device}{rtems\+\_\+disk\+\_\+device}} $\ast$$\ast$dd\+\_\+ptr, \mbox{\hyperlink{group__rtems__disk_ga5fbcfd40b657bff6c54d9e393fab3274}{rtems\+\_\+blkdev\+\_\+bnum}} $\ast$disk\+\_\+end)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Block Device Partition Management. 

