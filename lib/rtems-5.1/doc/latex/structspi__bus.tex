\hypertarget{structspi__bus}{}\section{spi\+\_\+bus Struct Reference}
\label{structspi__bus}\index{spi\_bus@{spi\_bus}}


S\+PI bus control.  




{\ttfamily \#include $<$spi.\+h$>$}

\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
int($\ast$ \mbox{\hyperlink{structspi__bus_a53a296ac6dad161c4b46e56afda399c7}{transfer}} )(\mbox{\hyperlink{structspi__bus}{spi\+\_\+bus}} $\ast$bus, const \mbox{\hyperlink{structspi__ioc__transfer}{spi\+\_\+ioc\+\_\+transfer}} $\ast$msgs, uint32\+\_\+t msg\+\_\+count)
\begin{DoxyCompactList}\small\item\em Transfers S\+PI messages. \end{DoxyCompactList}\item 
int($\ast$ \mbox{\hyperlink{structspi__bus_a73816e06bde44fbbf31b238fedc4c6d2}{setup}} )(\mbox{\hyperlink{structspi__bus}{spi\+\_\+bus}} $\ast$bus)
\begin{DoxyCompactList}\small\item\em Checks if maximum speed and bits per word are in a valid range for the device. \end{DoxyCompactList}\item 
void($\ast$ \mbox{\hyperlink{structspi__bus_a2fb539efa059a61f3f5f258dbd53f74e}{destroy}} )(\mbox{\hyperlink{structspi__bus}{spi\+\_\+bus}} $\ast$bus)
\begin{DoxyCompactList}\small\item\em Destroys the bus. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structspi__bus_aa0918df9cda5b44f0f9c8c1c225a9df5}\label{structspi__bus_aa0918df9cda5b44f0f9c8c1c225a9df5}} 
rtems\+\_\+recursive\+\_\+mutex \mbox{\hyperlink{structspi__bus_aa0918df9cda5b44f0f9c8c1c225a9df5}{mutex}}
\begin{DoxyCompactList}\small\item\em Mutex to protect the bus access. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structspi__bus_ab4b06f1e7a0504f8f1004cb50bc3f158}\label{structspi__bus_ab4b06f1e7a0504f8f1004cb50bc3f158}} 
uint32\+\_\+t \mbox{\hyperlink{structspi__bus_ab4b06f1e7a0504f8f1004cb50bc3f158}{max\+\_\+speed\+\_\+hz}}
\begin{DoxyCompactList}\small\item\em Maximum Speed in Hz. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structspi__bus_a7f3068cffeacb95e364c203c56950449}\label{structspi__bus_a7f3068cffeacb95e364c203c56950449}} 
uint32\+\_\+t \mbox{\hyperlink{structspi__bus_a7f3068cffeacb95e364c203c56950449}{speed\+\_\+hz}}
\begin{DoxyCompactList}\small\item\em Indicates the speed of the current device message. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structspi__bus_a7d703653ed4aa2504e1a6da3837bed9c}\label{structspi__bus_a7d703653ed4aa2504e1a6da3837bed9c}} 
bool \mbox{\hyperlink{structspi__bus_a7d703653ed4aa2504e1a6da3837bed9c}{cs\+\_\+change}}
\begin{DoxyCompactList}\small\item\em Indicates if chip select must be set high after transfer. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structspi__bus_a33bca6f6e2309fee3c10a62afa7c4811}\label{structspi__bus_a33bca6f6e2309fee3c10a62afa7c4811}} 
uint8\+\_\+t \mbox{\hyperlink{structspi__bus_a33bca6f6e2309fee3c10a62afa7c4811}{cs}}
\begin{DoxyCompactList}\small\item\em Indicates which device is selected by chip select. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structspi__bus_ace586315b7db3d9bc321c69081726c62}\label{structspi__bus_ace586315b7db3d9bc321c69081726c62}} 
uint8\+\_\+t \mbox{\hyperlink{structspi__bus_ace586315b7db3d9bc321c69081726c62}{bits\+\_\+per\+\_\+word}}
\begin{DoxyCompactList}\small\item\em Indicates the bits per word used on the device. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structspi__bus_a64db0fe4b0d24a648c80c184870903be}\label{structspi__bus_a64db0fe4b0d24a648c80c184870903be}} 
bool \mbox{\hyperlink{structspi__bus_a64db0fe4b0d24a648c80c184870903be}{lsb\+\_\+first}}
\begin{DoxyCompactList}\small\item\em Indicates if L\+SB is supposed to be transmitted first. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structspi__bus_a37cc2398edee0569bffa8e4dc099e12b}\label{structspi__bus_a37cc2398edee0569bffa8e4dc099e12b}} 
uint32\+\_\+t \mbox{\hyperlink{structspi__bus_a37cc2398edee0569bffa8e4dc099e12b}{mode}}
\begin{DoxyCompactList}\small\item\em Current mode. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structspi__bus_a5120694a54759d14d9ccd67e2ed5d6d6}\label{structspi__bus_a5120694a54759d14d9ccd67e2ed5d6d6}} 
uint16\+\_\+t \mbox{\hyperlink{structspi__bus_a5120694a54759d14d9ccd67e2ed5d6d6}{delay\+\_\+usecs}}
\begin{DoxyCompactList}\small\item\em Indicates the delay between transfers on different chip select devices. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
S\+PI bus control. 

\subsection{Field Documentation}
\mbox{\Hypertarget{structspi__bus_a2fb539efa059a61f3f5f258dbd53f74e}\label{structspi__bus_a2fb539efa059a61f3f5f258dbd53f74e}} 
\index{spi\_bus@{spi\_bus}!destroy@{destroy}}
\index{destroy@{destroy}!spi\_bus@{spi\_bus}}
\subsubsection{\texorpdfstring{destroy}{destroy}}
{\footnotesize\ttfamily void($\ast$ spi\+\_\+bus\+::destroy) (\mbox{\hyperlink{structspi__bus}{spi\+\_\+bus}} $\ast$bus)}



Destroys the bus. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bus} & The bus control. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{structspi__bus_a73816e06bde44fbbf31b238fedc4c6d2}\label{structspi__bus_a73816e06bde44fbbf31b238fedc4c6d2}} 
\index{spi\_bus@{spi\_bus}!setup@{setup}}
\index{setup@{setup}!spi\_bus@{spi\_bus}}
\subsubsection{\texorpdfstring{setup}{setup}}
{\footnotesize\ttfamily int($\ast$ spi\+\_\+bus\+::setup) (\mbox{\hyperlink{structspi__bus}{spi\+\_\+bus}} $\ast$bus)}



Checks if maximum speed and bits per word are in a valid range for the device. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bus} & The bus control.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em negative} & Negative error number in case of an error. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{structspi__bus_a53a296ac6dad161c4b46e56afda399c7}\label{structspi__bus_a53a296ac6dad161c4b46e56afda399c7}} 
\index{spi\_bus@{spi\_bus}!transfer@{transfer}}
\index{transfer@{transfer}!spi\_bus@{spi\_bus}}
\subsubsection{\texorpdfstring{transfer}{transfer}}
{\footnotesize\ttfamily int($\ast$ spi\+\_\+bus\+::transfer) (\mbox{\hyperlink{structspi__bus}{spi\+\_\+bus}} $\ast$bus, const \mbox{\hyperlink{structspi__ioc__transfer}{spi\+\_\+ioc\+\_\+transfer}} $\ast$msgs, uint32\+\_\+t msg\+\_\+count)}



Transfers S\+PI messages. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bus} & The bus control. \\
\hline
\mbox{\texttt{ in}}  & {\em msgs} & The messages to transfer. \\
\hline
\mbox{\texttt{ in}}  & {\em msg\+\_\+count} & The count of messages to transfer. It must be positive.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em negative} & Negative error number in case of an error. \\
\hline
\end{DoxyRetVals}


The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
cpukit/include/dev/spi/\mbox{\hyperlink{cpukit_2include_2dev_2spi_2spi_8h}{spi.\+h}}\end{DoxyCompactItemize}
