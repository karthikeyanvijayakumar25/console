\hypertarget{group__RTEMSBSPsPowerPCGen5200}{}\section{N\+XP M\+P\+C5200}
\label{group__RTEMSBSPsPowerPCGen5200}\index{NXP MPC5200@{NXP MPC5200}}


N\+XP M\+P\+C5200 Board Support Package.  


\subsection*{Modules}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__BestComm}{Best\+Comm Support}}
\begin{DoxyCompactList}\small\item\em Best\+Comm support. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__RTEMSBSPsPowerPCGen5200MSCAN}{M\+S\+C\+AN}}
\end{DoxyCompactItemize}
\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \mbox{\hyperlink{bsps_2powerpc_2gen5200_2include_2bsp_8h}{bsp.\+h}}
\begin{DoxyCompactList}\small\item\em Global B\+SP definitions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gaddeb3f5e51cf41928653d826fa541063}\label{group__RTEMSBSPsPowerPCGen5200_gaddeb3f5e51cf41928653d826fa541063}} 
\#define {\bfseries N\+E\+E\+D\+\_\+\+L\+O\+W\+\_\+\+L\+E\+V\+E\+L\+\_\+\+I\+N\+IT}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga86d4f9aa98431100692e31068070a8df}\label{group__RTEMSBSPsPowerPCGen5200_ga86d4f9aa98431100692e31068070a8df}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+ME}~\char`\"{}eth1\char`\"{}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gadde0d66aef9442971dde465292ac14e6}\label{group__RTEMSBSPsPowerPCGen5200_gadde0d66aef9442971dde465292ac14e6}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+A\+T\+T\+A\+CH}~rtems\+\_\+mpc5200\+\_\+fec\+\_\+driver\+\_\+attach\+\_\+detach
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga87abeaa01ac0eb5bf8fb5f78e7c16f28}\label{group__RTEMSBSPsPowerPCGen5200_ga87abeaa01ac0eb5bf8fb5f78e7c16f28}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+H\+A\+S\+\_\+\+I\+D\+E\+\_\+\+D\+R\+I\+V\+ER}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gabd42079022d4b384c2136ee591535ed5}\label{group__RTEMSBSPsPowerPCGen5200_gabd42079022d4b384c2136ee591535ed5}} 
\#define {\bfseries A\+T\+A\+\_\+\+U\+S\+E\+\_\+\+I\+NT}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga693b0c0bc75323df092a5815d1ed9cb8}\label{group__RTEMSBSPsPowerPCGen5200_ga693b0c0bc75323df092a5815d1ed9cb8}} 
\#define {\bfseries I\+P\+B\+\_\+\+C\+L\+O\+CK}~33000000   /$\ast$ 33 M\+Hz $\ast$/
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gae0b4062061fda301c354cbcf61b056ad}\label{group__RTEMSBSPsPowerPCGen5200_gae0b4062061fda301c354cbcf61b056ad}} 
\#define {\bfseries X\+L\+B\+\_\+\+C\+L\+O\+CK}~66000000   /$\ast$ 66 M\+Hz $\ast$/
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gac2e9ac15473bdfecd1b0ee6ac43b3f36}\label{group__RTEMSBSPsPowerPCGen5200_gac2e9ac15473bdfecd1b0ee6ac43b3f36}} 
\#define {\bfseries G2\+\_\+\+C\+L\+O\+CK}~231000000  /$\ast$ 231 M\+Hz $\ast$/
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gaff540bfeade0d013052c3796919e6d59}\label{group__RTEMSBSPsPowerPCGen5200_gaff540bfeade0d013052c3796919e6d59}} 
\#define {\bfseries G\+E\+N5200\+\_\+\+C\+O\+N\+S\+O\+L\+E\+\_\+\+B\+A\+UD}~115200
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga5b3b7a8f2f89a6110c93e0229f67c104}\label{group__RTEMSBSPsPowerPCGen5200_ga5b3b7a8f2f89a6110c93e0229f67c104}} 
\#define {\bfseries B\+S\+P\+\_\+\+Convert\+\_\+decrementer}(\+\_\+value)~(int) (((\+\_\+value) $\ast$ 4000) / (X\+L\+B\+\_\+\+C\+L\+O\+CK/10000))
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga75c80f8b45831f19db6ce62c1472704e}\label{group__RTEMSBSPsPowerPCGen5200_ga75c80f8b45831f19db6ce62c1472704e}} 
\#define {\bfseries U\+S\+E\+\_\+\+S\+L\+I\+C\+E\+T\+I\+M\+E\+R\+\_\+0}~\mbox{\hyperlink{group__RTEMSScoreBaseDefs_gaa8cecfc5c5c054d2875c03e77b7be15d}{T\+R\+UE}}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga009e1e1234f59c7131111381736025fc}\label{group__RTEMSBSPsPowerPCGen5200_ga009e1e1234f59c7131111381736025fc}} 
\#define {\bfseries U\+S\+E\+\_\+\+S\+L\+I\+C\+E\+T\+I\+M\+E\+R\+\_\+1}~\mbox{\hyperlink{group__RTEMSScoreBaseDefs_gaa93f0eb578d23995850d61f7d61c55c1}{F\+A\+L\+SE}}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga4aa606d0badadcc28e8054cb60f13b56}\label{group__RTEMSBSPsPowerPCGen5200_ga4aa606d0badadcc28e8054cb60f13b56}} 
\#define {\bfseries B\+S\+P\+\_\+\+I\+D\+L\+E\+\_\+\+T\+A\+S\+K\+\_\+\+B\+O\+DY}~\mbox{\hyperlink{group__RTEMSBSPsSPARCLEON3_ga301be7085b80c41a9c5887247003c662}{bsp\+\_\+idle\+\_\+thread}}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga392610c3b98525eadd0ff0a552be0f55}\label{group__RTEMSBSPsPowerPCGen5200_ga392610c3b98525eadd0ff0a552be0f55}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+ram\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga9b74695d25dc36b9601e9ed474465f3d}\label{group__RTEMSBSPsPowerPCGen5200_ga9b74695d25dc36b9601e9ed474465f3d}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+ram\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga2cbfaf0e1778b1b120561ac398b93829}\label{group__RTEMSBSPsPowerPCGen5200_ga2cbfaf0e1778b1b120561ac398b93829}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+ram\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga5b98bad744c4219bddb71b88d40f3009}\label{group__RTEMSBSPsPowerPCGen5200_ga5b98bad744c4219bddb71b88d40f3009}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+rom\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gac19a9b4ebdfb674aae111a9dc84c883e}\label{group__RTEMSBSPsPowerPCGen5200_gac19a9b4ebdfb674aae111a9dc84c883e}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+rom\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga50ee0195c766ce222c8e6c9f885587f4}\label{group__RTEMSBSPsPowerPCGen5200_ga50ee0195c766ce222c8e6c9f885587f4}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+rom\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga951249dadafad2cf424754a1fd7203bd}\label{group__RTEMSBSPsPowerPCGen5200_ga951249dadafad2cf424754a1fd7203bd}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+dpram\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga7447eb505025619cdca411be38f3861d}\label{group__RTEMSBSPsPowerPCGen5200_ga7447eb505025619cdca411be38f3861d}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+dpram\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga69dd637f0e0625e85c762e72f5e8a2fb}\label{group__RTEMSBSPsPowerPCGen5200_ga69dd637f0e0625e85c762e72f5e8a2fb}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+dpram\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga5933fe3f247ec1f3fe969eca69acf4a0}\label{group__RTEMSBSPsPowerPCGen5200_ga5933fe3f247ec1f3fe969eca69acf4a0}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+text\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga31346d676f01a19b1c12465c35e9d67b}\label{group__RTEMSBSPsPowerPCGen5200_ga31346d676f01a19b1c12465c35e9d67b}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+text\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga1432c81417a50518cc70ec68e245be70}\label{group__RTEMSBSPsPowerPCGen5200_ga1432c81417a50518cc70ec68e245be70}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+text\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga65a37e076a3a32fddc8400e15f0f6597}\label{group__RTEMSBSPsPowerPCGen5200_ga65a37e076a3a32fddc8400e15f0f6597}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+data\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gaa458efd8fb3c88b1cb72245f9957c4d7}\label{group__RTEMSBSPsPowerPCGen5200_gaa458efd8fb3c88b1cb72245f9957c4d7}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+data\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga96979d71ae4f8f60b8991140043c3549}\label{group__RTEMSBSPsPowerPCGen5200_ga96979d71ae4f8f60b8991140043c3549}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+data\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga4e10b3b34aff8d6b14109c18a180ad9f}\label{group__RTEMSBSPsPowerPCGen5200_ga4e10b3b34aff8d6b14109c18a180ad9f}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+bss\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga24e90eba27e3b9e3710c3a0e59d02cb1}\label{group__RTEMSBSPsPowerPCGen5200_ga24e90eba27e3b9e3710c3a0e59d02cb1}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+bss\+\_\+end)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga58bcfd4c9250422eaf14e0c1315cb497}\label{group__RTEMSBSPsPowerPCGen5200_ga58bcfd4c9250422eaf14e0c1315cb497}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+section\+\_\+bss\+\_\+size)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga4996e27f277924c49b95516b59bbc86e}\label{group__RTEMSBSPsPowerPCGen5200_ga4996e27f277924c49b95516b59bbc86e}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (bsp\+\_\+work\+\_\+area\+\_\+start)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga75a1c59340e53df9b828592cafcd3077}\label{group__RTEMSBSPsPowerPCGen5200_ga75a1c59340e53df9b828592cafcd3077}} 
{\bfseries L\+I\+N\+K\+E\+R\+\_\+\+S\+Y\+M\+B\+OL} (M\+B\+AR)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gada9d1c40473a93e1ff1f906d44c22a3e}\label{group__RTEMSBSPsPowerPCGen5200_gada9d1c40473a93e1ff1f906d44c22a3e}} 
int {\bfseries rtems\+\_\+mpc5200\+\_\+fec\+\_\+driver\+\_\+attach\+\_\+detach} (struct rtems\+\_\+bsdnet\+\_\+ifconfig $\ast$\mbox{\hyperlink{structconfig__s}{config}}, int attaching)
\item 
void $\ast$ \mbox{\hyperlink{group__RTEMSBSPsPowerPCGen5200_ga301be7085b80c41a9c5887247003c662}{bsp\+\_\+idle\+\_\+thread}} (uintptr\+\_\+t ignored)
\begin{DoxyCompactList}\small\item\em Optimized idle task. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gabeb75ce9f8724f13cd4c0df3bd38aaa7}\label{group__RTEMSBSPsPowerPCGen5200_gabeb75ce9f8724f13cd4c0df3bd38aaa7}} 
void {\bfseries B\+S\+P\+\_\+\+I\+R\+Q\+\_\+\+Benchmarking\+\_\+\+Reset} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_gabffe64cf92941307f2a05019dd6eb5f4}\label{group__RTEMSBSPsPowerPCGen5200_gabffe64cf92941307f2a05019dd6eb5f4}} 
void {\bfseries B\+S\+P\+\_\+\+I\+R\+Q\+\_\+\+Benchmarking\+\_\+\+Report} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga560ad8614ae03841a10b489f4370bc51}\label{group__RTEMSBSPsPowerPCGen5200_ga560ad8614ae03841a10b489f4370bc51}} 
void {\bfseries cpu\+\_\+init} (void)
\item 
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga7017009ba7f396f0c0726b885c7d3a1c}\label{group__RTEMSBSPsPowerPCGen5200_ga7017009ba7f396f0c0726b885c7d3a1c}} 
int {\bfseries mpc5200\+\_\+eth\+\_\+mii\+\_\+read} (int phy\+Addr, void $\ast$arg, unsigned reg\+Addr, uint32\+\_\+t $\ast$ret\+Val)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
N\+XP M\+P\+C5200 Board Support Package. 



\subsection{Function Documentation}
\mbox{\Hypertarget{group__RTEMSBSPsPowerPCGen5200_ga301be7085b80c41a9c5887247003c662}\label{group__RTEMSBSPsPowerPCGen5200_ga301be7085b80c41a9c5887247003c662}} 
\index{NXP MPC5200@{NXP MPC5200}!bsp\_idle\_thread@{bsp\_idle\_thread}}
\index{bsp\_idle\_thread@{bsp\_idle\_thread}!NXP MPC5200@{NXP MPC5200}}
\subsubsection{\texorpdfstring{bsp\_idle\_thread()}{bsp\_idle\_thread()}}
{\footnotesize\ttfamily void$\ast$ bsp\+\_\+idle\+\_\+thread (\begin{DoxyParamCaption}\item[{uintptr\+\_\+t}]{ignored }\end{DoxyParamCaption})}



Optimized idle task. 

This B\+SP provides its own I\+D\+LE thread to override the R\+T\+E\+MS one.

This idle task sets the power mode to idle. This causes the processor clock to be stopped, while on-\/chip peripherals remain active. Any enabled interrupt from a peripheral or an external interrupt source will cause the processor to resume execution.

To enable the idle task use the following in the system configuration\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <bsp.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_INIT}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_IDLE\_TASK\_BODY bsp\_idle\_thread}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{confdefs_8h}{confdefs.h}}>}}
\end{DoxyCode}


This B\+SP provides its own I\+D\+LE thread to override the R\+T\+E\+MS one.

Optimized idle task.

The M\+SR\mbox{[}P\+OW\mbox{]} bit is set to put the C\+PU into the low power mode defined in H\+I\+D0. H\+I\+D0 is set during starup in start.\+S.

This B\+SP provides its own I\+D\+LE thread to override the R\+T\+E\+MS one.

This idle task sets the power mode to idle. This causes the processor clock to be stopped, while on-\/chip peripherals remain active. Any enabled interrupt from a peripheral or an external interrupt source will cause the processor to resume execution.

To enable the idle task use the following in the system configuration\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <bsp.h>}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_INIT}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define CONFIGURE\_IDLE\_TASK\_BODY bsp\_idle\_thread}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <\mbox{\hyperlink{confdefs_8h}{confdefs.h}}>}}
\end{DoxyCode}


Optimized idle task.

The M\+SR\mbox{[}P\+OW\mbox{]} bit is set to put the C\+PU into the low power mode defined in H\+I\+D0. H\+I\+D0 is set during starup in start.\+S. 