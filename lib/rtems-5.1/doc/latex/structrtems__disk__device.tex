\hypertarget{structrtems__disk__device}{}\section{rtems\+\_\+disk\+\_\+device Struct Reference}
\label{structrtems__disk__device}\index{rtems\_disk\_device@{rtems\_disk\_device}}


Description of a disk device (logical and physical disks).  




{\ttfamily \#include $<$diskdevs.\+h$>$}

\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{structrtems__disk__device_a24cbd3856257a20e3e5ebf8496245177}\label{structrtems__disk__device_a24cbd3856257a20e3e5ebf8496245177}} 
dev\+\_\+t \mbox{\hyperlink{structrtems__disk__device_a24cbd3856257a20e3e5ebf8496245177}{dev}}
\begin{DoxyCompactList}\small\item\em Device identifier (concatenation of major and minor number). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structrtems__disk__device_a8c59fbc53e67fe7b972fb17cac278230}\label{structrtems__disk__device_a8c59fbc53e67fe7b972fb17cac278230}} 
\mbox{\hyperlink{structrtems__disk__device}{rtems\+\_\+disk\+\_\+device}} $\ast$ \mbox{\hyperlink{structrtems__disk__device_a8c59fbc53e67fe7b972fb17cac278230}{phys\+\_\+dev}}
\begin{DoxyCompactList}\small\item\em Physical device identifier (equals the {\ttfamily dev} entry if it specifies a physical device). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structrtems__disk__device_a55d283185f3899c90aea5190f8cc76ee}\label{structrtems__disk__device_a55d283185f3899c90aea5190f8cc76ee}} 
uint32\+\_\+t \mbox{\hyperlink{structrtems__disk__device_a55d283185f3899c90aea5190f8cc76ee}{capabilities}}
\begin{DoxyCompactList}\small\item\em Driver capabilities. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structrtems__disk__device_ad4ab4464c9a9a32c253655a379fdfad2}\label{structrtems__disk__device_ad4ab4464c9a9a32c253655a379fdfad2}} 
char $\ast$ \mbox{\hyperlink{structrtems__disk__device_ad4ab4464c9a9a32c253655a379fdfad2}{name}}
\begin{DoxyCompactList}\small\item\em Disk device name. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{structrtems__disk__device_a5a8a2b41e014367de746f134f2c9ade5}{uses}}
\begin{DoxyCompactList}\small\item\em Usage counter. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__rtems__disk_ga5fbcfd40b657bff6c54d9e393fab3274}{rtems\+\_\+blkdev\+\_\+bnum}} \mbox{\hyperlink{structrtems__disk__device_a6fc636a2742b7d9407e559cdd3899e6e}{start}}
\begin{DoxyCompactList}\small\item\em Start media block number. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structrtems__disk__device_a8db6cbb48e540656d5d4d4903032743c}\label{structrtems__disk__device_a8db6cbb48e540656d5d4d4903032743c}} 
\mbox{\hyperlink{group__rtems__disk_ga5fbcfd40b657bff6c54d9e393fab3274}{rtems\+\_\+blkdev\+\_\+bnum}} \mbox{\hyperlink{structrtems__disk__device_a8db6cbb48e540656d5d4d4903032743c}{size}}
\begin{DoxyCompactList}\small\item\em Size of the physical or logical disk in media blocks. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{structrtems__disk__device_a1f446627e8cc11b5ce75d90aa8ad6c92}{media\+\_\+block\+\_\+size}}
\begin{DoxyCompactList}\small\item\em Media block size in bytes. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{structrtems__disk__device_abea6f3f85ded92ea807c60eb0a1de472}{block\+\_\+size}}
\begin{DoxyCompactList}\small\item\em Block size in bytes. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__rtems__disk_ga5fbcfd40b657bff6c54d9e393fab3274}{rtems\+\_\+blkdev\+\_\+bnum}} \mbox{\hyperlink{structrtems__disk__device_ae8d3d63a4eaf18abf1f0f5e22487bedf}{block\+\_\+count}}
\begin{DoxyCompactList}\small\item\em Block count. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{structrtems__disk__device_ac667c0dbfdf48b6c18a6f90cbe06e160}{media\+\_\+blocks\+\_\+per\+\_\+block}}
\begin{DoxyCompactList}\small\item\em Media blocks per device blocks. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{structrtems__disk__device_ae73934f4f4c98238e99b5d0240933544}{block\+\_\+to\+\_\+media\+\_\+block\+\_\+shift}}
\begin{DoxyCompactList}\small\item\em Block to media block shift. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{structrtems__disk__device_a3afc4d8f96a873b8e2340b8e978584c6}{bds\+\_\+per\+\_\+group}}
\begin{DoxyCompactList}\small\item\em Buffer descriptors per group count. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structrtems__disk__device_a205ac2a3badb51b50bb82e1256778623}\label{structrtems__disk__device_a205ac2a3badb51b50bb82e1256778623}} 
\mbox{\hyperlink{group__rtems__disk_gacbf717f10129b976deaf8e6f4deb17ad}{rtems\+\_\+block\+\_\+device\+\_\+ioctl}} \mbox{\hyperlink{structrtems__disk__device_a205ac2a3badb51b50bb82e1256778623}{ioctl}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{structIO}{IO}} control handler for this disk. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structrtems__disk__device_a21195079ef538a350af2091b778706f3}\label{structrtems__disk__device_a21195079ef538a350af2091b778706f3}} 
void $\ast$ \mbox{\hyperlink{structrtems__disk__device_a21195079ef538a350af2091b778706f3}{driver\+\_\+data}}
\begin{DoxyCompactList}\small\item\em Private data for the disk driver. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structrtems__disk__device_aaa1f93e5ae3f153a048a78490acef04e}\label{structrtems__disk__device_aaa1f93e5ae3f153a048a78490acef04e}} 
bool \mbox{\hyperlink{structrtems__disk__device_aaa1f93e5ae3f153a048a78490acef04e}{deleted}}
\begin{DoxyCompactList}\small\item\em Indicates that this disk should be deleted as soon as the last user releases this disk. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structrtems__disk__device_a43d48173fc70d4cc91f5cd137ca6a389}\label{structrtems__disk__device_a43d48173fc70d4cc91f5cd137ca6a389}} 
\mbox{\hyperlink{structrtems__blkdev__stats}{rtems\+\_\+blkdev\+\_\+stats}} \mbox{\hyperlink{structrtems__disk__device_a43d48173fc70d4cc91f5cd137ca6a389}{stats}}
\begin{DoxyCompactList}\small\item\em Device statistics for this disk. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{structrtems__disk__device_a7c816f82e642b9bb71403e69b1b6a14b}\label{structrtems__disk__device_a7c816f82e642b9bb71403e69b1b6a14b}} 
\mbox{\hyperlink{structrtems__blkdev__read__ahead}{rtems\+\_\+blkdev\+\_\+read\+\_\+ahead}} \mbox{\hyperlink{structrtems__disk__device_a7c816f82e642b9bb71403e69b1b6a14b}{read\+\_\+ahead}}
\begin{DoxyCompactList}\small\item\em Read-\/ahead control for this disk. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Description of a disk device (logical and physical disks). 

An array of pointer tables to \mbox{\hyperlink{structrtems__disk__device}{rtems\+\_\+disk\+\_\+device}} structures is maintained. The first table will be indexed by the major number and the second table will be indexed by the minor number. This allows quick lookup using a data structure of moderated size. 

\subsection{Field Documentation}
\mbox{\Hypertarget{structrtems__disk__device_a3afc4d8f96a873b8e2340b8e978584c6}\label{structrtems__disk__device_a3afc4d8f96a873b8e2340b8e978584c6}} 
\index{rtems\_disk\_device@{rtems\_disk\_device}!bds\_per\_group@{bds\_per\_group}}
\index{bds\_per\_group@{bds\_per\_group}!rtems\_disk\_device@{rtems\_disk\_device}}
\subsubsection{\texorpdfstring{bds\_per\_group}{bds\_per\_group}}
{\footnotesize\ttfamily size\+\_\+t rtems\+\_\+disk\+\_\+device\+::bds\+\_\+per\+\_\+group}



Buffer descriptors per group count. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__rtems__bdbuf_ga649b3b4fb368921f579a0204552a7a60}{rtems\+\_\+bdbuf\+\_\+set\+\_\+block\+\_\+size()}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{structrtems__disk__device_ae8d3d63a4eaf18abf1f0f5e22487bedf}\label{structrtems__disk__device_ae8d3d63a4eaf18abf1f0f5e22487bedf}} 
\index{rtems\_disk\_device@{rtems\_disk\_device}!block\_count@{block\_count}}
\index{block\_count@{block\_count}!rtems\_disk\_device@{rtems\_disk\_device}}
\subsubsection{\texorpdfstring{block\_count}{block\_count}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__rtems__disk_ga5fbcfd40b657bff6c54d9e393fab3274}{rtems\+\_\+blkdev\+\_\+bnum}} rtems\+\_\+disk\+\_\+device\+::block\+\_\+count}



Block count. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__rtems__bdbuf_ga649b3b4fb368921f579a0204552a7a60}{rtems\+\_\+bdbuf\+\_\+set\+\_\+block\+\_\+size()}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{structrtems__disk__device_abea6f3f85ded92ea807c60eb0a1de472}\label{structrtems__disk__device_abea6f3f85ded92ea807c60eb0a1de472}} 
\index{rtems\_disk\_device@{rtems\_disk\_device}!block\_size@{block\_size}}
\index{block\_size@{block\_size}!rtems\_disk\_device@{rtems\_disk\_device}}
\subsubsection{\texorpdfstring{block\_size}{block\_size}}
{\footnotesize\ttfamily uint32\+\_\+t rtems\+\_\+disk\+\_\+device\+::block\+\_\+size}



Block size in bytes. 

This is the minimum transfer unit. It may be a multiple of the media block size. It must be positive.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__rtems__bdbuf_ga649b3b4fb368921f579a0204552a7a60}{rtems\+\_\+bdbuf\+\_\+set\+\_\+block\+\_\+size()}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{structrtems__disk__device_ae73934f4f4c98238e99b5d0240933544}\label{structrtems__disk__device_ae73934f4f4c98238e99b5d0240933544}} 
\index{rtems\_disk\_device@{rtems\_disk\_device}!block\_to\_media\_block\_shift@{block\_to\_media\_block\_shift}}
\index{block\_to\_media\_block\_shift@{block\_to\_media\_block\_shift}!rtems\_disk\_device@{rtems\_disk\_device}}
\subsubsection{\texorpdfstring{block\_to\_media\_block\_shift}{block\_to\_media\_block\_shift}}
{\footnotesize\ttfamily int rtems\+\_\+disk\+\_\+device\+::block\+\_\+to\+\_\+media\+\_\+block\+\_\+shift}



Block to media block shift. 

In case this value is non-\/negative the media block of a block can be calculated as media block = block $<$$<$ block\+\_\+to\+\_\+media\+\_\+block\+\_\+shift, otherwise a 64-\/bit operation will be used.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__rtems__bdbuf_ga649b3b4fb368921f579a0204552a7a60}{rtems\+\_\+bdbuf\+\_\+set\+\_\+block\+\_\+size()}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{structrtems__disk__device_a1f446627e8cc11b5ce75d90aa8ad6c92}\label{structrtems__disk__device_a1f446627e8cc11b5ce75d90aa8ad6c92}} 
\index{rtems\_disk\_device@{rtems\_disk\_device}!media\_block\_size@{media\_block\_size}}
\index{media\_block\_size@{media\_block\_size}!rtems\_disk\_device@{rtems\_disk\_device}}
\subsubsection{\texorpdfstring{media\_block\_size}{media\_block\_size}}
{\footnotesize\ttfamily uint32\+\_\+t rtems\+\_\+disk\+\_\+device\+::media\+\_\+block\+\_\+size}



Media block size in bytes. 

This is the media transfer unit the hardware defaults to. \mbox{\Hypertarget{structrtems__disk__device_ac667c0dbfdf48b6c18a6f90cbe06e160}\label{structrtems__disk__device_ac667c0dbfdf48b6c18a6f90cbe06e160}} 
\index{rtems\_disk\_device@{rtems\_disk\_device}!media\_blocks\_per\_block@{media\_blocks\_per\_block}}
\index{media\_blocks\_per\_block@{media\_blocks\_per\_block}!rtems\_disk\_device@{rtems\_disk\_device}}
\subsubsection{\texorpdfstring{media\_blocks\_per\_block}{media\_blocks\_per\_block}}
{\footnotesize\ttfamily uint32\+\_\+t rtems\+\_\+disk\+\_\+device\+::media\+\_\+blocks\+\_\+per\+\_\+block}



Media blocks per device blocks. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{group__rtems__bdbuf_ga649b3b4fb368921f579a0204552a7a60}{rtems\+\_\+bdbuf\+\_\+set\+\_\+block\+\_\+size()}}. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{structrtems__disk__device_a6fc636a2742b7d9407e559cdd3899e6e}\label{structrtems__disk__device_a6fc636a2742b7d9407e559cdd3899e6e}} 
\index{rtems\_disk\_device@{rtems\_disk\_device}!start@{start}}
\index{start@{start}!rtems\_disk\_device@{rtems\_disk\_device}}
\subsubsection{\texorpdfstring{start}{start}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__rtems__disk_ga5fbcfd40b657bff6c54d9e393fab3274}{rtems\+\_\+blkdev\+\_\+bnum}} rtems\+\_\+disk\+\_\+device\+::start}



Start media block number. 

Equals zero for physical devices. It is a media block offset to the related physical device for logical device. \mbox{\Hypertarget{structrtems__disk__device_a5a8a2b41e014367de746f134f2c9ade5}\label{structrtems__disk__device_a5a8a2b41e014367de746f134f2c9ade5}} 
\index{rtems\_disk\_device@{rtems\_disk\_device}!uses@{uses}}
\index{uses@{uses}!rtems\_disk\_device@{rtems\_disk\_device}}
\subsubsection{\texorpdfstring{uses}{uses}}
{\footnotesize\ttfamily unsigned rtems\+\_\+disk\+\_\+device\+::uses}



Usage counter. 

Devices cannot be deleted if they are in use. 

The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
cpukit/include/rtems/\mbox{\hyperlink{diskdevs_8h}{diskdevs.\+h}}\end{DoxyCompactItemize}
