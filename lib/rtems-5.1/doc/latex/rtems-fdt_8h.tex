\hypertarget{rtems-fdt_8h}{}\section{cpukit/include/rtems/rtems-\/fdt.h File Reference}
\label{rtems-fdt_8h}\index{cpukit/include/rtems/rtems-\/fdt.h@{cpukit/include/rtems/rtems-\/fdt.h}}


R\+T\+E\+MS Flattened Device Tree.  


{\ttfamily \#include $<$rtems.\+h$>$}\newline
{\ttfamily \#include $<$rtems/chain.\+h$>$}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_a60c40da67e6383e601b3b92c267b0ab5}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+T\+F\+O\+U\+ND}}~1
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_a7077da16961f22b6a669f42e14754a19}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+E\+X\+I\+S\+TS}}~2
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_ac572292c1bf4b03caf1ed614297df75f}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+S\+P\+A\+CE}}~3
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_aa3fc1bbe15934b882af1366e96be49f7}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+O\+F\+F\+S\+ET}}~4
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_a6408443266323215cd2616432644ab6f}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+P\+A\+TH}}~5
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_a65317278a6c62afefc1d986c8c1686ad}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+P\+H\+A\+N\+D\+LE}}~6
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_a750ba759dda889c4a66d6eaa232c878a}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+S\+T\+A\+TE}}~7
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_aa7370489ac101a450c2fb9453a6f7d06}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+T\+R\+U\+N\+C\+A\+T\+ED}}~8
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_a1ade4d657298b170677b2a29f4e3c3b6}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+M\+A\+G\+IC}}~9
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_af1335b18e4b59d15f05fc888cb2725dc}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+V\+E\+R\+S\+I\+ON}}~10
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_ad6f0a6ee11fdd227e8e95088edfb4d8f}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+S\+T\+R\+U\+C\+T\+U\+RE}}~11
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_a1c970b5dd3c0b17772fed719b4f606b2}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+L\+A\+Y\+O\+UT}}~12
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_aeb4caa4ae7a6ee091aba109d321a1d12}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+I\+N\+T\+E\+R\+N\+AL}}~13
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_a7e6f3cad8bb35b7827abd788a1f2afb3}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+H\+A\+N\+D\+LE}}~100
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_aceaa83d086fdece4ae7b58063444e4f8}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY}}~101
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_af669f9280824e70fcf06a377724be893}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND}}~102
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_a35e372e1e99ca64f229614e5c7fa7bc7}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+R\+E\+A\+D\+\_\+\+F\+A\+IL}}~103
\item 
\#define \mbox{\hyperlink{rtems-fdt_8h_aef76af337c06a43049c280b90b3f2755}{R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+R\+E\+F\+E\+R\+E\+N\+C\+ED}}~104
\item 
\mbox{\Hypertarget{rtems-fdt_8h_ad1f3efabdbdf9b96522d711aa4911ef1}\label{rtems-fdt_8h_ad1f3efabdbdf9b96522d711aa4911ef1}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+R\+T\+E\+M\+S\+\_\+\+M\+IN}~100
\item 
\mbox{\Hypertarget{rtems-fdt_8h_aeab64b1535655dc3f2eaec0d77db585a}\label{rtems-fdt_8h_aeab64b1535655dc3f2eaec0d77db585a}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+M\+AX}~104
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{rtems-fdt_8h_ac716d8c4c221b55ee318476ad8ee7aba}\label{rtems-fdt_8h_ac716d8c4c221b55ee318476ad8ee7aba}} 
typedef struct \mbox{\hyperlink{structrtems__fdt__blob}{rtems\+\_\+fdt\+\_\+blob}} {\bfseries rtems\+\_\+fdt\+\_\+blob}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{rtems-fdt_8h_a3315346f05c8e25cd84b62626f249da4}{rtems\+\_\+fdt\+\_\+init\+\_\+handle}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle)
\item 
void \mbox{\hyperlink{rtems-fdt_8h_a7345cc5334e1afde88e13f65ddb68f12}{rtems\+\_\+fdt\+\_\+dup\+\_\+handle}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$from, \mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$to)
\item 
void \mbox{\hyperlink{rtems-fdt_8h_aef15751554a2804bbde895bf07dffe80}{rtems\+\_\+fdt\+\_\+release\+\_\+handle}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle)
\item 
bool \mbox{\hyperlink{rtems-fdt_8h_aabed205ff98f5b2ae70709106b8cd8f2}{rtems\+\_\+fdt\+\_\+valid\+\_\+handle}} (const \mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a82ee27464217327e0e7fb40ef60a48ac}{rtems\+\_\+fdt\+\_\+find\+\_\+path\+\_\+offset}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, const char $\ast$path)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_ade27ea157b92bb17f531baae94571c5b}{rtems\+\_\+fdt\+\_\+load}} (const char $\ast$const filename, \mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_ad6903d840a58d8b99ede97ac20bd94af}{rtems\+\_\+fdt\+\_\+register}} (const void $\ast$blob, \mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_af6f1e782f453d0e9f42afa462803a350}{rtems\+\_\+fdt\+\_\+unload}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_afded44117e8bf86b1fa32164b081f3bb}{rtems\+\_\+fdt\+\_\+num\+\_\+mem\+\_\+rsv}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_af1bed3b15e9467073b96de9eb48b0f58}{rtems\+\_\+fdt\+\_\+get\+\_\+mem\+\_\+rsv}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int n, uint64\+\_\+t $\ast$address, uint64\+\_\+t $\ast$\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}})
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a46722743c63e5a5ccaec9769296112a2}{rtems\+\_\+fdt\+\_\+subnode\+\_\+offset\+\_\+namelen}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int parentoffset, const char $\ast$const name, int namelen)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a85e2da108a4d349e480859964ad66b87}{rtems\+\_\+fdt\+\_\+subnode\+\_\+offset}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int parentoffset, const char $\ast$const name)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a57007eed312123059461eb8bbace1c09}{rtems\+\_\+fdt\+\_\+path\+\_\+offset}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, const char $\ast$path)
\item 
const char $\ast$ \mbox{\hyperlink{rtems-fdt_8h_a231745529cbd5da1e22005e6c2168bc5}{rtems\+\_\+fdt\+\_\+get\+\_\+name}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int nodeoffset, int $\ast$length)
\item 
const void $\ast$ \mbox{\hyperlink{rtems-fdt_8h_ac2898a55d17e55765179f2d4b1acebcf}{rtems\+\_\+fdt\+\_\+getprop\+\_\+namelen}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int nodeoffset, const char $\ast$const name, int namelen, int $\ast$length)
\item 
const void $\ast$ \mbox{\hyperlink{rtems-fdt_8h_aaf20b3498dc0cce9c497c0adacb77955}{rtems\+\_\+fdt\+\_\+getprop}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int nodeoffset, const char $\ast$const name, int $\ast$length)
\item 
uint32\+\_\+t \mbox{\hyperlink{rtems-fdt_8h_a380df921ada4d6d9b5e1c1605448744a}{rtems\+\_\+fdt\+\_\+get\+\_\+phandle}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int nodeoffset)
\item 
const char $\ast$ \mbox{\hyperlink{rtems-fdt_8h_a424bf49f7d9b45ac4340206aef66c8f4}{rtems\+\_\+fdt\+\_\+get\+\_\+alias\+\_\+namelen}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, const char $\ast$const name, int namelen)
\item 
const char $\ast$ \mbox{\hyperlink{rtems-fdt_8h_af220698849e74aac90bea92864e5d628}{rtems\+\_\+fdt\+\_\+get\+\_\+alias}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, const char $\ast$name)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_afcdb3310c5a54e1f954e30a16af3dc6a}{rtems\+\_\+fdt\+\_\+get\+\_\+path}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int nodeoffset, char $\ast$buf, int buflen)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a20478964d261bd15846a70f3d8af55ab}{rtems\+\_\+fdt\+\_\+supernode\+\_\+atdepth\+\_\+offset}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int nodeoffset, int supernodedepth, int $\ast$nodedepth)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a9ec16b9548b07b98f9d88e2e7a6f62cc}{rtems\+\_\+fdt\+\_\+node\+\_\+depth}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int nodeoffset)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a99132e68dc89a9345760db5f986e26be}{rtems\+\_\+fdt\+\_\+parent\+\_\+offset}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int nodeoffset)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_acc37bcb0ea7b3d2a6f1c9bb9369305c4}{rtems\+\_\+fdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+prop\+\_\+value}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int startoffset, const char $\ast$const propname, const void $\ast$propval, int proplen)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a0e325bcc41668532f9d4fdc6d66d5fb6}{rtems\+\_\+fdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+phandle}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, uint32\+\_\+t phandle)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a6abac9c2c215d99055a4f0c85c831ba1}{rtems\+\_\+fdt\+\_\+node\+\_\+check\+\_\+compatible}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int nodeoffset, const char $\ast$const compatible)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_abe269c0fdda9a30c153f87b507c9a1f3}{rtems\+\_\+fdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+compatible}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int startoffset, const char $\ast$compatible)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a20680319175c55fcc8f375730f2fc98e}{rtems\+\_\+fdt\+\_\+next\+\_\+node}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int offset, int $\ast$depth)
\item 
const char $\ast$ \mbox{\hyperlink{rtems-fdt_8h_a29d5e02973f7a6950997f9df08fbcdbe}{rtems\+\_\+fdt\+\_\+strerror}} (int errval)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_ab80bd246991e1af0ae5b67ad548f75c2}{rtems\+\_\+fdt\+\_\+prop\+\_\+value}} (const char $\ast$const path, const char $\ast$const propname, void $\ast$value, size\+\_\+t $\ast$\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}})
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a59ecd00704b8d133666365ade18e563b}{rtems\+\_\+fdt\+\_\+prop\+\_\+map}} (const char $\ast$const path, const char $\ast$const propname, const char $\ast$const names\mbox{[}$\,$\mbox{]}, uint32\+\_\+t $\ast$values, size\+\_\+t count)
\item 
\mbox{\Hypertarget{rtems-fdt_8h_ab30e807853d110c9e5b9c5b03e06cc28}\label{rtems-fdt_8h_ab30e807853d110c9e5b9c5b03e06cc28}} 
int {\bfseries rtems\+\_\+fdt\+\_\+get\+\_\+value} (const char $\ast$const path, const char $\ast$const property, size\+\_\+t \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}, uint32\+\_\+t $\ast$value)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a3f1a5642dfec6745846f5fea1a512cf5}{rtems\+\_\+fdt\+\_\+num\+\_\+entries}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle)
\item 
const char $\ast$ \mbox{\hyperlink{rtems-fdt_8h_a40fcb9df3611e0a99021b38f00571713}{rtems\+\_\+fdt\+\_\+entry\+\_\+name}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int id)
\item 
int \mbox{\hyperlink{rtems-fdt_8h_a5a00ac7324cf4c362286922a734a7e79}{rtems\+\_\+fdt\+\_\+entry\+\_\+offset}} (\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$handle, int id)
\item 
\mbox{\Hypertarget{rtems-fdt_8h_a777f0d88fab8a465c1087170ce20f21d}\label{rtems-fdt_8h_a777f0d88fab8a465c1087170ce20f21d}} 
uint32\+\_\+t {\bfseries rtems\+\_\+fdt\+\_\+get\+\_\+uint32} (const void $\ast$prop)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
R\+T\+E\+MS Flattened Device Tree. 

Support for loading, managing and accessing F\+DT blobs in R\+T\+E\+MS. 

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{rtems-fdt_8h_a1c970b5dd3c0b17772fed719b4f606b2}\label{rtems-fdt_8h_a1c970b5dd3c0b17772fed719b4f606b2}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_BADLAYOUT@{RTEMS\_FDT\_ERR\_BADLAYOUT}}
\index{RTEMS\_FDT\_ERR\_BADLAYOUT@{RTEMS\_FDT\_ERR\_BADLAYOUT}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_BADLAYOUT}{RTEMS\_FDT\_ERR\_BADLAYOUT}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+L\+A\+Y\+O\+UT~12}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+L\+A\+Y\+O\+UT\+: For read-\/write functions, the given device tree has it\textquotesingle{}s sub-\/blocks in an order that the function can\textquotesingle{}t handle (memory reserve map, then structure, then strings). Use rtems\+\_\+fdt\+\_\+open\+\_\+into() to reorganize the tree into a form suitable for the read-\/write operations. \mbox{\Hypertarget{rtems-fdt_8h_a1ade4d657298b170677b2a29f4e3c3b6}\label{rtems-fdt_8h_a1ade4d657298b170677b2a29f4e3c3b6}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_BADMAGIC@{RTEMS\_FDT\_ERR\_BADMAGIC}}
\index{RTEMS\_FDT\_ERR\_BADMAGIC@{RTEMS\_FDT\_ERR\_BADMAGIC}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_BADMAGIC}{RTEMS\_FDT\_ERR\_BADMAGIC}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+M\+A\+G\+IC~9}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+M\+A\+G\+IC\+: Given \char`\"{}device tree\char`\"{} appears not to be a device tree at all -\/ it is missing the flattened device tree magic number. \mbox{\Hypertarget{rtems-fdt_8h_aa3fc1bbe15934b882af1366e96be49f7}\label{rtems-fdt_8h_aa3fc1bbe15934b882af1366e96be49f7}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_BADOFFSET@{RTEMS\_FDT\_ERR\_BADOFFSET}}
\index{RTEMS\_FDT\_ERR\_BADOFFSET@{RTEMS\_FDT\_ERR\_BADOFFSET}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_BADOFFSET}{RTEMS\_FDT\_ERR\_BADOFFSET}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+O\+F\+F\+S\+ET~4}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+O\+F\+F\+S\+ET\+: Function was passed a structure block offset which is out-\/of-\/bounds, or which points to an unsuitable part of the structure for the operation. \mbox{\Hypertarget{rtems-fdt_8h_a6408443266323215cd2616432644ab6f}\label{rtems-fdt_8h_a6408443266323215cd2616432644ab6f}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_BADPATH@{RTEMS\_FDT\_ERR\_BADPATH}}
\index{RTEMS\_FDT\_ERR\_BADPATH@{RTEMS\_FDT\_ERR\_BADPATH}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_BADPATH}{RTEMS\_FDT\_ERR\_BADPATH}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+P\+A\+TH~5}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+P\+A\+TH\+: Function was passed a badly formatted path (e.\+g. missing a leading / for a function which requires an absolute path) \mbox{\Hypertarget{rtems-fdt_8h_a65317278a6c62afefc1d986c8c1686ad}\label{rtems-fdt_8h_a65317278a6c62afefc1d986c8c1686ad}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_BADPHANDLE@{RTEMS\_FDT\_ERR\_BADPHANDLE}}
\index{RTEMS\_FDT\_ERR\_BADPHANDLE@{RTEMS\_FDT\_ERR\_BADPHANDLE}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_BADPHANDLE}{RTEMS\_FDT\_ERR\_BADPHANDLE}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+P\+H\+A\+N\+D\+LE~6}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+P\+H\+A\+N\+D\+LE\+: Function was passed an invalid phandle value. phandle values of 0 and -\/1 are not permitted. \mbox{\Hypertarget{rtems-fdt_8h_a750ba759dda889c4a66d6eaa232c878a}\label{rtems-fdt_8h_a750ba759dda889c4a66d6eaa232c878a}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_BADSTATE@{RTEMS\_FDT\_ERR\_BADSTATE}}
\index{RTEMS\_FDT\_ERR\_BADSTATE@{RTEMS\_FDT\_ERR\_BADSTATE}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_BADSTATE}{RTEMS\_FDT\_ERR\_BADSTATE}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+S\+T\+A\+TE~7}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+S\+T\+A\+TE\+: Function was passed an incomplete device tree created by the sequential-\/write functions, which is not sufficiently complete for the requested operation. \mbox{\Hypertarget{rtems-fdt_8h_ad6f0a6ee11fdd227e8e95088edfb4d8f}\label{rtems-fdt_8h_ad6f0a6ee11fdd227e8e95088edfb4d8f}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_BADSTRUCTURE@{RTEMS\_FDT\_ERR\_BADSTRUCTURE}}
\index{RTEMS\_FDT\_ERR\_BADSTRUCTURE@{RTEMS\_FDT\_ERR\_BADSTRUCTURE}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_BADSTRUCTURE}{RTEMS\_FDT\_ERR\_BADSTRUCTURE}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+S\+T\+R\+U\+C\+T\+U\+RE~11}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+S\+T\+R\+U\+C\+T\+U\+RE\+: Given device tree has a corrupt structure block or other serious error (e.\+g. misnested nodes, or subnodes preceding properties). \mbox{\Hypertarget{rtems-fdt_8h_af1335b18e4b59d15f05fc888cb2725dc}\label{rtems-fdt_8h_af1335b18e4b59d15f05fc888cb2725dc}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_BADVERSION@{RTEMS\_FDT\_ERR\_BADVERSION}}
\index{RTEMS\_FDT\_ERR\_BADVERSION@{RTEMS\_FDT\_ERR\_BADVERSION}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_BADVERSION}{RTEMS\_FDT\_ERR\_BADVERSION}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+V\+E\+R\+S\+I\+ON~10}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+B\+A\+D\+V\+E\+R\+S\+I\+ON\+: Given device tree has a version which can\textquotesingle{}t be handled by the requested operation. For read-\/write functions, this may mean that rtems\+\_\+fdt\+\_\+open\+\_\+into() is required to convert the tree to the expected version. \mbox{\Hypertarget{rtems-fdt_8h_a7077da16961f22b6a669f42e14754a19}\label{rtems-fdt_8h_a7077da16961f22b6a669f42e14754a19}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_EXISTS@{RTEMS\_FDT\_ERR\_EXISTS}}
\index{RTEMS\_FDT\_ERR\_EXISTS@{RTEMS\_FDT\_ERR\_EXISTS}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_EXISTS}{RTEMS\_FDT\_ERR\_EXISTS}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+E\+X\+I\+S\+TS~2}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+E\+X\+I\+S\+TS\+: Attemped to create a node or property which already exists \mbox{\Hypertarget{rtems-fdt_8h_aeb4caa4ae7a6ee091aba109d321a1d12}\label{rtems-fdt_8h_aeb4caa4ae7a6ee091aba109d321a1d12}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_INTERNAL@{RTEMS\_FDT\_ERR\_INTERNAL}}
\index{RTEMS\_FDT\_ERR\_INTERNAL@{RTEMS\_FDT\_ERR\_INTERNAL}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_INTERNAL}{RTEMS\_FDT\_ERR\_INTERNAL}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+I\+N\+T\+E\+R\+N\+AL~13}

\char`\"{}\+Can\textquotesingle{}t happen\char`\"{} error indicating a bug in libfdt \mbox{\Hypertarget{rtems-fdt_8h_a7e6f3cad8bb35b7827abd788a1f2afb3}\label{rtems-fdt_8h_a7e6f3cad8bb35b7827abd788a1f2afb3}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_INVALID\_HANDLE@{RTEMS\_FDT\_ERR\_INVALID\_HANDLE}}
\index{RTEMS\_FDT\_ERR\_INVALID\_HANDLE@{RTEMS\_FDT\_ERR\_INVALID\_HANDLE}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_INVALID\_HANDLE}{RTEMS\_FDT\_ERR\_INVALID\_HANDLE}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+H\+A\+N\+D\+LE~100}

Invalid handle. \mbox{\Hypertarget{rtems-fdt_8h_aceaa83d086fdece4ae7b58063444e4f8}\label{rtems-fdt_8h_aceaa83d086fdece4ae7b58063444e4f8}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_NO\_MEMORY@{RTEMS\_FDT\_ERR\_NO\_MEMORY}}
\index{RTEMS\_FDT\_ERR\_NO\_MEMORY@{RTEMS\_FDT\_ERR\_NO\_MEMORY}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_NO\_MEMORY}{RTEMS\_FDT\_ERR\_NO\_MEMORY}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY~101}

No memory. \mbox{\Hypertarget{rtems-fdt_8h_ac572292c1bf4b03caf1ed614297df75f}\label{rtems-fdt_8h_ac572292c1bf4b03caf1ed614297df75f}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_NOSPACE@{RTEMS\_FDT\_ERR\_NOSPACE}}
\index{RTEMS\_FDT\_ERR\_NOSPACE@{RTEMS\_FDT\_ERR\_NOSPACE}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_NOSPACE}{RTEMS\_FDT\_ERR\_NOSPACE}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+S\+P\+A\+CE~3}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+S\+P\+A\+CE\+: Operation needed to expand the device tree, but its buffer did not have sufficient space to contain the expanded tree. Use rtems\+\_\+fdt\+\_\+open\+\_\+into() to move the device tree to a buffer with more space. \mbox{\Hypertarget{rtems-fdt_8h_af669f9280824e70fcf06a377724be893}\label{rtems-fdt_8h_af669f9280824e70fcf06a377724be893}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_NOT\_FOUND@{RTEMS\_FDT\_ERR\_NOT\_FOUND}}
\index{RTEMS\_FDT\_ERR\_NOT\_FOUND@{RTEMS\_FDT\_ERR\_NOT\_FOUND}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_NOT\_FOUND}{RTEMS\_FDT\_ERR\_NOT\_FOUND}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+T\+\_\+\+F\+O\+U\+ND~102}

File not found. \mbox{\Hypertarget{rtems-fdt_8h_a60c40da67e6383e601b3b92c267b0ab5}\label{rtems-fdt_8h_a60c40da67e6383e601b3b92c267b0ab5}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_NOTFOUND@{RTEMS\_FDT\_ERR\_NOTFOUND}}
\index{RTEMS\_FDT\_ERR\_NOTFOUND@{RTEMS\_FDT\_ERR\_NOTFOUND}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_NOTFOUND}{RTEMS\_FDT\_ERR\_NOTFOUND}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+T\+F\+O\+U\+ND~1}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+T\+F\+O\+U\+ND\+: The requested node or property does not exist \mbox{\Hypertarget{rtems-fdt_8h_a35e372e1e99ca64f229614e5c7fa7bc7}\label{rtems-fdt_8h_a35e372e1e99ca64f229614e5c7fa7bc7}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_READ\_FAIL@{RTEMS\_FDT\_ERR\_READ\_FAIL}}
\index{RTEMS\_FDT\_ERR\_READ\_FAIL@{RTEMS\_FDT\_ERR\_READ\_FAIL}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_READ\_FAIL}{RTEMS\_FDT\_ERR\_READ\_FAIL}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+R\+E\+A\+D\+\_\+\+F\+A\+IL~103}

Cannot read the D\+TB into memory. \mbox{\Hypertarget{rtems-fdt_8h_aef76af337c06a43049c280b90b3f2755}\label{rtems-fdt_8h_aef76af337c06a43049c280b90b3f2755}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_REFERENCED@{RTEMS\_FDT\_ERR\_REFERENCED}}
\index{RTEMS\_FDT\_ERR\_REFERENCED@{RTEMS\_FDT\_ERR\_REFERENCED}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_REFERENCED}{RTEMS\_FDT\_ERR\_REFERENCED}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+R\+E\+F\+E\+R\+E\+N\+C\+ED~104}

The blob cannot be unloaded as it is referenced. \mbox{\Hypertarget{rtems-fdt_8h_aa7370489ac101a450c2fb9453a6f7d06}\label{rtems-fdt_8h_aa7370489ac101a450c2fb9453a6f7d06}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!RTEMS\_FDT\_ERR\_TRUNCATED@{RTEMS\_FDT\_ERR\_TRUNCATED}}
\index{RTEMS\_FDT\_ERR\_TRUNCATED@{RTEMS\_FDT\_ERR\_TRUNCATED}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{RTEMS\_FDT\_ERR\_TRUNCATED}{RTEMS\_FDT\_ERR\_TRUNCATED}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+T\+R\+U\+N\+C\+A\+T\+ED~8}

R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+T\+R\+U\+N\+C\+A\+T\+ED\+: Structure block of the given device tree ends without an R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+ND tag. 

\subsection{Function Documentation}
\mbox{\Hypertarget{rtems-fdt_8h_a7345cc5334e1afde88e13f65ddb68f12}\label{rtems-fdt_8h_a7345cc5334e1afde88e13f65ddb68f12}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_dup\_handle@{rtems\_fdt\_dup\_handle}}
\index{rtems\_fdt\_dup\_handle@{rtems\_fdt\_dup\_handle}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_dup\_handle()}{rtems\_fdt\_dup\_handle()}}
{\footnotesize\ttfamily void rtems\+\_\+fdt\+\_\+dup\+\_\+handle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{from,  }\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{to }\end{DoxyParamCaption})}

Duplicate a handle. The copy must be released.


\begin{DoxyParams}{Parameters}
{\em from} & Duplicate from this handle. \\
\hline
{\em to} & Duplicate to this handle. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtems-fdt_8h_a40fcb9df3611e0a99021b38f00571713}\label{rtems-fdt_8h_a40fcb9df3611e0a99021b38f00571713}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_entry\_name@{rtems\_fdt\_entry\_name}}
\index{rtems\_fdt\_entry\_name@{rtems\_fdt\_entry\_name}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_entry\_name()}{rtems\_fdt\_entry\_name()}}
{\footnotesize\ttfamily const char$\ast$ rtems\+\_\+fdt\+\_\+entry\+\_\+name (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{id }\end{DoxyParamCaption})}

Get the numbered entry name. Note that the id isn\textquotesingle{}t the same as the offset -\/ it\textquotesingle{}s numbered 0, 1, 2 ... num\+\_\+entries-\/1 \mbox{\Hypertarget{rtems-fdt_8h_a5a00ac7324cf4c362286922a734a7e79}\label{rtems-fdt_8h_a5a00ac7324cf4c362286922a734a7e79}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_entry\_offset@{rtems\_fdt\_entry\_offset}}
\index{rtems\_fdt\_entry\_offset@{rtems\_fdt\_entry\_offset}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_entry\_offset()}{rtems\_fdt\_entry\_offset()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+entry\+\_\+offset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{id }\end{DoxyParamCaption})}

Get the numbered entry offset. Note that the id isn\textquotesingle{}t the same as the offset -\/ it\textquotesingle{}s numbered 0, 1, 2 ... num\+\_\+entries-\/1 \mbox{\Hypertarget{rtems-fdt_8h_a82ee27464217327e0e7fb40ef60a48ac}\label{rtems-fdt_8h_a82ee27464217327e0e7fb40ef60a48ac}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_find\_path\_offset@{rtems\_fdt\_find\_path\_offset}}
\index{rtems\_fdt\_find\_path\_offset@{rtems\_fdt\_find\_path\_offset}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_find\_path\_offset()}{rtems\_fdt\_find\_path\_offset()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+find\+\_\+path\+\_\+offset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{const char $\ast$}]{path }\end{DoxyParamCaption})}

Find a tree node by its full path looking across of loaded blobs.. Each path component may omit the unit address portion, but the results of this are undefined if any such path component is ambiguous (that is if there are multiple nodes at the relevant level matching the given component, differentiated only by unit address).

If the handle points to a valid blob it is release and the search starts from the first blob.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle assigned to the blob if found else left invalid. \\
\hline
{\em path} & Full path of the node to locate. \\
\hline
{\em int} & If less than 0 an error code else the node offset is returned. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtems-fdt_8h_af220698849e74aac90bea92864e5d628}\label{rtems-fdt_8h_af220698849e74aac90bea92864e5d628}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_get\_alias@{rtems\_fdt\_get\_alias}}
\index{rtems\_fdt\_get\_alias@{rtems\_fdt\_get\_alias}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_get\_alias()}{rtems\_fdt\_get\_alias()}}
{\footnotesize\ttfamily const char$\ast$ rtems\+\_\+fdt\+\_\+get\+\_\+alias (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{const char $\ast$}]{name }\end{DoxyParamCaption})}

Retreive the path referenced by a given alias. That is, the value of the property named \textquotesingle{}name\textquotesingle{} in the node /aliases.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em name} & The name of the alias to look up. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
const char$\ast$ A pointer to the expansion of the alias named \textquotesingle{}name\textquotesingle{}, of it exists N\+U\+LL, if the given alias or the /aliases node does not exist 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a424bf49f7d9b45ac4340206aef66c8f4}\label{rtems-fdt_8h_a424bf49f7d9b45ac4340206aef66c8f4}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_get\_alias\_namelen@{rtems\_fdt\_get\_alias\_namelen}}
\index{rtems\_fdt\_get\_alias\_namelen@{rtems\_fdt\_get\_alias\_namelen}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_get\_alias\_namelen()}{rtems\_fdt\_get\_alias\_namelen()}}
{\footnotesize\ttfamily const char$\ast$ rtems\+\_\+fdt\+\_\+get\+\_\+alias\+\_\+namelen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{const char $\ast$const}]{name,  }\item[{int}]{namelen }\end{DoxyParamCaption})}

Get alias based on substring. Identical to \mbox{\hyperlink{rtems-fdt_8h_af220698849e74aac90bea92864e5d628}{rtems\+\_\+fdt\+\_\+get\+\_\+alias()}}, but only examine the first namelen characters of name for matching the alias name.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em name} & The name of the alias th look up. \\
\hline
{\em namelen} & The number of characters of name to consider. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
const char$\ast$ The alias or N\+U\+LL. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_af1bed3b15e9467073b96de9eb48b0f58}\label{rtems-fdt_8h_af1bed3b15e9467073b96de9eb48b0f58}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_get\_mem\_rsv@{rtems\_fdt\_get\_mem\_rsv}}
\index{rtems\_fdt\_get\_mem\_rsv@{rtems\_fdt\_get\_mem\_rsv}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_get\_mem\_rsv()}{rtems\_fdt\_get\_mem\_rsv()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+get\+\_\+mem\+\_\+rsv (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{n,  }\item[{uint64\+\_\+t $\ast$}]{address,  }\item[{uint64\+\_\+t $\ast$}]{size }\end{DoxyParamCaption})}

Retrieve one memory reserve map entry. On success, $\ast$address and $\ast$size will contain the address and size of the n-\/th reserve map entry from the device tree blob, in native-\/endian format.


\begin{DoxyParams}{Parameters}
{\em blob\+\_\+desc} & A valid blob descriptor. \\
\hline
{\em address} & Pointer to 64-\/bit variables to hold the addresses. \\
\hline
{\em size} & Pointer to 64-\/bit variables to hold the size. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 it is an error code else 0 is returned on success. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a231745529cbd5da1e22005e6c2168bc5}\label{rtems-fdt_8h_a231745529cbd5da1e22005e6c2168bc5}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_get\_name@{rtems\_fdt\_get\_name}}
\index{rtems\_fdt\_get\_name@{rtems\_fdt\_get\_name}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_get\_name()}{rtems\_fdt\_get\_name()}}
{\footnotesize\ttfamily const char$\ast$ rtems\+\_\+fdt\+\_\+get\+\_\+name (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{nodeoffset,  }\item[{int $\ast$}]{length }\end{DoxyParamCaption})}

Retrieve the name of a given node (including unit address) of the device tree node at structure block offset @nodeoffset. If @length is non-\/\+N\+U\+LL, the length of this name is also returned, in the integer pointed to by @length.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em nodeoffset} & Structure block offset of the starting node. \\
\hline
{\em length} & Pointer to an integer variable (will be overwritten) or N\+U\+LL. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
const char$\ast$ The node\textquotesingle{}s name on success or N\+U\+LL on error. The length if non-\/\+N\+U\+LL will hold the error code. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_afcdb3310c5a54e1f954e30a16af3dc6a}\label{rtems-fdt_8h_afcdb3310c5a54e1f954e30a16af3dc6a}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_get\_path@{rtems\_fdt\_get\_path}}
\index{rtems\_fdt\_get\_path@{rtems\_fdt\_get\_path}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_get\_path()}{rtems\_fdt\_get\_path()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+get\+\_\+path (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{nodeoffset,  }\item[{char $\ast$}]{buf,  }\item[{int}]{buflen }\end{DoxyParamCaption})}

Determine the full path of a node. This function is expensive, as it must scan the device tree structure from the start to nodeoffset. It computes the full path of the node at offset nodeoffset, and records that path in the buffer at buf.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em nodeoffset} & The offset of the node whose path to find. \\
\hline
{\em buf} & A character buffer to contain the returned path (will be overwritten) \\
\hline
{\em buflen} & The size of the character buffer at buf. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 on success of an error code. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a380df921ada4d6d9b5e1c1605448744a}\label{rtems-fdt_8h_a380df921ada4d6d9b5e1c1605448744a}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_get\_phandle@{rtems\_fdt\_get\_phandle}}
\index{rtems\_fdt\_get\_phandle@{rtems\_fdt\_get\_phandle}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_get\_phandle()}{rtems\_fdt\_get\_phandle()}}
{\footnotesize\ttfamily uint32\+\_\+t rtems\+\_\+fdt\+\_\+get\+\_\+phandle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{nodeoffset }\end{DoxyParamCaption})}

Retrieve the phandle of a given of the device tree node at structure block offset nodeoffset.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. @oaram nodeoffset The structure block offset of the node. return uint32\+\_\+t The phandle of the node at nodeoffset, on success (!= 0, != -\/1) 0, if the node has no phandle, or another error occurs. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtems-fdt_8h_aaf20b3498dc0cce9c497c0adacb77955}\label{rtems-fdt_8h_aaf20b3498dc0cce9c497c0adacb77955}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_getprop@{rtems\_fdt\_getprop}}
\index{rtems\_fdt\_getprop@{rtems\_fdt\_getprop}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_getprop()}{rtems\_fdt\_getprop()}}
{\footnotesize\ttfamily const void$\ast$ rtems\+\_\+fdt\+\_\+getprop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{nodeoffset,  }\item[{const char $\ast$const}]{name,  }\item[{int $\ast$}]{length }\end{DoxyParamCaption})}

Retrieve the value of a given property. Retrieves a pointer to the value of the property named \textquotesingle{}name\textquotesingle{} of the node at offset nodeoffset (this will be a pointer to within the device blob itself, not a copy of the value). If lenp is non-\/\+N\+U\+LL, the length of the property value is also returned, in the integer pointed to by @length.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em nodeoffset} & The offset of the node whose property to find. \\
\hline
{\em name} & The name of the property to find. \\
\hline
{\em length} & A pointer to an integer variable (will be overwritten) or N\+U\+LL. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
const void$\ast$ The node\textquotesingle{}s property on success or N\+U\+LL on error. The length if non-\/\+N\+U\+LL will hold the error code. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_ac2898a55d17e55765179f2d4b1acebcf}\label{rtems-fdt_8h_ac2898a55d17e55765179f2d4b1acebcf}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_getprop\_namelen@{rtems\_fdt\_getprop\_namelen}}
\index{rtems\_fdt\_getprop\_namelen@{rtems\_fdt\_getprop\_namelen}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_getprop\_namelen()}{rtems\_fdt\_getprop\_namelen()}}
{\footnotesize\ttfamily const void$\ast$ rtems\+\_\+fdt\+\_\+getprop\+\_\+namelen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{nodeoffset,  }\item[{const char $\ast$const}]{name,  }\item[{int}]{namelen,  }\item[{int $\ast$}]{length }\end{DoxyParamCaption})}

Get property value based on substring. Identical to \mbox{\hyperlink{rtems-fdt_8h_aaf20b3498dc0cce9c497c0adacb77955}{rtems\+\_\+fdt\+\_\+getprop()}}, but only examine the first namelen characters of name for matching the property name.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em nodeoffset} & Offset of the node whose property to find \\
\hline
{\em name} & The name of the property to find \\
\hline
{\em namelen} & The number of characters of name to consider \\
\hline
{\em length} & A pointer to an integer variable (will be overwritten) or N\+U\+LL. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
const void$\ast$ The node\textquotesingle{}s property on success or N\+U\+LL on error. The length if non-\/\+N\+U\+LL will hold the error code. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a3315346f05c8e25cd84b62626f249da4}\label{rtems-fdt_8h_a3315346f05c8e25cd84b62626f249da4}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_init\_handle@{rtems\_fdt\_init\_handle}}
\index{rtems\_fdt\_init\_handle@{rtems\_fdt\_init\_handle}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_init\_handle()}{rtems\_fdt\_init\_handle()}}
{\footnotesize\ttfamily void rtems\+\_\+fdt\+\_\+init\+\_\+handle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Initialise a handle to a default state.


\begin{DoxyParams}{Parameters}
{\em handle} & The handle to initialise. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtems-fdt_8h_ade27ea157b92bb17f531baae94571c5b}\label{rtems-fdt_8h_ade27ea157b92bb17f531baae94571c5b}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_load@{rtems\_fdt\_load}}
\index{rtems\_fdt\_load@{rtems\_fdt\_load}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_load()}{rtems\_fdt\_load()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+load (\begin{DoxyParamCaption}\item[{const char $\ast$const}]{filename,  }\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Load a device tree blob or D\+TB file into memory and register it on the chain of blobs.


\begin{DoxyParams}{Parameters}
{\em filename} & The name of the blob file to load. \\
\hline
{\em handle} & The handle returns the reference to the blob once load. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 it is an error code else it is the blob descriptor. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a20680319175c55fcc8f375730f2fc98e}\label{rtems-fdt_8h_a20680319175c55fcc8f375730f2fc98e}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_next\_node@{rtems\_fdt\_next\_node}}
\index{rtems\_fdt\_next\_node@{rtems\_fdt\_next\_node}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_next\_node()}{rtems\_fdt\_next\_node()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+next\+\_\+node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{offset,  }\item[{int $\ast$}]{depth }\end{DoxyParamCaption})}

Traverse to the next node.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em offset} & The offset in the blob to start looking for the next node. \\
\hline
{\em depth} & Pointer to return the depth the node is. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 an error else the node offset. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a6abac9c2c215d99055a4f0c85c831ba1}\label{rtems-fdt_8h_a6abac9c2c215d99055a4f0c85c831ba1}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_node\_check\_compatible@{rtems\_fdt\_node\_check\_compatible}}
\index{rtems\_fdt\_node\_check\_compatible@{rtems\_fdt\_node\_check\_compatible}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_node\_check\_compatible()}{rtems\_fdt\_node\_check\_compatible()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+node\+\_\+check\+\_\+compatible (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{nodeoffset,  }\item[{const char $\ast$const}]{compatible }\end{DoxyParamCaption})}

Check a node\textquotesingle{}s compatible property returning 0 if the given node contains a \textquotesingle{}compatible\textquotesingle{} property with the given string as one of its elements, it returns non-\/zero otherwise, or on error.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em nodeoffset} & The offset of a tree node. \\
\hline
{\em compatible} & The string to match against. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0,if} & the node has a \textquotesingle{}compatible\textquotesingle{} property listing the given string. \\
\hline
{\em 1,if} & the node has a \textquotesingle{}compatible\textquotesingle{} property, but it does not list the given string \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtems-fdt_8h_a9ec16b9548b07b98f9d88e2e7a6f62cc}\label{rtems-fdt_8h_a9ec16b9548b07b98f9d88e2e7a6f62cc}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_node\_depth@{rtems\_fdt\_node\_depth}}
\index{rtems\_fdt\_node\_depth@{rtems\_fdt\_node\_depth}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_node\_depth()}{rtems\_fdt\_node\_depth()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+node\+\_\+depth (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{nodeoffset }\end{DoxyParamCaption})}

Find the depth of a given node. The root node has depth 0, its immediate subnodes depth 1 and so forth.

\begin{DoxyNote}{Note}
This function is expensive, as it must scan the device tree structure from the start to nodeoffset.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em nodeoffset} & The offset of the node whose parent to find. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 an error else the node offset. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_abe269c0fdda9a30c153f87b507c9a1f3}\label{rtems-fdt_8h_abe269c0fdda9a30c153f87b507c9a1f3}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_node\_offset\_by\_compatible@{rtems\_fdt\_node\_offset\_by\_compatible}}
\index{rtems\_fdt\_node\_offset\_by\_compatible@{rtems\_fdt\_node\_offset\_by\_compatible}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_node\_offset\_by\_compatible()}{rtems\_fdt\_node\_offset\_by\_compatible()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+compatible (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{startoffset,  }\item[{const char $\ast$}]{compatible }\end{DoxyParamCaption})}

Find nodes with a given \textquotesingle{}compatible\textquotesingle{} value returning the offset of the first node after startoffset, which has a \textquotesingle{}compatible\textquotesingle{} property which lists the given compatible string; or if startoffset is -\/1, the very first such node in the tree.

To iterate through all nodes matching the criterion, the following idiom can be used\+:

offset = rtems\+\_\+fdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+compatible(blob, -\/1, compatible); while (offset != -\/R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+T\+F\+O\+U\+ND) \{ // other code here offset = rtems\+\_\+fdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+compatible(blob, offset, compatible); \}

\begin{DoxyNote}{Note}
The -\/1 in the first call to the function, if 0 is used here instead, the function will never locate the root node, even if it matches the criterion.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em startoffset} & Only find nodes after this offset. \\
\hline
{\em compatible} & The \textquotesingle{}compatible\textquotesingle{} string to match against. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 an error else the node offset. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a0e325bcc41668532f9d4fdc6d66d5fb6}\label{rtems-fdt_8h_a0e325bcc41668532f9d4fdc6d66d5fb6}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_node\_offset\_by\_phandle@{rtems\_fdt\_node\_offset\_by\_phandle}}
\index{rtems\_fdt\_node\_offset\_by\_phandle@{rtems\_fdt\_node\_offset\_by\_phandle}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_node\_offset\_by\_phandle()}{rtems\_fdt\_node\_offset\_by\_phandle()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+phandle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{uint32\+\_\+t}]{phandle }\end{DoxyParamCaption})}

Find the node with a given phandle returning the offset of the node which has the given phandle value. If there is more than one node in the tree with the given phandle (an invalid tree), results are undefined.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em phandle} & The phandle value. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 an error else the node offset. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_acc37bcb0ea7b3d2a6f1c9bb9369305c4}\label{rtems-fdt_8h_acc37bcb0ea7b3d2a6f1c9bb9369305c4}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_node\_offset\_by\_prop\_value@{rtems\_fdt\_node\_offset\_by\_prop\_value}}
\index{rtems\_fdt\_node\_offset\_by\_prop\_value@{rtems\_fdt\_node\_offset\_by\_prop\_value}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_node\_offset\_by\_prop\_value()}{rtems\_fdt\_node\_offset\_by\_prop\_value()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+prop\+\_\+value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{startoffset,  }\item[{const char $\ast$const}]{propname,  }\item[{const void $\ast$}]{propval,  }\item[{int}]{proplen }\end{DoxyParamCaption})}

Find nodes with a given property value. This funtion returns the offset of the first node after startoffset, which has a property named propname whose value is of length proplen and has value equal to propval; or if startoffset is -\/1, the very first such node in the tree.

To iterate through all nodes matching the criterion, the following idiom can be used\+: offset = rtemsfdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+prop\+\_\+value(blob, -\/1, propname, propval, proplen); while (offset != -\/R\+T\+E\+M\+S\+\_\+\+F\+D\+T\+\_\+\+E\+R\+R\+\_\+\+N\+O\+T\+F\+O\+U\+ND) \{ // other code here offset = rtems\+\_\+fdt\+\_\+node\+\_\+offset\+\_\+by\+\_\+prop\+\_\+value(fdt, offset, propname, propval, proplen); \}

\begin{DoxyNote}{Note}
The -\/1 in the first call to the function, if 0 is used here instead, the function will never locate the root node, even if it matches the criterion.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em startoffset} & Only find nodes after this offset. \\
\hline
{\em propname} & The property name to check. \\
\hline
{\em propval} & The property value to search for. \\
\hline
{\em proplen} & The length of the value in propval. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int The structure block offset of the located node ($>$= 0, $>$startoffset), on success and an error code is less than 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a3f1a5642dfec6745846f5fea1a512cf5}\label{rtems-fdt_8h_a3f1a5642dfec6745846f5fea1a512cf5}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_num\_entries@{rtems\_fdt\_num\_entries}}
\index{rtems\_fdt\_num\_entries@{rtems\_fdt\_num\_entries}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_num\_entries()}{rtems\_fdt\_num\_entries()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+num\+\_\+entries (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Get the number of entries in an F\+DT handle. \mbox{\Hypertarget{rtems-fdt_8h_afded44117e8bf86b1fa32164b081f3bb}\label{rtems-fdt_8h_afded44117e8bf86b1fa32164b081f3bb}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_num\_mem\_rsv@{rtems\_fdt\_num\_mem\_rsv}}
\index{rtems\_fdt\_num\_mem\_rsv@{rtems\_fdt\_num\_mem\_rsv}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_num\_mem\_rsv()}{rtems\_fdt\_num\_mem\_rsv()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+num\+\_\+mem\+\_\+rsv (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Returns the number of entries in the device tree blob\textquotesingle{}s memory reservation map. This does not include the terminating 0,0 entry or any other (0,0) entries reserved for expansion.


\begin{DoxyParams}{Parameters}
{\em blob\+\_\+desc} & A valid blob descriptor. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int The number of entries. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a99132e68dc89a9345760db5f986e26be}\label{rtems-fdt_8h_a99132e68dc89a9345760db5f986e26be}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_parent\_offset@{rtems\_fdt\_parent\_offset}}
\index{rtems\_fdt\_parent\_offset@{rtems\_fdt\_parent\_offset}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_parent\_offset()}{rtems\_fdt\_parent\_offset()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+parent\+\_\+offset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{nodeoffset }\end{DoxyParamCaption})}

Find the parent of a given node. This funciton locates the parent node of a given node (that is, it finds the offset of the node which contains the node at nodeoffset as a subnode).

\begin{DoxyNote}{Note}
This function is expensive, as it must scan the device tree structure from the start to nodeoffset, {\itshape twice}.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em nodeoffset} & The offset of the node whose parent to find. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 an error else the node offset. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a57007eed312123059461eb8bbace1c09}\label{rtems-fdt_8h_a57007eed312123059461eb8bbace1c09}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_path\_offset@{rtems\_fdt\_path\_offset}}
\index{rtems\_fdt\_path\_offset@{rtems\_fdt\_path\_offset}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_path\_offset()}{rtems\_fdt\_path\_offset()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+path\+\_\+offset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{const char $\ast$}]{path }\end{DoxyParamCaption})}

Find a tree node by its full path. Each path component may omit the unit address portion, but the results of this are undefined if any such path component is ambiguous (that is if there are multiple nodes at the relevant level matching the given component, differentiated only by unit address).


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em path} & Full path of the node to locate. \\
\hline
{\em int} & If less than 0 an error code else the node offset is returned. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtems-fdt_8h_a59ecd00704b8d133666365ade18e563b}\label{rtems-fdt_8h_a59ecd00704b8d133666365ade18e563b}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_prop\_map@{rtems\_fdt\_prop\_map}}
\index{rtems\_fdt\_prop\_map@{rtems\_fdt\_prop\_map}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_prop\_map()}{rtems\_fdt\_prop\_map()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+prop\+\_\+map (\begin{DoxyParamCaption}\item[{const char $\ast$const}]{path,  }\item[{const char $\ast$const}]{propname,  }\item[{const char $\ast$const}]{names\mbox{[}$\,$\mbox{]},  }\item[{uint32\+\_\+t $\ast$}]{values,  }\item[{size\+\_\+t}]{count }\end{DoxyParamCaption})}

Create a map given a path the property name and the names of the subnodes of the path. \mbox{\Hypertarget{rtems-fdt_8h_ab80bd246991e1af0ae5b67ad548f75c2}\label{rtems-fdt_8h_ab80bd246991e1af0ae5b67ad548f75c2}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_prop\_value@{rtems\_fdt\_prop\_value}}
\index{rtems\_fdt\_prop\_value@{rtems\_fdt\_prop\_value}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_prop\_value()}{rtems\_fdt\_prop\_value()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+prop\+\_\+value (\begin{DoxyParamCaption}\item[{const char $\ast$const}]{path,  }\item[{const char $\ast$const}]{propname,  }\item[{void $\ast$}]{value,  }\item[{size\+\_\+t $\ast$}]{size }\end{DoxyParamCaption})}

Return a property given a path. \mbox{\Hypertarget{rtems-fdt_8h_ad6903d840a58d8b99ede97ac20bd94af}\label{rtems-fdt_8h_ad6903d840a58d8b99ede97ac20bd94af}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_register@{rtems\_fdt\_register}}
\index{rtems\_fdt\_register@{rtems\_fdt\_register}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_register()}{rtems\_fdt\_register()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+register (\begin{DoxyParamCaption}\item[{const void $\ast$}]{blob,  }\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Register a device tree blob or D\+TB on to the chain of blobs.


\begin{DoxyParams}{Parameters}
{\em blob\+\_\+desc} & A pointer to the blob. \\
\hline
{\em handle} & The handle returns the reference to the blob once load. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 it is an error code else it is the blob descriptor. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_aef15751554a2804bbde895bf07dffe80}\label{rtems-fdt_8h_aef15751554a2804bbde895bf07dffe80}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_release\_handle@{rtems\_fdt\_release\_handle}}
\index{rtems\_fdt\_release\_handle@{rtems\_fdt\_release\_handle}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_release\_handle()}{rtems\_fdt\_release\_handle()}}
{\footnotesize\ttfamily void rtems\+\_\+fdt\+\_\+release\+\_\+handle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Release a blob from a handle and clear it.


\begin{DoxyParams}{Parameters}
{\em handle} & The handle to check. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtems-fdt_8h_a29d5e02973f7a6950997f9df08fbcdbe}\label{rtems-fdt_8h_a29d5e02973f7a6950997f9df08fbcdbe}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_strerror@{rtems\_fdt\_strerror}}
\index{rtems\_fdt\_strerror@{rtems\_fdt\_strerror}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_strerror()}{rtems\_fdt\_strerror()}}
{\footnotesize\ttfamily const char$\ast$ rtems\+\_\+fdt\+\_\+strerror (\begin{DoxyParamCaption}\item[{int}]{errval }\end{DoxyParamCaption})}

Return an error string given an error value.


\begin{DoxyParams}{Parameters}
{\em errval} & The error value. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
const char$\ast$ The error string. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a85e2da108a4d349e480859964ad66b87}\label{rtems-fdt_8h_a85e2da108a4d349e480859964ad66b87}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_subnode\_offset@{rtems\_fdt\_subnode\_offset}}
\index{rtems\_fdt\_subnode\_offset@{rtems\_fdt\_subnode\_offset}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_subnode\_offset()}{rtems\_fdt\_subnode\_offset()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+subnode\+\_\+offset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{parentoffset,  }\item[{const char $\ast$const}]{name }\end{DoxyParamCaption})}

Find a subnode of a given node at structure block offset parentoffset with the given name. The name may include a unit address, in which case \mbox{\hyperlink{rtems-fdt_8h_a85e2da108a4d349e480859964ad66b87}{rtems\+\_\+fdt\+\_\+subnode\+\_\+offset()}} will find the subnode with that unit address, or the unit address may be omitted, in which case \mbox{\hyperlink{rtems-fdt_8h_a85e2da108a4d349e480859964ad66b87}{rtems\+\_\+fdt\+\_\+subnode\+\_\+offset()}} will find an arbitrary subnode whose name excluding unit address matches the given name.


\begin{DoxyParams}{Parameters}
{\em blob\+\_\+desc} & A valid blob descriptor. \\
\hline
{\em parentoffset} & Structure block offset of a node. \\
\hline
{\em name} & The name of the subnode to locate. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 it is an error code else the subnode offset is returned. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a46722743c63e5a5ccaec9769296112a2}\label{rtems-fdt_8h_a46722743c63e5a5ccaec9769296112a2}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_subnode\_offset\_namelen@{rtems\_fdt\_subnode\_offset\_namelen}}
\index{rtems\_fdt\_subnode\_offset\_namelen@{rtems\_fdt\_subnode\_offset\_namelen}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_subnode\_offset\_namelen()}{rtems\_fdt\_subnode\_offset\_namelen()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+subnode\+\_\+offset\+\_\+namelen (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{parentoffset,  }\item[{const char $\ast$const}]{name,  }\item[{int}]{namelen }\end{DoxyParamCaption})}

Find a subnode based on substring. Identical to \mbox{\hyperlink{rtems-fdt_8h_a85e2da108a4d349e480859964ad66b87}{rtems\+\_\+fdt\+\_\+subnode\+\_\+offset()}}, but only examine the first namelen characters of name for matching the subnode name. This is useful for finding subnodes based on a portion of a larger string, such as a full path.


\begin{DoxyParams}{Parameters}
{\em blob\+\_\+desc} & A valid blob descriptor. \\
\hline
{\em arentoffset} & Structure block offset of a node \\
\hline
{\em name} & Name of the subnode to locate. \\
\hline
{\em namelen} & Number of characters of name to consider. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 it is an error code else the node offset is returned. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_a20478964d261bd15846a70f3d8af55ab}\label{rtems-fdt_8h_a20478964d261bd15846a70f3d8af55ab}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_supernode\_atdepth\_offset@{rtems\_fdt\_supernode\_atdepth\_offset}}
\index{rtems\_fdt\_supernode\_atdepth\_offset@{rtems\_fdt\_supernode\_atdepth\_offset}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_supernode\_atdepth\_offset()}{rtems\_fdt\_supernode\_atdepth\_offset()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+supernode\+\_\+atdepth\+\_\+offset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{nodeoffset,  }\item[{int}]{supernodedepth,  }\item[{int $\ast$}]{nodedepth }\end{DoxyParamCaption})}

Find a specific ancestor of a node at a specific depth from the root (where the root itself has depth 0, its immediate subnodes depth 1 and so forth). So rtems\+\_\+fdt\+\_\+supernode\+\_\+atdepth\+\_\+offset(blob, nodeoffset, 0, N\+U\+L\+L); will always return 0, the offset of the root node. If the node at nodeoffset has depth D, then\+: rtems\+\_\+fdt\+\_\+supernode\+\_\+atdepth\+\_\+offset(blob, nodeoffset, D, N\+U\+L\+L); will return nodeoffset itself.


\begin{DoxyParams}{Parameters}
{\em handle} & The F\+DT handle to the current blob. \\
\hline
{\em nodeoffset} & The offset of the node whose parent to find. \\
\hline
{\em supernodedepth} & The depth of the ancestor to find. @oaram nodedepth The pointer to an integer variable (will be overwritten) or N\+U\+LL \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 an error else the node offset. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_af6f1e782f453d0e9f42afa462803a350}\label{rtems-fdt_8h_af6f1e782f453d0e9f42afa462803a350}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_unload@{rtems\_fdt\_unload}}
\index{rtems\_fdt\_unload@{rtems\_fdt\_unload}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_unload()}{rtems\_fdt\_unload()}}
{\footnotesize\ttfamily int rtems\+\_\+fdt\+\_\+unload (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Unload a device tree blob or D\+TB file and release any memory allocated when loading. The blob is removed from the list of registered.


\begin{DoxyParams}{Parameters}
{\em blob\+\_\+desc} & A valid blob descriptor. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int If less than 0 it is an error code else 0 is return on success. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-fdt_8h_aabed205ff98f5b2ae70709106b8cd8f2}\label{rtems-fdt_8h_aabed205ff98f5b2ae70709106b8cd8f2}} 
\index{rtems-\/fdt.h@{rtems-\/fdt.h}!rtems\_fdt\_valid\_handle@{rtems\_fdt\_valid\_handle}}
\index{rtems\_fdt\_valid\_handle@{rtems\_fdt\_valid\_handle}!rtems-\/fdt.h@{rtems-\/fdt.h}}
\subsubsection{\texorpdfstring{rtems\_fdt\_valid\_handle()}{rtems\_fdt\_valid\_handle()}}
{\footnotesize\ttfamily bool rtems\+\_\+fdt\+\_\+valid\+\_\+handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structrtems__fdt__handle}{rtems\+\_\+fdt\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Check if a handle had a valid blob assigned.


\begin{DoxyParams}{Parameters}
{\em handle} & The handle to check. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em true} & The handle has a valid blob. \\
\hline
{\em false} & The handle does not have a valid blob. \\
\hline
\end{DoxyRetVals}
