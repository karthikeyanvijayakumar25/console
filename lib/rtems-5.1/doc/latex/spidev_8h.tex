\hypertarget{spidev_8h}{}\section{cpukit/include/linux/spi/spidev.h File Reference}
\label{spidev_8h}\index{cpukit/include/linux/spi/spidev.h@{cpukit/include/linux/spi/spidev.h}}


R\+T\+E\+MS Port of Linux S\+PI A\+PI.  


{\ttfamily \#include $<$sys/ioccom.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structspi__ioc__transfer}{spi\+\_\+ioc\+\_\+transfer}}
\begin{DoxyCompactList}\small\item\em S\+PI transfer message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC}~\textquotesingle{}s\textquotesingle{}
\item 
\#define \mbox{\hyperlink{group__SPILinux_ga589246eb1d667f369392c3bfa53143c4}{S\+P\+I\+\_\+\+M\+S\+G\+S\+I\+ZE}}(n)
\begin{DoxyCompactList}\small\item\em Calculates the size of the S\+PI message array. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga7b48d1195ba00bd9abc6d7c36ebb6357}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+E\+S\+S\+A\+GE}}(n)~\+\_\+\+I\+OW(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 0, char\mbox{[}\mbox{\hyperlink{group__SPILinux_ga589246eb1d667f369392c3bfa53143c4}{S\+P\+I\+\_\+\+M\+S\+G\+S\+I\+ZE}}(n)\mbox{]})
\begin{DoxyCompactList}\small\item\em Transfers an array with S\+PI messages. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gaa0e87d995d3080f915bb87d8a43b9be9}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+R\+D\+\_\+\+M\+O\+DE}}~\+\_\+\+I\+OR(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 1, uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Reads the least-\/significant 8-\/bits of the S\+PI default mode. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gad4c4247804e335fc75141ac48bbc88f9}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+W\+R\+\_\+\+M\+O\+DE}}~\+\_\+\+I\+OW(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 1, uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Writes the S\+PI default mode (the most-\/significant 24-\/bits of the mode are set to zero). \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga214f207a72db148aac18311940b24897}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+R\+D\+\_\+\+L\+S\+B\+\_\+\+F\+I\+R\+ST}}~\+\_\+\+I\+OR(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 2, uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Reads the S\+PI default least-\/significant bit first setting. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gaa22ea43c664f050b4e66d5ffe17c59af}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+W\+R\+\_\+\+L\+S\+B\+\_\+\+F\+I\+R\+ST}}~\+\_\+\+I\+OW(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 2, uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Writes the S\+PI default least-\/significant-\/bit first setting. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga085ff1cbc1b6167023e666e1fbda75c7}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+R\+D\+\_\+\+B\+I\+T\+S\+\_\+\+P\+E\+R\+\_\+\+W\+O\+RD}}~\+\_\+\+I\+OR(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 3, uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Reads the S\+PI default bits per word. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga7519caddc083bddc9ff601c0cac53fe4}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+W\+R\+\_\+\+B\+I\+T\+S\+\_\+\+P\+E\+R\+\_\+\+W\+O\+RD}}~\+\_\+\+I\+OW(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 3, uint8\+\_\+t)
\begin{DoxyCompactList}\small\item\em Writes the S\+PI default bits per word. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga830bbc92f84481aa16378a0cbbe9b347}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+R\+D\+\_\+\+M\+A\+X\+\_\+\+S\+P\+E\+E\+D\+\_\+\+HZ}}~\+\_\+\+I\+OR(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 4, uint32\+\_\+t)
\begin{DoxyCompactList}\small\item\em Reads the S\+PI default speed in Hz. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gaaff3174fce4c0d179bd2d8a1f2572383}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+W\+R\+\_\+\+M\+A\+X\+\_\+\+S\+P\+E\+E\+D\+\_\+\+HZ}}~\+\_\+\+I\+OW(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 4, uint32\+\_\+t)
\begin{DoxyCompactList}\small\item\em Writes the S\+PI default speed in Hz. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gaf19921d03ad39e39933c566daaeb017b}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+R\+D\+\_\+\+M\+O\+D\+E32}}~\+\_\+\+I\+OR(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 5, uint32\+\_\+t)
\begin{DoxyCompactList}\small\item\em Reads the full 32-\/bit S\+PI default mode. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga2bc460b2331b19394e0137ebfe77d7bf}{S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+W\+R\+\_\+\+M\+O\+D\+E32}}~\+\_\+\+I\+OW(S\+P\+I\+\_\+\+I\+O\+C\+\_\+\+M\+A\+G\+IC, 5, uint32\+\_\+t)
\begin{DoxyCompactList}\small\item\em Writes the full 32-\/bit S\+PI default mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}\textbf{ S\+PI Transfer Flags}\par
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__SPILinux_ga49e8927a636f45641d6231ac63b9e598}{S\+P\+I\+\_\+\+C\+P\+HA}}~0x01
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets the clock phase. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gad8e335b1f808bd7408d2aef2377adcb1}{S\+P\+I\+\_\+\+C\+P\+OL}}~0x02
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets the clock polarity. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga1ec07ad94d5f6276c1c0b41d0550fe52}{S\+P\+I\+\_\+\+M\+O\+D\+E\+\_\+0}}~0
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets S\+PI Mode 0 (clock starts low, sample on leading edge). \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gaf2af9f45539491c9753960535dc20fde}{S\+P\+I\+\_\+\+M\+O\+D\+E\+\_\+1}}~\mbox{\hyperlink{group__SPILinux_ga49e8927a636f45641d6231ac63b9e598}{S\+P\+I\+\_\+\+C\+P\+HA}}
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets S\+PI Mode 0 (clock starts low, sample on trailing edge). \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga8fa3edd8616f8803490c93f09243a612}{S\+P\+I\+\_\+\+M\+O\+D\+E\+\_\+2}}~\mbox{\hyperlink{group__SPILinux_gad8e335b1f808bd7408d2aef2377adcb1}{S\+P\+I\+\_\+\+C\+P\+OL}}
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets S\+PI Mode 0 (clock starts high, sample on leading edge). \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga6a091da9f9011457fe28ab25f64c858d}{S\+P\+I\+\_\+\+M\+O\+D\+E\+\_\+3}}~(\mbox{\hyperlink{group__SPILinux_gad8e335b1f808bd7408d2aef2377adcb1}{S\+P\+I\+\_\+\+C\+P\+OL}} $\vert$ \mbox{\hyperlink{group__SPILinux_ga49e8927a636f45641d6231ac63b9e598}{S\+P\+I\+\_\+\+C\+P\+HA}})
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets S\+PI Mode 0 (clock starts high, sample on trailing edge). \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gaec0a952190ad39a42d18cb7b71eb629d}{S\+P\+I\+\_\+\+C\+S\+\_\+\+H\+I\+GH}}~0x04
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which selects the device by setting the chip select line. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga8d194446c8ac9f3c878ead3c9382c9e4}{S\+P\+I\+\_\+\+L\+S\+B\+\_\+\+F\+I\+R\+ST}}~0x08
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which triggers data transmission with the L\+SB being sent first. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga71b275f4427cc817b0a0c16cf5bf82b2}{S\+P\+I\+\_\+3\+W\+I\+RE}}~0x10
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which uses a shared wire for master input/slave output as well as master output/slave input. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga9d487b81fecf6a9e9ce1225cac916429}{S\+P\+I\+\_\+\+L\+O\+OP}}~0x20
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which initiates the loopback mode. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga97bfe367333ebc63ef4660214a75650d}{S\+P\+I\+\_\+\+N\+O\+\_\+\+CS}}~0x40
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which indicates that no chip select is needed due to only one device on the bus. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gad47e24b1cd1e44e0e7b25e4a8c421d37}{S\+P\+I\+\_\+\+R\+E\+A\+DY}}~0x80
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which pulls the slave to low level during pause. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga684a5e746862043422b32b6bacb5d7d5}{S\+P\+I\+\_\+\+T\+X\+\_\+\+D\+U\+AL}}~0x100
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets up dual mode for transmission. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_gab627befc80be3595ab5613aeeef20c5e}{S\+P\+I\+\_\+\+T\+X\+\_\+\+Q\+U\+AD}}~0x200
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets up quad mode for transmission. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga39db299a1ed74e31fe3251be62841dc2}{S\+P\+I\+\_\+\+R\+X\+\_\+\+D\+U\+AL}}~0x400
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets up dual mode for reception. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{group__SPILinux_ga40a2274b24f6fa639e44fae70e9bf3ae}{S\+P\+I\+\_\+\+R\+X\+\_\+\+Q\+U\+AD}}~0x800
\begin{DoxyCompactList}\small\item\em S\+PI transfer flag which sets up quad mode for reception. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\subsection{Detailed Description}
R\+T\+E\+MS Port of Linux S\+PI A\+PI. 

