\hypertarget{group__RTEMSScoreCPUBfinCPUInterrupt}{}\section{Processor Dependent Interrupt Management}
\label{group__RTEMSScoreCPUBfinCPUInterrupt}\index{Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__RTEMSScoreCPUBfinCPUInterrupt_gad1ef5062849284d81496e1e6d33fb7ff}{\+\_\+\+C\+P\+U\+\_\+\+Initialize\+\_\+vectors}}()
\item 
\#define \mbox{\hyperlink{group__RTEMSScoreCPUBfinCPUInterrupt_gabc05c31eff429870b8564553d9eae054}{\+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Disable}}(\+\_\+level)
\item 
\#define \mbox{\hyperlink{group__RTEMSScoreCPUBfinCPUInterrupt_ga01f5da058924ecbc4c84ceb8613145a0}{\+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Enable}}(\+\_\+level)
\item 
\#define \mbox{\hyperlink{group__RTEMSScoreCPUBfinCPUInterrupt_gab06bc7d1751ca97bbe1f4c50d14c4453}{\+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Flash}}(\+\_\+level)
\item 
\#define \mbox{\hyperlink{group__RTEMSScoreCPUBfinCPUInterrupt_ga0d657d03b719953545e72902cad21689}{\+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Set\+\_\+level}}(\+\_\+new\+\_\+level)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSScoreCPUBfinCPUInterrupt_ga5254669b54a06e96ebb585fd50a02c4d}\label{group__RTEMSScoreCPUBfinCPUInterrupt_ga5254669b54a06e96ebb585fd50a02c4d}} 
\mbox{\hyperlink{group__RTEMSScoreBaseDefs_gac216239df231d5dbd15e3520b0b9313f}{R\+T\+E\+M\+S\+\_\+\+I\+N\+L\+I\+N\+E\+\_\+\+R\+O\+U\+T\+I\+NE}} bool {\bfseries \+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Is\+\_\+enabled} (uint32\+\_\+t level)
\item 
uint32\+\_\+t \mbox{\hyperlink{group__RTEMSScoreCPUBfinCPUInterrupt_ga1d9dcab9170d532b6634a5620385adbd}{\+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Get\+\_\+level}} (void)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The following defines the number of bits actually used in the interrupt field of the task mode. How those bits map to the C\+PU interrupt levels is defined by the routine \mbox{\hyperlink{group__RTEMSScoreCPUARM_ga43820ba3d51d7a699c22fce8cac93ef1}{\+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Set\+\_\+level}}.

Port Specific Information\+:

X\+XX document implementation including references if appropriate

Amount of extra stack (above minimum stack size) required by M\+P\+CI receive server thread. Remember that in a multiprocessor system this thread must exist and be able to process all directives.

Port Specific Information\+:

X\+XX document implementation including references if appropriate

This defines the number of entries in the \+\_\+\+I\+S\+R\+\_\+\+Vector\+\_\+table managed by R\+T\+E\+MS.

Port Specific Information\+:

X\+XX document implementation including references if appropriate

This defines the highest interrupt vector number for this port.

This is defined if the port has a special way to report the I\+SR nesting level. Most ports maintain the variable {\itshape \+\_\+\+I\+S\+R\+\_\+\+Nest\+\_\+level}. 

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__RTEMSScoreCPUBfinCPUInterrupt_gad1ef5062849284d81496e1e6d33fb7ff}\label{group__RTEMSScoreCPUBfinCPUInterrupt_gad1ef5062849284d81496e1e6d33fb7ff}} 
\index{Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}!\_CPU\_Initialize\_vectors@{\_CPU\_Initialize\_vectors}}
\index{\_CPU\_Initialize\_vectors@{\_CPU\_Initialize\_vectors}!Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}}
\subsubsection{\texorpdfstring{\_CPU\_Initialize\_vectors}{\_CPU\_Initialize\_vectors}}
{\footnotesize\ttfamily \#define \+\_\+\+C\+P\+U\+\_\+\+Initialize\+\_\+vectors(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Support routine to initialize the R\+T\+E\+MS vector table after it is allocated.

Port Specific Information\+:

X\+XX document implementation including references if appropriate \mbox{\Hypertarget{group__RTEMSScoreCPUBfinCPUInterrupt_gabc05c31eff429870b8564553d9eae054}\label{group__RTEMSScoreCPUBfinCPUInterrupt_gabc05c31eff429870b8564553d9eae054}} 
\index{Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}!\_CPU\_ISR\_Disable@{\_CPU\_ISR\_Disable}}
\index{\_CPU\_ISR\_Disable@{\_CPU\_ISR\_Disable}!Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}}
\subsubsection{\texorpdfstring{\_CPU\_ISR\_Disable}{\_CPU\_ISR\_Disable}}
{\footnotesize\ttfamily \#define \+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Disable(\begin{DoxyParamCaption}\item[{}]{\+\_\+level }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{                                     \(\backslash\)}
\DoxyCodeLine{       \_\_asm\_\_ \textcolor{keyword}{volatile} (\textcolor{stringliteral}{"cli \%0; csync \(\backslash\)n"} : \textcolor{stringliteral}{"=d"} (\_level) );     \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
Disable all interrupts for an R\+T\+E\+MS critical section. The previous level is returned in {\itshape \+\_\+isr\+\_\+cookie}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em \+\_\+isr\+\_\+cookie} & will contain the previous level cookie\\
\hline
\end{DoxyParams}
Port Specific Information\+:

X\+XX document implementation including references if appropriate \mbox{\Hypertarget{group__RTEMSScoreCPUBfinCPUInterrupt_ga01f5da058924ecbc4c84ceb8613145a0}\label{group__RTEMSScoreCPUBfinCPUInterrupt_ga01f5da058924ecbc4c84ceb8613145a0}} 
\index{Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}!\_CPU\_ISR\_Enable@{\_CPU\_ISR\_Enable}}
\index{\_CPU\_ISR\_Enable@{\_CPU\_ISR\_Enable}!Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}}
\subsubsection{\texorpdfstring{\_CPU\_ISR\_Enable}{\_CPU\_ISR\_Enable}}
{\footnotesize\ttfamily \#define \+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Enable(\begin{DoxyParamCaption}\item[{}]{\+\_\+level }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{ \(\backslash\)}
\DoxyCodeLine{    \_\_asm\_\_ \_\_volatile\_\_ (\textcolor{stringliteral}{"sti \%0; csync \(\backslash\)n"} : : \textcolor{stringliteral}{"d"} (\_level) );   \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
Enable interrupts to the previous level (returned by \+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Disable). This indicates the end of an R\+T\+E\+MS critical section. The parameter {\itshape \+\_\+isr\+\_\+cookie} is not modified.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+isr\+\_\+cookie} & contain the previous level cookie\\
\hline
\end{DoxyParams}
Port Specific Information\+:

X\+XX document implementation including references if appropriate \mbox{\Hypertarget{group__RTEMSScoreCPUBfinCPUInterrupt_gab06bc7d1751ca97bbe1f4c50d14c4453}\label{group__RTEMSScoreCPUBfinCPUInterrupt_gab06bc7d1751ca97bbe1f4c50d14c4453}} 
\index{Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}!\_CPU\_ISR\_Flash@{\_CPU\_ISR\_Flash}}
\index{\_CPU\_ISR\_Flash@{\_CPU\_ISR\_Flash}!Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}}
\subsubsection{\texorpdfstring{\_CPU\_ISR\_Flash}{\_CPU\_ISR\_Flash}}
{\footnotesize\ttfamily \#define \+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Flash(\begin{DoxyParamCaption}\item[{}]{\+\_\+level }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{ \(\backslash\)}
\DoxyCodeLine{    \_\_asm\_\_ \_\_volatile\_\_ (\textcolor{stringliteral}{"sti \%0; csync; cli r0; csync"} \(\backslash\)}
\DoxyCodeLine{                          : : \textcolor{stringliteral}{"d"}(\_level) : \textcolor{stringliteral}{"R0"} ); \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
This temporarily restores the interrupt to {\itshape \+\_\+isr\+\_\+cookie} before immediately disabling them again. This is used to divide long R\+T\+E\+MS critical sections into two or more parts. The parameter {\itshape \+\_\+isr\+\_\+cookie} is not modified.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+isr\+\_\+cookie} & contain the previous level cookie\\
\hline
\end{DoxyParams}
Port Specific Information\+:

X\+XX document implementation including references if appropriate \mbox{\Hypertarget{group__RTEMSScoreCPUBfinCPUInterrupt_ga0d657d03b719953545e72902cad21689}\label{group__RTEMSScoreCPUBfinCPUInterrupt_ga0d657d03b719953545e72902cad21689}} 
\index{Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}!\_CPU\_ISR\_Set\_level@{\_CPU\_ISR\_Set\_level}}
\index{\_CPU\_ISR\_Set\_level@{\_CPU\_ISR\_Set\_level}!Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}}
\subsubsection{\texorpdfstring{\_CPU\_ISR\_Set\_level}{\_CPU\_ISR\_Set\_level}}
{\footnotesize\ttfamily \#define \+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Set\+\_\+level(\begin{DoxyParamCaption}\item[{}]{\+\_\+new\+\_\+level }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{ \(\backslash\)}
\DoxyCodeLine{    \_\_asm\_\_ \_\_volatile\_\_ ( \textcolor{stringliteral}{"sti \%0; csync"} : : \textcolor{stringliteral}{"d"}(\_new\_level ? 0 : 0xffff) ); \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
This routine and \mbox{\hyperlink{group__RTEMSScoreCPUARM_ga1d9dcab9170d532b6634a5620385adbd}{\+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Get\+\_\+level}} Map the interrupt level in task mode onto the hardware that the C\+PU actually provides. Currently, interrupt levels which do not map onto the C\+PU in a generic fashion are undefined. Someday, it would be nice if these were \char`\"{}mapped\char`\"{} by the application via a callout. For example, m68k has 8 levels 0 -\/ 7, levels 8 -\/ 255 would be available for bsp/application specific meaning. This could be used to manage a programmable interrupt controller via the rtems\+\_\+task\+\_\+mode directive.

Port Specific Information\+:

X\+XX document implementation including references if appropriate 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__RTEMSScoreCPUBfinCPUInterrupt_ga1d9dcab9170d532b6634a5620385adbd}\label{group__RTEMSScoreCPUBfinCPUInterrupt_ga1d9dcab9170d532b6634a5620385adbd}} 
\index{Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}!\_CPU\_ISR\_Get\_level@{\_CPU\_ISR\_Get\_level}}
\index{\_CPU\_ISR\_Get\_level@{\_CPU\_ISR\_Get\_level}!Processor Dependent Interrupt Management@{Processor Dependent Interrupt Management}}
\subsubsection{\texorpdfstring{\_CPU\_ISR\_Get\_level()}{\_CPU\_ISR\_Get\_level()}}
{\footnotesize\ttfamily uint32\+\_\+t \+\_\+\+C\+P\+U\+\_\+\+I\+S\+R\+\_\+\+Get\+\_\+level (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Return the current interrupt disable level for this task in the format used by the interrupt level portion of the task mode.

\begin{DoxyNote}{Note}
This routine usually must be implemented as a subroutine.
\end{DoxyNote}
Port Specific Information\+:

X\+XX document implementation including references if appropriate 