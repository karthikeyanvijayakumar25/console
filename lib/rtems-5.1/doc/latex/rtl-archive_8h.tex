\hypertarget{rtl-archive_8h}{}\section{cpukit/include/rtems/rtl/rtl-\/archive.h File Reference}
\label{rtl-archive_8h}\index{cpukit/include/rtems/rtl/rtl-\/archive.h@{cpukit/include/rtems/rtl/rtl-\/archive.h}}


R\+T\+E\+MS Run-\/\+Time Linker Archive.  


{\ttfamily \#include $<$rtems.\+h$>$}\newline
{\ttfamily \#include $<$rtems/chain.\+h$>$}\newline
{\ttfamily \#include $<$rtems/printer.\+h$>$}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structrtems__rtl__archive__symbol}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbol}}
\item 
struct \mbox{\hyperlink{structrtems__rtl__archive__symbols}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbols}}
\item 
struct \mbox{\hyperlink{structrtems__rtl__archive}{rtems\+\_\+rtl\+\_\+archive}}
\item 
struct \mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{rtl-archive_8h_a3b3e926b4fdf2965140136ef42090656}{R\+T\+E\+M\+S\+\_\+\+R\+T\+L\+\_\+\+A\+R\+C\+H\+I\+V\+E\+\_\+\+U\+S\+E\+R\+\_\+\+L\+O\+AD}}~(1 $<$$<$ 0)
\item 
\#define \mbox{\hyperlink{rtl-archive_8h_a1152d3370fc56cec9d6ee6e9bc8437c6}{R\+T\+E\+M\+S\+\_\+\+R\+T\+L\+\_\+\+A\+R\+C\+H\+I\+V\+E\+\_\+\+R\+E\+M\+O\+VE}}~(1 $<$$<$ 1)
\item 
\#define \mbox{\hyperlink{rtl-archive_8h_a4cc66c432383d2e1bb1593318f027821}{R\+T\+E\+M\+S\+\_\+\+R\+T\+L\+\_\+\+A\+R\+C\+H\+I\+V\+E\+\_\+\+L\+O\+AD}}~(1 $<$$<$ 2)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2e}{rtems\+\_\+rtl\+\_\+archive\+\_\+search}} \mbox{\hyperlink{rtl-archive_8h_a7082b0ca172f429650fea8685f9de13e}{rtems\+\_\+rtl\+\_\+archive\+\_\+search}}
\item 
typedef struct \mbox{\hyperlink{structrtems__rtl__archive__symbol}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbol}} \mbox{\hyperlink{rtl-archive_8h_a69d21ffb4c0f3127b437d52c875367df}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbol}}
\item 
typedef struct \mbox{\hyperlink{structrtems__rtl__archive__symbols}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbols}} \mbox{\hyperlink{rtl-archive_8h_ad022b9e84a86a706474c33ea6220b0b4}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbols}}
\item 
typedef struct \mbox{\hyperlink{structrtems__rtl__archive}{rtems\+\_\+rtl\+\_\+archive}} \mbox{\hyperlink{rtl-archive_8h_a28e9348cd8916386c709e7cfa2523410}{rtems\+\_\+rtl\+\_\+archive}}
\item 
typedef struct \mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} \mbox{\hyperlink{rtl-archive_8h_a1ed360f6d4f5a5b50228f5e899b9af77}{rtems\+\_\+rtl\+\_\+archives}}
\item 
typedef void($\ast$ \mbox{\hyperlink{rtl-archive_8h_aeb92821ca23c9daa5393579aa7b9212f}{rtems\+\_\+rtl\+\_\+archive\+\_\+error}}) (int num, const char $\ast$text)
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2e}{rtems\+\_\+rtl\+\_\+archive\+\_\+search}} \{ \newline
\mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2ea8a48e443b039535ffacf245974bce7b0}{rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+not\+\_\+found}} = 0, 
\mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2ea786e49af33c7ab7a1655c34b16cda214}{rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+found}} = 1, 
\mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2eabea397c7ded334c79f549d645426afcc}{rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+loaded}} = 2, 
\mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2eabb8146313b58141dfa133188bda16a06}{rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+error}} = 3, 
\newline
\mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2eab5896674df6ee65d59f5f521b1bbc9d9}{rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+no\+\_\+config}} = 4
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{rtl-archive_8h_af74d596594b488ff923e027e9b895d1f}{rtems\+\_\+rtl\+\_\+archives\+\_\+open}} (\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$archives, const char $\ast$\mbox{\hyperlink{structconfig__s}{config}})
\item 
void \mbox{\hyperlink{rtl-archive_8h_a0c1d8b43e832e9f6c9dd0d583b952384}{rtems\+\_\+rtl\+\_\+archives\+\_\+close}} (\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$archives)
\item 
bool \mbox{\hyperlink{rtl-archive_8h_ad357ba19c50eb2c554a8ef8bbd1baa74}{rtems\+\_\+rtl\+\_\+archives\+\_\+refresh}} (\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$archives)
\item 
bool \mbox{\hyperlink{rtl-archive_8h_aec513bfd77432b5004d1a4ed91b7bc3d}{rtems\+\_\+rtl\+\_\+archive\+\_\+load}} (\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$archives, const char $\ast$name)
\item 
\mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2e}{rtems\+\_\+rtl\+\_\+archive\+\_\+search}} \mbox{\hyperlink{rtl-archive_8h_a48e3be1af298eca62a62e5f1bc72c916}{rtems\+\_\+rtl\+\_\+archive\+\_\+obj\+\_\+load}} (\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$archives, const char $\ast$symbol, bool load)
\item 
bool \mbox{\hyperlink{rtl-archive_8h_a3f842a164d6f4aeb32c4ccde6177a530}{rtems\+\_\+rtl\+\_\+obj\+\_\+archive\+\_\+find\+\_\+obj}} (int fd, size\+\_\+t fsize, const char $\ast$$\ast$name, off\+\_\+t $\ast$offset, size\+\_\+t $\ast$\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}, off\+\_\+t $\ast$extended\+\_\+names, \mbox{\hyperlink{rtl-archive_8h_aeb92821ca23c9daa5393579aa7b9212f}{rtems\+\_\+rtl\+\_\+archive\+\_\+error}} error)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
R\+T\+E\+MS Run-\/\+Time Linker Archive. 

The R\+TL Archive module manages dependent loading of object files from archives. The archives need to have a {\ttfamily ranlib} generated symbol table.

This module reads a configuration file called {\ttfamily rtl-\/libs.\+conf} from a default directory of {\ttfamily /etc}. The file is a line per glob\textquotesingle{}ed path to archives to search for symbols.

The archive symbols are held in a per archive cache for searching.

\begin{DoxyNote}{Note}
Errors in the reading of a config file, locating archives, reading symbol tables and loading object files are not considered R\+TL error reported to a user. The user error is undefined symbols. 
\end{DoxyNote}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{rtl-archive_8h_a4cc66c432383d2e1bb1593318f027821}\label{rtl-archive_8h_a4cc66c432383d2e1bb1593318f027821}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!RTEMS\_RTL\_ARCHIVE\_LOAD@{RTEMS\_RTL\_ARCHIVE\_LOAD}}
\index{RTEMS\_RTL\_ARCHIVE\_LOAD@{RTEMS\_RTL\_ARCHIVE\_LOAD}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{RTEMS\_RTL\_ARCHIVE\_LOAD}{RTEMS\_RTL\_ARCHIVE\_LOAD}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+R\+T\+L\+\_\+\+A\+R\+C\+H\+I\+V\+E\+\_\+\+L\+O\+AD~(1 $<$$<$ 2)}

Load the achive. \mbox{\Hypertarget{rtl-archive_8h_a1152d3370fc56cec9d6ee6e9bc8437c6}\label{rtl-archive_8h_a1152d3370fc56cec9d6ee6e9bc8437c6}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!RTEMS\_RTL\_ARCHIVE\_REMOVE@{RTEMS\_RTL\_ARCHIVE\_REMOVE}}
\index{RTEMS\_RTL\_ARCHIVE\_REMOVE@{RTEMS\_RTL\_ARCHIVE\_REMOVE}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{RTEMS\_RTL\_ARCHIVE\_REMOVE}{RTEMS\_RTL\_ARCHIVE\_REMOVE}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+R\+T\+L\+\_\+\+A\+R\+C\+H\+I\+V\+E\+\_\+\+R\+E\+M\+O\+VE~(1 $<$$<$ 1)}

The achive is not found. \mbox{\Hypertarget{rtl-archive_8h_a3b3e926b4fdf2965140136ef42090656}\label{rtl-archive_8h_a3b3e926b4fdf2965140136ef42090656}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!RTEMS\_RTL\_ARCHIVE\_USER\_LOAD@{RTEMS\_RTL\_ARCHIVE\_USER\_LOAD}}
\index{RTEMS\_RTL\_ARCHIVE\_USER\_LOAD@{RTEMS\_RTL\_ARCHIVE\_USER\_LOAD}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{RTEMS\_RTL\_ARCHIVE\_USER\_LOAD}{RTEMS\_RTL\_ARCHIVE\_USER\_LOAD}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+R\+T\+L\+\_\+\+A\+R\+C\+H\+I\+V\+E\+\_\+\+U\+S\+E\+R\+\_\+\+L\+O\+AD~(1 $<$$<$ 0)}

Flags for archives.\+User forced load. 

\subsection{Typedef Documentation}
\mbox{\Hypertarget{rtl-archive_8h_a28e9348cd8916386c709e7cfa2523410}\label{rtl-archive_8h_a28e9348cd8916386c709e7cfa2523410}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive@{rtems\_rtl\_archive}}
\index{rtems\_rtl\_archive@{rtems\_rtl\_archive}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archive}{rtems\_rtl\_archive}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structrtems__rtl__archive}{rtems\+\_\+rtl\+\_\+archive}}  \mbox{\hyperlink{structrtems__rtl__archive}{rtems\+\_\+rtl\+\_\+archive}}}

R\+TL Archive data. \mbox{\Hypertarget{rtl-archive_8h_aeb92821ca23c9daa5393579aa7b9212f}\label{rtl-archive_8h_aeb92821ca23c9daa5393579aa7b9212f}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_error@{rtems\_rtl\_archive\_error}}
\index{rtems\_rtl\_archive\_error@{rtems\_rtl\_archive\_error}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archive\_error}{rtems\_rtl\_archive\_error}}
{\footnotesize\ttfamily typedef void($\ast$ rtems\+\_\+rtl\+\_\+archive\+\_\+error) (int num, const char $\ast$text)}

Error handler call when finding an archive. \mbox{\Hypertarget{rtl-archive_8h_a7082b0ca172f429650fea8685f9de13e}\label{rtl-archive_8h_a7082b0ca172f429650fea8685f9de13e}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_search@{rtems\_rtl\_archive\_search}}
\index{rtems\_rtl\_archive\_search@{rtems\_rtl\_archive\_search}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archive\_search}{rtems\_rtl\_archive\_search}}
{\footnotesize\ttfamily typedef enum \mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2e}{rtems\+\_\+rtl\+\_\+archive\+\_\+search}}  \mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2e}{rtems\+\_\+rtl\+\_\+archive\+\_\+search}}}

Symbol search and loading results. \mbox{\Hypertarget{rtl-archive_8h_a69d21ffb4c0f3127b437d52c875367df}\label{rtl-archive_8h_a69d21ffb4c0f3127b437d52c875367df}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_symbol@{rtems\_rtl\_archive\_symbol}}
\index{rtems\_rtl\_archive\_symbol@{rtems\_rtl\_archive\_symbol}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archive\_symbol}{rtems\_rtl\_archive\_symbol}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structrtems__rtl__archive__symbol}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbol}}  \mbox{\hyperlink{structrtems__rtl__archive__symbol}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbol}}}

R\+TL Archive symbols. \mbox{\Hypertarget{rtl-archive_8h_ad022b9e84a86a706474c33ea6220b0b4}\label{rtl-archive_8h_ad022b9e84a86a706474c33ea6220b0b4}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_symbols@{rtems\_rtl\_archive\_symbols}}
\index{rtems\_rtl\_archive\_symbols@{rtems\_rtl\_archive\_symbols}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archive\_symbols}{rtems\_rtl\_archive\_symbols}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structrtems__rtl__archive__symbols}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbols}}  \mbox{\hyperlink{structrtems__rtl__archive__symbols}{rtems\+\_\+rtl\+\_\+archive\+\_\+symbols}}}

R\+TL Archive symbols. \mbox{\Hypertarget{rtl-archive_8h_a1ed360f6d4f5a5b50228f5e899b9af77}\label{rtl-archive_8h_a1ed360f6d4f5a5b50228f5e899b9af77}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archives@{rtems\_rtl\_archives}}
\index{rtems\_rtl\_archives@{rtems\_rtl\_archives}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archives}{rtems\_rtl\_archives}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}}  \mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}}}

R\+TL Archive data. 

\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2e}\label{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2e}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_search@{rtems\_rtl\_archive\_search}}
\index{rtems\_rtl\_archive\_search@{rtems\_rtl\_archive\_search}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archive\_search}{rtems\_rtl\_archive\_search}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2e}{rtems\+\_\+rtl\+\_\+archive\+\_\+search}}}

Symbol search and loading results. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{rtems\_rtl\_archive\_search\_not\_found@{rtems\_rtl\_archive\_search\_not\_found}!rtl-\/archive.h@{rtl-\/archive.h}}\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_search\_not\_found@{rtems\_rtl\_archive\_search\_not\_found}}}\mbox{\Hypertarget{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2ea8a48e443b039535ffacf245974bce7b0}\label{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2ea8a48e443b039535ffacf245974bce7b0}} 
rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+not\+\_\+found&The search failed to find the symbol. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{rtems\_rtl\_archive\_search\_found@{rtems\_rtl\_archive\_search\_found}!rtl-\/archive.h@{rtl-\/archive.h}}\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_search\_found@{rtems\_rtl\_archive\_search\_found}}}\mbox{\Hypertarget{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2ea786e49af33c7ab7a1655c34b16cda214}\label{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2ea786e49af33c7ab7a1655c34b16cda214}} 
rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+found&The symbols was found. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{rtems\_rtl\_archive\_search\_loaded@{rtems\_rtl\_archive\_search\_loaded}!rtl-\/archive.h@{rtl-\/archive.h}}\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_search\_loaded@{rtems\_rtl\_archive\_search\_loaded}}}\mbox{\Hypertarget{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2eabea397c7ded334c79f549d645426afcc}\label{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2eabea397c7ded334c79f549d645426afcc}} 
rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+loaded&The symbol was found and the object file has been loaded \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{rtems\_rtl\_archive\_search\_error@{rtems\_rtl\_archive\_search\_error}!rtl-\/archive.h@{rtl-\/archive.h}}\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_search\_error@{rtems\_rtl\_archive\_search\_error}}}\mbox{\Hypertarget{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2eabb8146313b58141dfa133188bda16a06}\label{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2eabb8146313b58141dfa133188bda16a06}} 
rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+error&There was an error searching or loading. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{rtems\_rtl\_archive\_search\_no\_config@{rtems\_rtl\_archive\_search\_no\_config}!rtl-\/archive.h@{rtl-\/archive.h}}\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_search\_no\_config@{rtems\_rtl\_archive\_search\_no\_config}}}\mbox{\Hypertarget{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2eab5896674df6ee65d59f5f521b1bbc9d9}\label{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2eab5896674df6ee65d59f5f521b1bbc9d9}} 
rtems\+\_\+rtl\+\_\+archive\+\_\+search\+\_\+no\+\_\+config&There is no config or it is invalid. \\
\hline

\end{DoxyEnumFields}


\subsection{Function Documentation}
\mbox{\Hypertarget{rtl-archive_8h_aec513bfd77432b5004d1a4ed91b7bc3d}\label{rtl-archive_8h_aec513bfd77432b5004d1a4ed91b7bc3d}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_load@{rtems\_rtl\_archive\_load}}
\index{rtems\_rtl\_archive\_load@{rtems\_rtl\_archive\_load}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archive\_load()}{rtems\_rtl\_archive\_load()}}
{\footnotesize\ttfamily bool rtems\+\_\+rtl\+\_\+archive\+\_\+load (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$}]{archives,  }\item[{const char $\ast$}]{name }\end{DoxyParamCaption})}

Load an archive.


\begin{DoxyParams}{Parameters}
{\em archives} & The archives data to search. \\
\hline
{\em name} & The archive to load. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em true} & The archive is loaded. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtl-archive_8h_a48e3be1af298eca62a62e5f1bc72c916}\label{rtl-archive_8h_a48e3be1af298eca62a62e5f1bc72c916}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archive\_obj\_load@{rtems\_rtl\_archive\_obj\_load}}
\index{rtems\_rtl\_archive\_obj\_load@{rtems\_rtl\_archive\_obj\_load}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archive\_obj\_load()}{rtems\_rtl\_archive\_obj\_load()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rtl-archive_8h_a82930c14e64f3f5853052e84af4a6c2e}{rtems\+\_\+rtl\+\_\+archive\+\_\+search}} rtems\+\_\+rtl\+\_\+archive\+\_\+obj\+\_\+load (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$}]{archives,  }\item[{const char $\ast$}]{symbol,  }\item[{bool}]{load }\end{DoxyParamCaption})}

Search for a symbol and load the first object file that has the symbol.


\begin{DoxyParams}{Parameters}
{\em archives} & The archives data to search. \\
\hline
{\em symbol} & The symbol name to search for. \\
\hline
{\em load} & If @true load the object file the symbol is found in else return the found not found status. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtl-archive_8h_a0c1d8b43e832e9f6c9dd0d583b952384}\label{rtl-archive_8h_a0c1d8b43e832e9f6c9dd0d583b952384}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archives\_close@{rtems\_rtl\_archives\_close}}
\index{rtems\_rtl\_archives\_close@{rtems\_rtl\_archives\_close}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archives\_close()}{rtems\_rtl\_archives\_close()}}
{\footnotesize\ttfamily void rtems\+\_\+rtl\+\_\+archives\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$}]{archives }\end{DoxyParamCaption})}

Close the R\+TL archives support.


\begin{DoxyParams}{Parameters}
{\em archives} & The archives data to close. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{rtl-archive_8h_af74d596594b488ff923e027e9b895d1f}\label{rtl-archive_8h_af74d596594b488ff923e027e9b895d1f}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archives\_open@{rtems\_rtl\_archives\_open}}
\index{rtems\_rtl\_archives\_open@{rtems\_rtl\_archives\_open}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archives\_open()}{rtems\_rtl\_archives\_open()}}
{\footnotesize\ttfamily void rtems\+\_\+rtl\+\_\+archives\+\_\+open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$}]{archives,  }\item[{const char $\ast$}]{config }\end{DoxyParamCaption})}

Open the R\+TL archives support with the specified configration file.


\begin{DoxyParams}{Parameters}
{\em archives} & The archives data to open. \\
\hline
{\em config} & The path to the configuration file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool Returns @true is the archives are open. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtl-archive_8h_ad357ba19c50eb2c554a8ef8bbd1baa74}\label{rtl-archive_8h_ad357ba19c50eb2c554a8ef8bbd1baa74}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_archives\_refresh@{rtems\_rtl\_archives\_refresh}}
\index{rtems\_rtl\_archives\_refresh@{rtems\_rtl\_archives\_refresh}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_archives\_refresh()}{rtems\_rtl\_archives\_refresh()}}
{\footnotesize\ttfamily bool rtems\+\_\+rtl\+\_\+archives\+\_\+refresh (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrtems__rtl__archives}{rtems\+\_\+rtl\+\_\+archives}} $\ast$}]{archives }\end{DoxyParamCaption})}

Refresh the archives data. Check if the configuration has changes and if it has reload it. Check each path in the configuration and creates archive instances for new archives and remove archives not present any more.

Refreshing is a development aid so reboots can be avoided as users trial configurations that work.


\begin{DoxyParams}{Parameters}
{\em archives} & The archives data to refresh. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em false} & The refresh failed, an error will have been set. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtl-archive_8h_a3f842a164d6f4aeb32c4ccde6177a530}\label{rtl-archive_8h_a3f842a164d6f4aeb32c4ccde6177a530}} 
\index{rtl-\/archive.h@{rtl-\/archive.h}!rtems\_rtl\_obj\_archive\_find\_obj@{rtems\_rtl\_obj\_archive\_find\_obj}}
\index{rtems\_rtl\_obj\_archive\_find\_obj@{rtems\_rtl\_obj\_archive\_find\_obj}!rtl-\/archive.h@{rtl-\/archive.h}}
\subsubsection{\texorpdfstring{rtems\_rtl\_obj\_archive\_find\_obj()}{rtems\_rtl\_obj\_archive\_find\_obj()}}
{\footnotesize\ttfamily bool rtems\+\_\+rtl\+\_\+obj\+\_\+archive\+\_\+find\+\_\+obj (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{size\+\_\+t}]{fsize,  }\item[{const char $\ast$$\ast$}]{name,  }\item[{off\+\_\+t $\ast$}]{offset,  }\item[{size\+\_\+t $\ast$}]{size,  }\item[{off\+\_\+t $\ast$}]{extended\+\_\+names,  }\item[{\mbox{\hyperlink{rtl-archive_8h_aeb92821ca23c9daa5393579aa7b9212f}{rtems\+\_\+rtl\+\_\+archive\+\_\+error}}}]{error }\end{DoxyParamCaption})}

Find a module in an archive returning the offset in the archive and the size. If the name field is pointing to a string pointer and that poniter is N\+U\+LL and the offset is valid the name is extracted from the archive and filled in. This is used when loading a file from the archive after a symbol is found. The file name is not know and could be extended which requires searching the extended string table in the archive.


\begin{DoxyParams}{Parameters}
{\em fd} & Open file handle for the archive. \\
\hline
{\em fsize} & Size of the archive. @paarm name Pointer to the name string. \\
\hline
{\em offset} & The offset of the file in the archive. \\
\hline
{\em size} & The size of the file in the archive. \\
\hline
{\em extended\+\_\+names} & The offset in the archive for the extended names. \\
\hline
{\em error} & The error handler called on an error. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em true} & The file was found in the archive. \\
\hline
{\em false} & The file was not found. \\
\hline
\end{DoxyRetVals}
