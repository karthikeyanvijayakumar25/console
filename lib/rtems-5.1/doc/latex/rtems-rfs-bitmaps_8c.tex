\hypertarget{rtems-rfs-bitmaps_8c}{}\section{cpukit/libfs/src/rfs/rtems-\/rfs-\/bitmaps.c File Reference}
\label{rtems-rfs-bitmaps_8c}\index{cpukit/libfs/src/rfs/rtems-\/rfs-\/bitmaps.c@{cpukit/libfs/src/rfs/rtems-\/rfs-\/bitmaps.c}}


R\+T\+E\+MS File Systems Bitmap Routines.  


{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$rtems/rfs/rtems-\/rfs-\/bitmaps.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{rtems-rfs-bitmaps_8c_a79f700881a8cd7db9993db7ce97502e8}{R\+T\+E\+M\+S\+\_\+\+R\+F\+S\+\_\+\+B\+I\+T\+M\+A\+P\+\_\+\+W\+A\+R\+N\+I\+N\+GS}}~0
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{rtems-rfs-bitmaps_8h_a2e909e0a0c9759ac71ca69851253b905}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+element}} \mbox{\hyperlink{rtems-rfs-bitmaps_8c_a6c6686287ba3caa0684a13233870c2ce}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+mask}} (unsigned int \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}})
\item 
\mbox{\hyperlink{rtems-rfs-bitmaps_8h_a2e909e0a0c9759ac71ca69851253b905}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+element}} \mbox{\hyperlink{rtems-rfs-bitmaps_8c_ab7bd24e753558028374d00c06c99ded1}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+mask\+\_\+section}} (unsigned int start, unsigned int end)
\item 
int \mbox{\hyperlink{rtems-rfs-bitmaps_8c_a36abb0e8f56bc9307bef555ec0f740be}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+set}} (\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$\mbox{\hyperlink{structcontrol}{control}}, \mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}} bit)
\item 
int \mbox{\hyperlink{rtems-rfs-bitmaps_8c_aa4bd94b56bf1969270c51b4534ad5677}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+clear}} (\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$\mbox{\hyperlink{structcontrol}{control}}, \mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}} bit)
\item 
int \mbox{\hyperlink{rtems-rfs-bitmaps_8c_abc6a4b7a3b0ef2602246517f9bb4e9a3}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+test}} (\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$\mbox{\hyperlink{structcontrol}{control}}, \mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}} bit, bool $\ast$state)
\item 
int \mbox{\hyperlink{rtems-rfs-bitmaps_8c_a88705115aae0a4ba16c754dc2be2ae6b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+set\+\_\+all}} (\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$\mbox{\hyperlink{structcontrol}{control}})
\item 
int \mbox{\hyperlink{rtems-rfs-bitmaps_8c_a43897e97e0f7d1c2a7d1defad8d907da}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+clear\+\_\+all}} (\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$\mbox{\hyperlink{structcontrol}{control}})
\item 
int \mbox{\hyperlink{rtems-rfs-bitmaps_8c_a6716e9aa142e1fc79cf6c645225366ed}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+alloc}} (\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$\mbox{\hyperlink{structcontrol}{control}}, \mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}} seed, bool $\ast$allocated, \mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}} $\ast$bit)
\item 
int \mbox{\hyperlink{rtems-rfs-bitmaps_8c_a4023169caad628bff0943dbfde9a23a9}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+create\+\_\+search}} (\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$\mbox{\hyperlink{structcontrol}{control}})
\item 
int \mbox{\hyperlink{rtems-rfs-bitmaps_8c_a9365e69e28aa6b044fb68f5b56397489}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+open}} (\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$\mbox{\hyperlink{structcontrol}{control}}, \mbox{\hyperlink{struct__rtems__rfs__file__system}{rtems\+\_\+rfs\+\_\+file\+\_\+system}} $\ast$fs, \mbox{\hyperlink{rtems-rfs-buffer_8h_a17f97c37c5273ad28d413dfd2d175e23}{rtems\+\_\+rfs\+\_\+buffer\+\_\+handle}} $\ast$buffer, size\+\_\+t \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}, \mbox{\hyperlink{rtems-rfs-buffer_8h_a5650d53328a5af0a78198fe780aec043}{rtems\+\_\+rfs\+\_\+buffer\+\_\+block}} block)
\item 
int \mbox{\hyperlink{rtems-rfs-bitmaps_8c_a9c5c4b4e9f3e518b9b1d9bed4824c67c}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+close}} (\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$\mbox{\hyperlink{structcontrol}{control}})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
R\+T\+E\+MS File Systems Bitmap Routines. 

These functions manage bit maps. A bit map consists of the map of bit allocated in a block and a search map where a bit represents 32 actual bits. The search map allows for a faster search for an available bit as 32 search bits can checked in a test. 

\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_a79f700881a8cd7db9993db7ce97502e8}\label{rtems-rfs-bitmaps_8c_a79f700881a8cd7db9993db7ce97502e8}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!RTEMS\_RFS\_BITMAP\_WARNINGS@{RTEMS\_RFS\_BITMAP\_WARNINGS}}
\index{RTEMS\_RFS\_BITMAP\_WARNINGS@{RTEMS\_RFS\_BITMAP\_WARNINGS}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{RTEMS\_RFS\_BITMAP\_WARNINGS}{RTEMS\_RFS\_BITMAP\_WARNINGS}}
{\footnotesize\ttfamily \#define R\+T\+E\+M\+S\+\_\+\+R\+F\+S\+\_\+\+B\+I\+T\+M\+A\+P\+\_\+\+W\+A\+R\+N\+I\+N\+GS~0}

Set to 1 to enable warnings when developing. 

\subsection{Function Documentation}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_a9c5c4b4e9f3e518b9b1d9bed4824c67c}\label{rtems-rfs-bitmaps_8c_a9c5c4b4e9f3e518b9b1d9bed4824c67c}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_close@{rtems\_rfs\_bitmap\_close}}
\index{rtems\_rfs\_bitmap\_close@{rtems\_rfs\_bitmap\_close}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_close()}{rtems\_rfs\_bitmap\_close()}}
{\footnotesize\ttfamily int rtems\+\_\+rfs\+\_\+bitmap\+\_\+close (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$}]{control }\end{DoxyParamCaption})}

Close a bitmap.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em control} & is the bit map control.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em error\+\_\+code} & An error occurred. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_a4023169caad628bff0943dbfde9a23a9}\label{rtems-rfs-bitmaps_8c_a4023169caad628bff0943dbfde9a23a9}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_create\_search@{rtems\_rfs\_bitmap\_create\_search}}
\index{rtems\_rfs\_bitmap\_create\_search@{rtems\_rfs\_bitmap\_create\_search}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_create\_search()}{rtems\_rfs\_bitmap\_create\_search()}}
{\footnotesize\ttfamily int rtems\+\_\+rfs\+\_\+bitmap\+\_\+create\+\_\+search (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$}]{control }\end{DoxyParamCaption})}

Create a search bit map from the actual bit map.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em control} & is the map control.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em error\+\_\+code} & An error occurred. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_a6716e9aa142e1fc79cf6c645225366ed}\label{rtems-rfs-bitmaps_8c_a6716e9aa142e1fc79cf6c645225366ed}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_map\_alloc@{rtems\_rfs\_bitmap\_map\_alloc}}
\index{rtems\_rfs\_bitmap\_map\_alloc@{rtems\_rfs\_bitmap\_map\_alloc}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_map\_alloc()}{rtems\_rfs\_bitmap\_map\_alloc()}}
{\footnotesize\ttfamily int rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+alloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$}]{control,  }\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}}}]{seed,  }\item[{bool $\ast$}]{allocate,  }\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}} $\ast$}]{bit }\end{DoxyParamCaption})}

Find a free bit searching from the seed up and down until found. The search is performing by moving up from the seed for the window distance then to search down from the seed for the window distance. This is repeated out from the seed for each window until a free bit is found. The search is performed by checking the search map to see if the map has a free bit.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em control} & is the map control. \\
\hline
\mbox{\texttt{ in}}  & {\em seed} & is the bit to search out from. \\
\hline
\mbox{\texttt{ out}}  & {\em allocate} & A bit was allocated. \\
\hline
\mbox{\texttt{ out}}  & {\em bit} & will contain the bit found free if true is returned.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em error\+\_\+code} & An error occurred. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_aa4bd94b56bf1969270c51b4534ad5677}\label{rtems-rfs-bitmaps_8c_aa4bd94b56bf1969270c51b4534ad5677}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_map\_clear@{rtems\_rfs\_bitmap\_map\_clear}}
\index{rtems\_rfs\_bitmap\_map\_clear@{rtems\_rfs\_bitmap\_map\_clear}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_map\_clear()}{rtems\_rfs\_bitmap\_map\_clear()}}
{\footnotesize\ttfamily int rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+clear (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$}]{control,  }\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}}}]{bit }\end{DoxyParamCaption})}

Clear a bit in a map and make sure the search map bit is clear so a search will find this bit available.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em control} & is the control for the map. \\
\hline
\mbox{\texttt{ in}}  & {\em bit} & is the bit in the map to clear.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em error\+\_\+code} & An error occurred. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_a43897e97e0f7d1c2a7d1defad8d907da}\label{rtems-rfs-bitmaps_8c_a43897e97e0f7d1c2a7d1defad8d907da}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_map\_clear\_all@{rtems\_rfs\_bitmap\_map\_clear\_all}}
\index{rtems\_rfs\_bitmap\_map\_clear\_all@{rtems\_rfs\_bitmap\_map\_clear\_all}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_map\_clear\_all()}{rtems\_rfs\_bitmap\_map\_clear\_all()}}
{\footnotesize\ttfamily int rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+clear\+\_\+all (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$}]{control }\end{DoxyParamCaption})}

Clear all bits in the bitmap and set the dirty bit.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em control} & is the bitmap control.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em error\+\_\+code} & An error occurred. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_a36abb0e8f56bc9307bef555ec0f740be}\label{rtems-rfs-bitmaps_8c_a36abb0e8f56bc9307bef555ec0f740be}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_map\_set@{rtems\_rfs\_bitmap\_map\_set}}
\index{rtems\_rfs\_bitmap\_map\_set@{rtems\_rfs\_bitmap\_map\_set}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_map\_set()}{rtems\_rfs\_bitmap\_map\_set()}}
{\footnotesize\ttfamily int rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$}]{control,  }\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}}}]{bit }\end{DoxyParamCaption})}

Set a bit in a map and if all the bits are set, set the search map bit as well.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em control} & is the control for the map. \\
\hline
\mbox{\texttt{ in}}  & {\em bit} & is the bit in the map to set.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em error\+\_\+code} & An error occurred. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_a88705115aae0a4ba16c754dc2be2ae6b}\label{rtems-rfs-bitmaps_8c_a88705115aae0a4ba16c754dc2be2ae6b}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_map\_set\_all@{rtems\_rfs\_bitmap\_map\_set\_all}}
\index{rtems\_rfs\_bitmap\_map\_set\_all@{rtems\_rfs\_bitmap\_map\_set\_all}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_map\_set\_all()}{rtems\_rfs\_bitmap\_map\_set\_all()}}
{\footnotesize\ttfamily int rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+set\+\_\+all (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$}]{control }\end{DoxyParamCaption})}

Set all bits in the bitmap and set the dirty bit.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em control} & is the bitmap control.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em error\+\_\+code} & An error occurred. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_abc6a4b7a3b0ef2602246517f9bb4e9a3}\label{rtems-rfs-bitmaps_8c_abc6a4b7a3b0ef2602246517f9bb4e9a3}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_map\_test@{rtems\_rfs\_bitmap\_map\_test}}
\index{rtems\_rfs\_bitmap\_map\_test@{rtems\_rfs\_bitmap\_map\_test}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_map\_test()}{rtems\_rfs\_bitmap\_map\_test()}}
{\footnotesize\ttfamily int rtems\+\_\+rfs\+\_\+bitmap\+\_\+map\+\_\+test (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$}]{control,  }\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_acc1b0aefe1b090890ccbc1b05279a78e}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+bit}}}]{bit,  }\item[{bool $\ast$}]{state }\end{DoxyParamCaption})}

Test a bit in the map.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em control} & is the bitmap control. \\
\hline
\mbox{\texttt{ in}}  & {\em bit} & is the bit to test. \\
\hline
\mbox{\texttt{ in}}  & {\em state} & is the state of the bit if no error is returned.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em error\+\_\+code} & An error occurred. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_a6c6686287ba3caa0684a13233870c2ce}\label{rtems-rfs-bitmaps_8c_a6c6686287ba3caa0684a13233870c2ce}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_mask@{rtems\_rfs\_bitmap\_mask}}
\index{rtems\_rfs\_bitmap\_mask@{rtems\_rfs\_bitmap\_mask}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_mask()}{rtems\_rfs\_bitmap\_mask()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rtems-rfs-bitmaps_8h_a2e909e0a0c9759ac71ca69851253b905}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+element}} rtems\+\_\+rfs\+\_\+bitmap\+\_\+mask (\begin{DoxyParamCaption}\item[{unsigned int}]{size }\end{DoxyParamCaption})}

Create a bit mask with the specified number of bits up to an element\textquotesingle{}s size. The mask is aligned to bit 0 of the element.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em size} & is the number of bits in the mask.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The mask of the argument size number of bits. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_ab7bd24e753558028374d00c06c99ded1}\label{rtems-rfs-bitmaps_8c_ab7bd24e753558028374d00c06c99ded1}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_mask\_section@{rtems\_rfs\_bitmap\_mask\_section}}
\index{rtems\_rfs\_bitmap\_mask\_section@{rtems\_rfs\_bitmap\_mask\_section}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_mask\_section()}{rtems\_rfs\_bitmap\_mask\_section()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rtems-rfs-bitmaps_8h_a2e909e0a0c9759ac71ca69851253b905}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+element}} rtems\+\_\+rfs\+\_\+bitmap\+\_\+mask\+\_\+section (\begin{DoxyParamCaption}\item[{unsigned int}]{start,  }\item[{unsigned int}]{end }\end{DoxyParamCaption})}

Create a bit mask section. A mask section is a mask that is not aligned to an end of the element.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em start} & is the first bit of the mask numbered from 0. \\
\hline
\mbox{\texttt{ in}}  & {\em end} & is the end bit of the mask numbered from 0.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Mask section as defined by the start and end arguments. 
\end{DoxyReturn}
\mbox{\Hypertarget{rtems-rfs-bitmaps_8c_a9365e69e28aa6b044fb68f5b56397489}\label{rtems-rfs-bitmaps_8c_a9365e69e28aa6b044fb68f5b56397489}} 
\index{rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}!rtems\_rfs\_bitmap\_open@{rtems\_rfs\_bitmap\_open}}
\index{rtems\_rfs\_bitmap\_open@{rtems\_rfs\_bitmap\_open}!rtems-\/rfs-\/bitmaps.c@{rtems-\/rfs-\/bitmaps.c}}
\subsubsection{\texorpdfstring{rtems\_rfs\_bitmap\_open()}{rtems\_rfs\_bitmap\_open()}}
{\footnotesize\ttfamily int rtems\+\_\+rfs\+\_\+bitmap\+\_\+open (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{rtems-rfs-bitmaps_8h_aa1b1de5abc294444428eb1038d7f898b}{rtems\+\_\+rfs\+\_\+bitmap\+\_\+control}} $\ast$}]{control,  }\item[{\mbox{\hyperlink{struct__rtems__rfs__file__system}{rtems\+\_\+rfs\+\_\+file\+\_\+system}} $\ast$}]{fs,  }\item[{\mbox{\hyperlink{rtems-rfs-buffer_8h_a17f97c37c5273ad28d413dfd2d175e23}{rtems\+\_\+rfs\+\_\+buffer\+\_\+handle}} $\ast$}]{buffer,  }\item[{size\+\_\+t}]{size,  }\item[{\mbox{\hyperlink{rtems-rfs-buffer_8h_a5650d53328a5af0a78198fe780aec043}{rtems\+\_\+rfs\+\_\+buffer\+\_\+block}}}]{block }\end{DoxyParamCaption})}

Open a bitmap control with a map and search map.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em control} & is the map control. \\
\hline
\mbox{\texttt{ in}}  & {\em fs} & is the file system data. \\
\hline
\mbox{\texttt{ in}}  & {\em buffer} & is a pointer to the buffer handle the map is stored in. \\
\hline
\mbox{\texttt{ in}}  & {\em size} & is the number of bits in the map.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Successful operation. \\
\hline
{\em error\+\_\+code} & An error occurred. \\
\hline
\end{DoxyRetVals}
