\hypertarget{group__gmacd__defines}{}\section{G\+M\+AC Driver Defines}
\label{group__gmacd__defines}\index{GMAC Driver Defines@{GMAC Driver Defines}}
\subsection*{Modules}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__gmacd__rc}{G\+M\+A\+C\+D Return Codes}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__gmacd__defines_gaf979fcaac59bf6578901fc3fa40c7255}{G\+C\+I\+R\+C\+\_\+\+C\+NT}}(head,  tail,  \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}})~\mbox{\hyperlink{group__gmacd__defines_gaf792223e30acf40b9e7a67f080f807e8}{fixed\+\_\+mod}}((head) -\/ (tail), (\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}))
\item 
\#define \mbox{\hyperlink{group__gmacd__defines_gad48958fa52a1e9dc9a08d33210bcd9e0}{G\+C\+I\+R\+C\+\_\+\+S\+P\+A\+CE}}(head,  tail,  \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}})~\mbox{\hyperlink{group__gmacd__defines_gaf979fcaac59bf6578901fc3fa40c7255}{G\+C\+I\+R\+C\+\_\+\+C\+NT}}((tail),((head)+1),(\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}))
\item 
\#define \mbox{\hyperlink{group__gmacd__defines_gac9926ea92f8ad62f870aaf51552e3cd9}{G\+C\+I\+R\+C\+\_\+\+C\+N\+T\+\_\+\+T\+O\+\_\+\+E\+ND}}(head,  tail,  \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}})
\item 
\#define \mbox{\hyperlink{group__gmacd__defines_ga41636c36b658013d2c0ff5e525a5af0e}{G\+C\+I\+R\+C\+\_\+\+S\+P\+A\+C\+E\+\_\+\+T\+O\+\_\+\+E\+ND}}(head,  tail,  \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}})
\item 
\#define \mbox{\hyperlink{group__gmacd__defines_gafd62a355f7480b793be721ba4c754813}{G\+C\+I\+R\+C\+\_\+\+I\+NC}}(headortail,  \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}})
\item 
\#define \mbox{\hyperlink{group__gmacd__defines_gafa316fca6188ee1324fca3acb10326a5}{G\+C\+I\+R\+C\+\_\+\+E\+M\+P\+TY}}(head,  tail)~(head == tail)
\item 
\#define \mbox{\hyperlink{group__gmacd__defines_ga65fb546208f7516e381b6535c899979a}{G\+C\+I\+R\+C\+\_\+\+C\+L\+E\+AR}}(head,  tail)~(head = tail = 0)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\+\_\+\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE int \mbox{\hyperlink{group__gmacd__defines_gaf792223e30acf40b9e7a67f080f807e8}{fixed\+\_\+mod}} (int a, int b)
\item 
\mbox{\Hypertarget{group__gmacd__defines_ga14397a277fce1b135fe1b2fc486c224f}\label{group__gmacd__defines_ga14397a277fce1b135fe1b2fc486c224f}} 
void {\bfseries G\+M\+A\+C\+D\+\_\+\+Tx\+Ptp\+Evt\+Msg\+C\+B\+Register} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, \mbox{\hyperlink{group__gmacd__types_gad3329dfe65f5877f50ee8a4fd8e63f08}{f\+Gmacd\+Tx\+Ptp\+Evt\+Call\+Back}} p\+Tx\+Ptp\+Evt\+Cb, gmac\+Que\+List\+\_\+t que\+Idx)
\item 
void \mbox{\hyperlink{group__gmacd__defines_ga782194c9b7163c22016beabc6101856c}{G\+M\+A\+C\+D\+\_\+\+Handler}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, gmac\+Que\+List\+\_\+t que\+Idx)
\begin{DoxyCompactList}\small\item\em G\+M\+AC Interrupt handler. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__gmacd__defines_ga8706caf686e1d073851111db1ba2663c}{G\+M\+A\+C\+D\+\_\+\+Init}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, \mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Hw, uint8\+\_\+t b\+ID, uint8\+\_\+t enable\+C\+AF, uint8\+\_\+t enable\+N\+BC)
\begin{DoxyCompactList}\small\item\em Initialize the G\+M\+AC with the \mbox{\hyperlink{structGmac}{Gmac}} controller address. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group__gmacd__defines_ga418589cbbef19de6084670d572b6ae27}{G\+M\+A\+C\+D\+\_\+\+Init\+Transfer}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, const \mbox{\hyperlink{group__gmacd__types_ga5ab53aef1a598e4d862677f8f1928b20}{s\+Gmac\+Init}} $\ast$p\+Init, gmac\+Que\+List\+\_\+t que\+Idx)
\item 
void \mbox{\hyperlink{group__gmacd__defines_gaede5219eb9101a760ecb266722825318}{G\+M\+A\+C\+D\+\_\+\+Reset}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd)
\item 
uint8\+\_\+t \mbox{\hyperlink{group__gmacd__defines_ga4dade176be1ff02c5dfb6371d873b5ed}{G\+M\+A\+C\+D\+\_\+\+Send\+SG}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, const \mbox{\hyperlink{group__gmacd__types_ga97ea4785757f8d33d38ed0563d84bfa4}{s\+Gmac\+S\+G\+List}} $\ast$sgl, \mbox{\hyperlink{group__gmacd__types_ga64979042bf43f697de166e864e3259de}{f\+Gmacd\+Transfer\+Callback}} f\+Tx\+Cb, gmac\+Que\+List\+\_\+t que\+Idx)
\begin{DoxyCompactList}\small\item\em Send a frame split into buffers. If the frame size is larger than transfer buffer size error returned. If frame transfer status is monitored, specify callback for each frame. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group__gmacd__defines_ga2f3e029556b9627258a2eb1dc4919d95}{G\+M\+A\+C\+D\+\_\+\+Send}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, void $\ast$p\+Buffer, uint32\+\_\+t \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}, \mbox{\hyperlink{group__gmacd__types_ga64979042bf43f697de166e864e3259de}{f\+Gmacd\+Transfer\+Callback}} f\+Tx\+Cb, gmac\+Que\+List\+\_\+t que\+Idx)
\begin{DoxyCompactList}\small\item\em Send a packet with G\+M\+AC. If the packet size is larger than transfer buffer size error returned. If packet transfer status is monitored, specify callback for each packet. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmacd__defines_ga1bd3fe40e63537dce59dd4368dce4253}{G\+M\+A\+C\+D\+\_\+\+Tx\+Load}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, gmac\+Que\+List\+\_\+t que\+Idx)
\item 
uint8\+\_\+t \mbox{\hyperlink{group__gmacd__defines_gaa45b1118c5a1147bde4e3026194bc965}{G\+M\+A\+C\+D\+\_\+\+Poll}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, uint8\+\_\+t $\ast$p\+Frame, uint32\+\_\+t frame\+Size, uint32\+\_\+t $\ast$p\+Rcv\+Size, gmac\+Que\+List\+\_\+t que\+Idx)
\begin{DoxyCompactList}\small\item\em Receive a packet with G\+M\+AC. If not enough buffer for the packet, the remaining data is lost but right frame length is returned. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__gmacd__defines_ga3ea0884def476f9698f1cdbae6b6f3e2}{G\+M\+A\+C\+D\+\_\+\+Set\+Rx\+Callback}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, \mbox{\hyperlink{group__gmacd__types_ga64979042bf43f697de166e864e3259de}{f\+Gmacd\+Transfer\+Callback}} f\+Rx\+Cb, gmac\+Que\+List\+\_\+t que\+Idx)
\begin{DoxyCompactList}\small\item\em Registers p\+Rx\+Cb callback. Callback will be invoked after the next received frame. When G\+M\+A\+C\+\_\+\+Poll() returns G\+M\+A\+C\+\_\+\+R\+X\+\_\+\+N\+O\+\_\+\+D\+A\+TA the application task call G\+M\+A\+C\+\_\+\+Set\+\_\+\+Rx\+Cb() to register p\+Rx\+Cb() callback and enters suspend state. The callback is in charge to resume the task once a new frame has been received. The next time G\+M\+A\+C\+\_\+\+Poll() is called, it will be successful. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group__gmacd__defines_ga0806a8a23ffb3180d3404ec6d7fbfa1d}{G\+M\+A\+C\+D\+\_\+\+Set\+Tx\+Wakeup\+Callback}} (\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$p\+Gmacd, \mbox{\hyperlink{group__gmacd__types_ga44e6be4bb53db0660baf6cb50b20a684}{f\+Gmacd\+Wakeup\+Callback}} f\+Wakeup, uint8\+\_\+t b\+Threshold, gmac\+Que\+List\+\_\+t que\+Idx)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__gmacd__defines_ga74916b8b8b9489860a7ca46c44614214}\label{group__gmacd__defines_ga74916b8b8b9489860a7ca46c44614214}} 
uint8\+\_\+t {\bfseries ptp\+Tx\+Que\+Write\+Idx} = 0u
\item 
\mbox{\Hypertarget{group__gmacd__defines_ga149932a9a4af16ae2048695b064a9379}\label{group__gmacd__defines_ga149932a9a4af16ae2048695b064a9379}} 
uint8\+\_\+t {\bfseries ptp\+Tx\+Que\+Read\+Idx} = 0u
\item 
\mbox{\Hypertarget{group__gmacd__defines_ga8b0a291846fd88795fa72cfce47e83ca}\label{group__gmacd__defines_ga8b0a291846fd88795fa72cfce47e83ca}} 
ptp\+Msg\+Type {\bfseries g\+Ptp\+Msg\+Tx\+Que} \mbox{[}E\+F\+R\+S\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+L\+EN\mbox{]}
\item 
\mbox{\Hypertarget{group__gmacd__defines_ga09d34874a2e0dc576ac30251922acbda}\label{group__gmacd__defines_ga09d34874a2e0dc576ac30251922acbda}} 
uint16\+\_\+t {\bfseries g\+Ptp\+Msg\+Tx\+Seq\+Id} \mbox{[}E\+F\+R\+S\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+L\+EN\mbox{]}
\item 
const uint32\+\_\+t {\bfseries isr\+Masks} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__gmacd__defines_ga65fb546208f7516e381b6535c899979a}\label{group__gmacd__defines_ga65fb546208f7516e381b6535c899979a}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GCIRC\_CLEAR@{GCIRC\_CLEAR}}
\index{GCIRC\_CLEAR@{GCIRC\_CLEAR}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GCIRC\_CLEAR}{GCIRC\_CLEAR}}
{\footnotesize\ttfamily \#define G\+C\+I\+R\+C\+\_\+\+C\+L\+E\+AR(\begin{DoxyParamCaption}\item[{}]{head,  }\item[{}]{tail }\end{DoxyParamCaption})~(head = tail = 0)}

Clear circular buffer \mbox{\Hypertarget{group__gmacd__defines_gaf979fcaac59bf6578901fc3fa40c7255}\label{group__gmacd__defines_gaf979fcaac59bf6578901fc3fa40c7255}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GCIRC\_CNT@{GCIRC\_CNT}}
\index{GCIRC\_CNT@{GCIRC\_CNT}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GCIRC\_CNT}{GCIRC\_CNT}}
{\footnotesize\ttfamily \#define G\+C\+I\+R\+C\+\_\+\+C\+NT(\begin{DoxyParamCaption}\item[{}]{head,  }\item[{}]{tail,  }\item[{}]{\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}} }\end{DoxyParamCaption})~\mbox{\hyperlink{group__gmacd__defines_gaf792223e30acf40b9e7a67f080f807e8}{fixed\+\_\+mod}}((head) -\/ (tail), (\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}))}

Return count in buffer \mbox{\Hypertarget{group__gmacd__defines_gac9926ea92f8ad62f870aaf51552e3cd9}\label{group__gmacd__defines_gac9926ea92f8ad62f870aaf51552e3cd9}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GCIRC\_CNT\_TO\_END@{GCIRC\_CNT\_TO\_END}}
\index{GCIRC\_CNT\_TO\_END@{GCIRC\_CNT\_TO\_END}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GCIRC\_CNT\_TO\_END}{GCIRC\_CNT\_TO\_END}}
{\footnotesize\ttfamily \#define G\+C\+I\+R\+C\+\_\+\+C\+N\+T\+\_\+\+T\+O\+\_\+\+E\+ND(\begin{DoxyParamCaption}\item[{}]{head,  }\item[{}]{tail,  }\item[{}]{\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(\{\textcolor{keywordtype}{int} end = (\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}) - (tail); \(\backslash\)}
\DoxyCodeLine{        int n = \mbox{\hyperlink{group__gmacd__defines_gaf792223e30acf40b9e7a67f080f807e8}{fixed\_mod}}((head) + end, (\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}));    \(\backslash\)}
\DoxyCodeLine{        n < end ? n : end;\})}

\end{DoxyCode}
Return count up to the end of the buffer. Carefully avoid accessing head and tail more than once, so they can change underneath us without returning inconsistent results \mbox{\Hypertarget{group__gmacd__defines_gafa316fca6188ee1324fca3acb10326a5}\label{group__gmacd__defines_gafa316fca6188ee1324fca3acb10326a5}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GCIRC\_EMPTY@{GCIRC\_EMPTY}}
\index{GCIRC\_EMPTY@{GCIRC\_EMPTY}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GCIRC\_EMPTY}{GCIRC\_EMPTY}}
{\footnotesize\ttfamily \#define G\+C\+I\+R\+C\+\_\+\+E\+M\+P\+TY(\begin{DoxyParamCaption}\item[{}]{head,  }\item[{}]{tail }\end{DoxyParamCaption})~(head == tail)}

Circular buffer is empty ? \mbox{\Hypertarget{group__gmacd__defines_gafd62a355f7480b793be721ba4c754813}\label{group__gmacd__defines_gafd62a355f7480b793be721ba4c754813}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GCIRC\_INC@{GCIRC\_INC}}
\index{GCIRC\_INC@{GCIRC\_INC}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GCIRC\_INC}{GCIRC\_INC}}
{\footnotesize\ttfamily \#define G\+C\+I\+R\+C\+\_\+\+I\+NC(\begin{DoxyParamCaption}\item[{}]{headortail,  }\item[{}]{\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{headortail++;             \(\backslash\)}
\DoxyCodeLine{    if (headortail >= \mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}) \{  \(\backslash\)}
\DoxyCodeLine{        headortail = 0;       \(\backslash\)}
\DoxyCodeLine{    \}}

\end{DoxyCode}
Increment head or tail \mbox{\Hypertarget{group__gmacd__defines_gad48958fa52a1e9dc9a08d33210bcd9e0}\label{group__gmacd__defines_gad48958fa52a1e9dc9a08d33210bcd9e0}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GCIRC\_SPACE@{GCIRC\_SPACE}}
\index{GCIRC\_SPACE@{GCIRC\_SPACE}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GCIRC\_SPACE}{GCIRC\_SPACE}}
{\footnotesize\ttfamily \#define G\+C\+I\+R\+C\+\_\+\+S\+P\+A\+CE(\begin{DoxyParamCaption}\item[{}]{head,  }\item[{}]{tail,  }\item[{}]{\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}} }\end{DoxyParamCaption})~\mbox{\hyperlink{group__gmacd__defines_gaf979fcaac59bf6578901fc3fa40c7255}{G\+C\+I\+R\+C\+\_\+\+C\+NT}}((tail),((head)+1),(\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}))}

Return space available, 0..size-\/1. always leave one free char as a completely full buffer has head == tail, which is the same as empty \mbox{\Hypertarget{group__gmacd__defines_ga41636c36b658013d2c0ff5e525a5af0e}\label{group__gmacd__defines_ga41636c36b658013d2c0ff5e525a5af0e}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GCIRC\_SPACE\_TO\_END@{GCIRC\_SPACE\_TO\_END}}
\index{GCIRC\_SPACE\_TO\_END@{GCIRC\_SPACE\_TO\_END}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GCIRC\_SPACE\_TO\_END}{GCIRC\_SPACE\_TO\_END}}
{\footnotesize\ttfamily \#define G\+C\+I\+R\+C\+\_\+\+S\+P\+A\+C\+E\+\_\+\+T\+O\+\_\+\+E\+ND(\begin{DoxyParamCaption}\item[{}]{head,  }\item[{}]{tail,  }\item[{}]{\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}} }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(\{\textcolor{keywordtype}{int} end = (\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}) - 1 - (head); \(\backslash\)}
\DoxyCodeLine{        int n = \mbox{\hyperlink{group__gmacd__defines_gaf792223e30acf40b9e7a67f080f807e8}{fixed\_mod}}(end + (tail), (\mbox{\hyperlink{sun4u_2tte_8h_a245260f6f74972558f61b85227df5aae}{size}}));    \(\backslash\)}
\DoxyCodeLine{        n <= end ? n : end+1;\})}

\end{DoxyCode}
Return space available up to the end of the buffer 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__gmacd__defines_gaf792223e30acf40b9e7a67f080f807e8}\label{group__gmacd__defines_gaf792223e30acf40b9e7a67f080f807e8}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!fixed\_mod@{fixed\_mod}}
\index{fixed\_mod@{fixed\_mod}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{fixed\_mod()}{fixed\_mod()}}
{\footnotesize\ttfamily \+\_\+\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE int fixed\+\_\+mod (\begin{DoxyParamCaption}\item[{int}]{a,  }\item[{int}]{b }\end{DoxyParamCaption})}

I\+S\+O/\+I\+EC 14882\+:2003(E) -\/ 5.\+6 Multiplicative operators\+: The binary / operator yields the quotient, and the binary \% operator yields the remainder from the division of the first expression by the second. If the second operand of / or \% is zero the behaviour is undefined; otherwise (a/b)$\ast$b + ab is equal to a. If both operands are non-\/negative then the remainder is non-\/negative; if not, the sign of the remainder is implementation-\/defined 74). \mbox{\Hypertarget{group__gmacd__defines_ga782194c9b7163c22016beabc6101856c}\label{group__gmacd__defines_ga782194c9b7163c22016beabc6101856c}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_Handler@{GMACD\_Handler}}
\index{GMACD\_Handler@{GMACD\_Handler}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_Handler()}{GMACD\_Handler()}}
{\footnotesize\ttfamily void G\+M\+A\+C\+D\+\_\+\+Handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd,  }\item[{gmac\+Que\+List\+\_\+t}]{que\+Idx }\end{DoxyParamCaption})}



G\+M\+AC Interrupt handler. 


\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__gmacd__defines_ga8706caf686e1d073851111db1ba2663c}\label{group__gmacd__defines_ga8706caf686e1d073851111db1ba2663c}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_Init@{GMACD\_Init}}
\index{GMACD\_Init@{GMACD\_Init}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_Init()}{GMACD\_Init()}}
{\footnotesize\ttfamily void G\+M\+A\+C\+D\+\_\+\+Init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd,  }\item[{\mbox{\hyperlink{structGmac}{Gmac}} $\ast$}]{p\+Hw,  }\item[{uint8\+\_\+t}]{b\+ID,  }\item[{uint8\+\_\+t}]{enable\+C\+AF,  }\item[{uint8\+\_\+t}]{enable\+N\+BC }\end{DoxyParamCaption})}



Initialize the G\+M\+AC with the \mbox{\hyperlink{structGmac}{Gmac}} controller address. 


\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
{\em p\+Hw} & Pointer to HW address for registers. \\
\hline
{\em b\+ID} & HW ID for power management \\
\hline
{\em enable\+C\+AF} & Enable/\+Disable Copy\+All\+Frame. \\
\hline
{\em enable\+N\+BC} & Enable/\+Disable No\+Broad\+Cast. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__gmacd__defines_ga418589cbbef19de6084670d572b6ae27}\label{group__gmacd__defines_ga418589cbbef19de6084670d572b6ae27}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_InitTransfer@{GMACD\_InitTransfer}}
\index{GMACD\_InitTransfer@{GMACD\_InitTransfer}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_InitTransfer()}{GMACD\_InitTransfer()}}
{\footnotesize\ttfamily uint8\+\_\+t G\+M\+A\+C\+D\+\_\+\+Init\+Transfer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd,  }\item[{const \mbox{\hyperlink{group__gmacd__types_ga5ab53aef1a598e4d862677f8f1928b20}{s\+Gmac\+Init}} $\ast$}]{p\+Init,  }\item[{gmac\+Que\+List\+\_\+t}]{que\+Idx }\end{DoxyParamCaption})}

Initialize necessary allocated buffer lists for G\+M\+AC Driver to transfer data. Must be invoked after \mbox{\hyperlink{group__gmacd__defines_ga8706caf686e1d073851111db1ba2663c}{G\+M\+A\+C\+D\+\_\+\+Init()}} but before R\+X/\+TX start. Replace the deprecated \mbox{\hyperlink{group__gmacd__defines_ga418589cbbef19de6084670d572b6ae27}{G\+M\+A\+C\+D\+\_\+\+Init\+Transfer()}}. 
\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
{\em p\+Init} & Pointer to s\+Gmac\+Init. \\
\hline
{\em p\+Init} & Pointer to gmac\+Que\+List\+\_\+t for different queue. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
G\+M\+A\+C\+D\+\_\+\+OK or G\+M\+A\+C\+D\+\_\+\+P\+A\+R\+AM. 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
If input address is not 8-\/byte aligned the address is automatically adjusted and the list size is reduced by one. 
\end{DoxyNote}
\mbox{\Hypertarget{group__gmacd__defines_gaa45b1118c5a1147bde4e3026194bc965}\label{group__gmacd__defines_gaa45b1118c5a1147bde4e3026194bc965}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_Poll@{GMACD\_Poll}}
\index{GMACD\_Poll@{GMACD\_Poll}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_Poll()}{GMACD\_Poll()}}
{\footnotesize\ttfamily uint8\+\_\+t G\+M\+A\+C\+D\+\_\+\+Poll (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd,  }\item[{uint8\+\_\+t $\ast$}]{p\+Frame,  }\item[{uint32\+\_\+t}]{frame\+Size,  }\item[{uint32\+\_\+t $\ast$}]{p\+Rcv\+Size,  }\item[{gmac\+Que\+List\+\_\+t}]{que\+Idx }\end{DoxyParamCaption})}



Receive a packet with G\+M\+AC. If not enough buffer for the packet, the remaining data is lost but right frame length is returned. 


\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
{\em p\+Frame} & Buffer to store the frame \\
\hline
{\em frame\+Size} & Size of the frame \\
\hline
{\em p\+Rcv\+Size} & Received size \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, no data, or frame too small 
\end{DoxyReturn}
\mbox{\Hypertarget{group__gmacd__defines_gaede5219eb9101a760ecb266722825318}\label{group__gmacd__defines_gaede5219eb9101a760ecb266722825318}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_Reset@{GMACD\_Reset}}
\index{GMACD\_Reset@{GMACD\_Reset}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_Reset()}{GMACD\_Reset()}}
{\footnotesize\ttfamily void G\+M\+A\+C\+D\+\_\+\+Reset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd }\end{DoxyParamCaption})}

Reset TX \& RX queue \& statistics 
\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__gmacd__defines_ga2f3e029556b9627258a2eb1dc4919d95}\label{group__gmacd__defines_ga2f3e029556b9627258a2eb1dc4919d95}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_Send@{GMACD\_Send}}
\index{GMACD\_Send@{GMACD\_Send}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_Send()}{GMACD\_Send()}}
{\footnotesize\ttfamily uint8\+\_\+t G\+M\+A\+C\+D\+\_\+\+Send (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd,  }\item[{void $\ast$}]{p\+Buffer,  }\item[{uint32\+\_\+t}]{size,  }\item[{\mbox{\hyperlink{group__gmacd__types_ga64979042bf43f697de166e864e3259de}{f\+Gmacd\+Transfer\+Callback}}}]{f\+Tx\+Cb,  }\item[{gmac\+Que\+List\+\_\+t}]{que\+Idx }\end{DoxyParamCaption})}



Send a packet with G\+M\+AC. If the packet size is larger than transfer buffer size error returned. If packet transfer status is monitored, specify callback for each packet. 


\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
{\em p\+Buffer} & The buffer to be send \\
\hline
{\em size} & The size of buffer to be send \\
\hline
{\em f\+Tx\+Cb} & Threshold Wakeup callback \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, Busy or invalid packet 
\end{DoxyReturn}
\mbox{\Hypertarget{group__gmacd__defines_ga4dade176be1ff02c5dfb6371d873b5ed}\label{group__gmacd__defines_ga4dade176be1ff02c5dfb6371d873b5ed}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_SendSG@{GMACD\_SendSG}}
\index{GMACD\_SendSG@{GMACD\_SendSG}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_SendSG()}{GMACD\_SendSG()}}
{\footnotesize\ttfamily uint8\+\_\+t G\+M\+A\+C\+D\+\_\+\+Send\+SG (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd,  }\item[{const \mbox{\hyperlink{group__gmacd__types_ga97ea4785757f8d33d38ed0563d84bfa4}{s\+Gmac\+S\+G\+List}} $\ast$}]{sgl,  }\item[{\mbox{\hyperlink{group__gmacd__types_ga64979042bf43f697de166e864e3259de}{f\+Gmacd\+Transfer\+Callback}}}]{f\+Tx\+Cb,  }\item[{gmac\+Que\+List\+\_\+t}]{que\+Idx }\end{DoxyParamCaption})}



Send a frame split into buffers. If the frame size is larger than transfer buffer size error returned. If frame transfer status is monitored, specify callback for each frame. 


\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
{\em sgl} & Pointer to a scatter-\/gather list describing the buffers of the ethernet frame. \\
\hline
{\em f\+Tx\+Cb} & Pointer to callback function. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__gmacd__defines_ga3ea0884def476f9698f1cdbae6b6f3e2}\label{group__gmacd__defines_ga3ea0884def476f9698f1cdbae6b6f3e2}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_SetRxCallback@{GMACD\_SetRxCallback}}
\index{GMACD\_SetRxCallback@{GMACD\_SetRxCallback}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_SetRxCallback()}{GMACD\_SetRxCallback()}}
{\footnotesize\ttfamily void G\+M\+A\+C\+D\+\_\+\+Set\+Rx\+Callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd,  }\item[{\mbox{\hyperlink{group__gmacd__types_ga64979042bf43f697de166e864e3259de}{f\+Gmacd\+Transfer\+Callback}}}]{f\+Rx\+Cb,  }\item[{gmac\+Que\+List\+\_\+t}]{que\+Idx }\end{DoxyParamCaption})}



Registers p\+Rx\+Cb callback. Callback will be invoked after the next received frame. When G\+M\+A\+C\+\_\+\+Poll() returns G\+M\+A\+C\+\_\+\+R\+X\+\_\+\+N\+O\+\_\+\+D\+A\+TA the application task call G\+M\+A\+C\+\_\+\+Set\+\_\+\+Rx\+Cb() to register p\+Rx\+Cb() callback and enters suspend state. The callback is in charge to resume the task once a new frame has been received. The next time G\+M\+A\+C\+\_\+\+Poll() is called, it will be successful. 


\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
{\em f\+Rx\+Cb} & Pointer to callback function \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
OK, no data, or frame too small 
\end{DoxyReturn}
\mbox{\Hypertarget{group__gmacd__defines_ga0806a8a23ffb3180d3404ec6d7fbfa1d}\label{group__gmacd__defines_ga0806a8a23ffb3180d3404ec6d7fbfa1d}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_SetTxWakeupCallback@{GMACD\_SetTxWakeupCallback}}
\index{GMACD\_SetTxWakeupCallback@{GMACD\_SetTxWakeupCallback}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_SetTxWakeupCallback()}{GMACD\_SetTxWakeupCallback()}}
{\footnotesize\ttfamily uint8\+\_\+t G\+M\+A\+C\+D\+\_\+\+Set\+Tx\+Wakeup\+Callback (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd,  }\item[{\mbox{\hyperlink{group__gmacd__types_ga44e6be4bb53db0660baf6cb50b20a684}{f\+Gmacd\+Wakeup\+Callback}}}]{f\+Wakeup,  }\item[{uint8\+\_\+t}]{b\+Threshold,  }\item[{gmac\+Que\+List\+\_\+t}]{que\+Idx }\end{DoxyParamCaption})}

Register/\+Clear TX wakeup callback.

When \mbox{\hyperlink{group__gmacd__defines_ga2f3e029556b9627258a2eb1dc4919d95}{G\+M\+A\+C\+D\+\_\+\+Send()}} returns G\+M\+A\+C\+D\+\_\+\+T\+X\+\_\+\+B\+U\+SY (all TD busy) the application task calls \mbox{\hyperlink{group__gmacd__defines_ga0806a8a23ffb3180d3404ec6d7fbfa1d}{G\+M\+A\+C\+D\+\_\+\+Set\+Tx\+Wakeup\+Callback()}} to register f\+Wakeup() callback and enters suspend state. The callback is in charge to resume the task once several TD have been released. The next time \mbox{\hyperlink{group__gmacd__defines_ga2f3e029556b9627258a2eb1dc4919d95}{G\+M\+A\+C\+D\+\_\+\+Send()}} will be called, it shall be successful.

This function is usually invoked with N\+U\+LL callback from the TX wakeup callback itself, to unregister. Once the callback has resumed the application task, there is no need to invoke the callback again.


\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
{\em f\+Wakeup} & Wakeup callback. \\
\hline
{\em b\+Threshold} & Number of free TD before wakeup callback invoked. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
G\+M\+A\+C\+D\+\_\+\+OK, G\+M\+A\+C\+D\+\_\+\+P\+A\+R\+AM on parameter error. 
\end{DoxyReturn}
\mbox{\Hypertarget{group__gmacd__defines_ga1bd3fe40e63537dce59dd4368dce4253}\label{group__gmacd__defines_ga1bd3fe40e63537dce59dd4368dce4253}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!GMACD\_TxLoad@{GMACD\_TxLoad}}
\index{GMACD\_TxLoad@{GMACD\_TxLoad}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{GMACD\_TxLoad()}{GMACD\_TxLoad()}}
{\footnotesize\ttfamily uint32\+\_\+t G\+M\+A\+C\+D\+\_\+\+Tx\+Load (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__gmacd__types_gaa8760917079000a5ee7fbc7fab992dd3}{s\+Gmacd}} $\ast$}]{p\+Gmacd,  }\item[{gmac\+Que\+List\+\_\+t}]{que\+Idx }\end{DoxyParamCaption})}

Return current load of TX. 
\begin{DoxyParams}{Parameters}
{\em p\+Gmacd} & Pointer to G\+M\+AC Driver instance. \\
\hline
\end{DoxyParams}


\subsection{Variable Documentation}
\mbox{\Hypertarget{group__gmacd__defines_ga82153b6505e76a7df02a0b11e0351d8c}\label{group__gmacd__defines_ga82153b6505e76a7df02a0b11e0351d8c}} 
\index{GMAC Driver Defines@{GMAC Driver Defines}!isrMasks@{isrMasks}}
\index{isrMasks@{isrMasks}!GMAC Driver Defines@{GMAC Driver Defines}}
\subsubsection{\texorpdfstring{isrMasks}{isrMasks}}
{\footnotesize\ttfamily const uint32\+\_\+t isr\+Masks\mbox{[}$\,$\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{ \mbox{\hyperlink{group__SAME70__GMAC_gaa70500f5bace97033260ae3065ed8ada}{GMAC\_IMR\_SFT}}, \mbox{\hyperlink{group__SAME70__GMAC_gae805f71830f07a81e460eeda3911152d}{GMAC\_IMR\_DRQFT}},}
\DoxyCodeLine{                              \mbox{\hyperlink{group__SAME70__GMAC_ga16d9b3549cbf2891e4548dda6e279823}{GMAC\_IMR\_PDRQFT}} , \mbox{\hyperlink{group__SAME70__GMAC_ga8d5f9a4258b19444a167fc1eb5142c51}{GMAC\_IMR\_PDRSFT}}}
\DoxyCodeLine{                            \}}

\end{DoxyCode}
