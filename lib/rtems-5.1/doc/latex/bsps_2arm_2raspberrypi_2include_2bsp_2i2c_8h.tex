\hypertarget{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h}{}\section{bsps/arm/raspberrypi/include/bsp/i2c.h File Reference}
\label{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h}\index{bsps/arm/raspberrypi/include/bsp/i2c.h@{bsps/arm/raspberrypi/include/bsp/i2c.h}}


Raspberry Pi specific I2C definitions.  


{\ttfamily \#include $<$dev/i2c/i2c.\+h$>$}\newline
\subsection*{Macros}
\begin{Indent}\textbf{ I2C constants.}\par
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_aaabd7ab2f974d7f4d8d958f90281057a}{B\+S\+C\+\_\+\+C\+O\+R\+E\+\_\+\+C\+L\+K\+\_\+\+HZ}}~150000000
\begin{DoxyCompactList}\small\item\em B\+SC controller core clock rate in Hz. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_a2772dc6b1e348beb600dd7551f29883d}{D\+E\+F\+A\+U\+L\+T\+\_\+\+B\+U\+S\+\_\+\+C\+L\+O\+CK}}~100000
\begin{DoxyCompactList}\small\item\em Default bus clock. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Functions}
\begin{Indent}\textbf{ I2C directives.}\par
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_ad904ea27262283694b605280beaa9074}\label{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_ad904ea27262283694b605280beaa9074}} 
void \mbox{\hyperlink{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_ad904ea27262283694b605280beaa9074}{rpi\+\_\+i2c\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Setups the Raspberry Pi G\+P\+IO header to activate the B\+SC I2C bus. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_ac9ff13da5d045264d4020d4b4ec31b08}{rpi\+\_\+i2c\+\_\+register\+\_\+bus}} (const char $\ast$bus\+\_\+path, uint32\+\_\+t bus\+\_\+clock)
\begin{DoxyCompactList}\small\item\em Registers the Raspberry Pi B\+SC I2C bus with the Linux I2C User-\/\+Space A\+PI. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\subsection{Detailed Description}
Raspberry Pi specific I2C definitions. 



\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_aaabd7ab2f974d7f4d8d958f90281057a}\label{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_aaabd7ab2f974d7f4d8d958f90281057a}} 
\index{i2c.h@{i2c.h}!BSC\_CORE\_CLK\_HZ@{BSC\_CORE\_CLK\_HZ}}
\index{BSC\_CORE\_CLK\_HZ@{BSC\_CORE\_CLK\_HZ}!i2c.h@{i2c.h}}
\subsubsection{\texorpdfstring{BSC\_CORE\_CLK\_HZ}{BSC\_CORE\_CLK\_HZ}}
{\footnotesize\ttfamily \#define B\+S\+C\+\_\+\+C\+O\+R\+E\+\_\+\+C\+L\+K\+\_\+\+HZ~150000000}



B\+SC controller core clock rate in Hz. 

This is set to 150 M\+Hz as per the B\+C\+M2835 datasheet. \mbox{\Hypertarget{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_a2772dc6b1e348beb600dd7551f29883d}\label{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_a2772dc6b1e348beb600dd7551f29883d}} 
\index{i2c.h@{i2c.h}!DEFAULT\_BUS\_CLOCK@{DEFAULT\_BUS\_CLOCK}}
\index{DEFAULT\_BUS\_CLOCK@{DEFAULT\_BUS\_CLOCK}!i2c.h@{i2c.h}}
\subsubsection{\texorpdfstring{DEFAULT\_BUS\_CLOCK}{DEFAULT\_BUS\_CLOCK}}
{\footnotesize\ttfamily \#define D\+E\+F\+A\+U\+L\+T\+\_\+\+B\+U\+S\+\_\+\+C\+L\+O\+CK~100000}



Default bus clock. 

This sets the bus with a 100 k\+Hz clock speed. 

\subsection{Function Documentation}
\mbox{\Hypertarget{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_ac9ff13da5d045264d4020d4b4ec31b08}\label{bsps_2arm_2raspberrypi_2include_2bsp_2i2c_8h_ac9ff13da5d045264d4020d4b4ec31b08}} 
\index{i2c.h@{i2c.h}!rpi\_i2c\_register\_bus@{rpi\_i2c\_register\_bus}}
\index{rpi\_i2c\_register\_bus@{rpi\_i2c\_register\_bus}!i2c.h@{i2c.h}}
\subsubsection{\texorpdfstring{rpi\_i2c\_register\_bus()}{rpi\_i2c\_register\_bus()}}
{\footnotesize\ttfamily int rpi\+\_\+i2c\+\_\+register\+\_\+bus (\begin{DoxyParamCaption}\item[{const char $\ast$}]{bus\+\_\+path,  }\item[{uint32\+\_\+t}]{bus\+\_\+clock }\end{DoxyParamCaption})}



Registers the Raspberry Pi B\+SC I2C bus with the Linux I2C User-\/\+Space A\+PI. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bus\+\_\+path} & Path to the bus device file. \\
\hline
\mbox{\texttt{ in}}  & {\em bus\+\_\+clock} & Bus clock in Hz.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em 0} & Bus registered successfully. \\
\hline
{\em $<$0} & Could not register the bus. The return value is a negative errno code. \\
\hline
\end{DoxyRetVals}
