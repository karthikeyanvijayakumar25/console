\hypertarget{gmac_8c}{}\section{bsps/arm/atsam/contrib/libraries/libchip/source/gmac.c File Reference}
\label{gmac_8c}\index{bsps/arm/atsam/contrib/libraries/libchip/source/gmac.c@{bsps/arm/atsam/contrib/libraries/libchip/source/gmac.c}}
{\ttfamily \#include \char`\"{}chip.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{gmac_8c_a329b5042fbd8ca44fd5a4ce547c1eda7}\label{gmac_8c_a329b5042fbd8ca44fd5a4ce547c1eda7}} 
\#define {\bfseries G\+M\+A\+C\+\_\+\+N\+C\+F\+G\+R\+\_\+\+G\+BE}~(0x1u $<$$<$ 10)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{group__gmac__defines_gaa08d910a6f3f99c429158ad429368ffc}{G\+M\+A\+C\+\_\+\+Is\+Idle}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga6f6f590403bb6a1e27b19715fae19d20}{G\+M\+A\+C\+\_\+\+P\+H\+Y\+Maintain}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint8\+\_\+t b\+Phy\+Addr, uint8\+\_\+t b\+Reg\+Addr, uint8\+\_\+t b\+RW, uint16\+\_\+t w\+Data)
\item 
uint16\+\_\+t \mbox{\hyperlink{group__gmac__defines_gac8f081caf9548311d6bd54ce1fca606d}{G\+M\+A\+C\+\_\+\+P\+H\+Y\+Data}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint8\+\_\+t \mbox{\hyperlink{group__gmac__defines_ga56d0b7353ef8be740202f6e5a902ca6a}{G\+M\+A\+C\+\_\+\+Set\+Mdc\+Clock}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t mck)
\begin{DoxyCompactList}\small\item\em Set M\+DC clock according to current board clock. Per 802.\+3, M\+DC should be less then 2.\+5\+M\+Hz. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__gmac__defines_gabf89fc2e0cb8e9ec7e0b99a5a14cae50}{G\+M\+A\+C\+\_\+\+Enable\+Mdio}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\begin{DoxyCompactList}\small\item\em Enable M\+DI with P\+HY. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__gmac__defines_ga6013c7006f83c59d4895a92e3f473804}{G\+M\+A\+C\+\_\+\+Disable\+Mdio}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\begin{DoxyCompactList}\small\item\em Enable M\+DI with P\+HY. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__gmac__defines_ga1c7cb7972602f58f16fc89bcaf542107}{G\+M\+A\+C\+\_\+\+Enable\+M\+II}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\begin{DoxyCompactList}\small\item\em Enable M\+II mode for G\+M\+AC, called once after auto negotiate. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__gmac__defines_ga7fe750f0610e329ea954e40313a59697}{G\+M\+A\+C\+\_\+\+Enable\+G\+M\+II}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\begin{DoxyCompactList}\small\item\em Enable G\+M\+II mode for G\+M\+AC, called once after auto negotiate. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__gmac__defines_ga144f2054229d8431f26a425ff7fd1bef}{G\+M\+A\+C\+\_\+\+Enable\+R\+G\+M\+II}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t duplex, uint32\+\_\+t speed)
\begin{DoxyCompactList}\small\item\em Enable R\+G\+M\+II mode for G\+M\+AC, called once after auto negotiate. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__gmac__defines_gac44f47e8f63b8c48075840b81c7ca823}{G\+M\+A\+C\+\_\+\+Set\+Link\+Speed}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint8\+\_\+t speed, uint8\+\_\+t fullduplex)
\begin{DoxyCompactList}\small\item\em Setup the G\+M\+AC for the link \+: speed 100M/10M and Full/\+Half duplex. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_ga3eff24454c743d2ad0c7d2e7a2a9ca84}{G\+M\+A\+C\+\_\+\+Set\+Local\+Loop\+Back}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\begin{DoxyCompactList}\small\item\em set local loop back \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_ga3b19788339e3ea42396e5dac9ae4764f}{G\+M\+A\+C\+\_\+\+Get\+It\+Mask}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_gafba1535fac70522c3101326e020ca1d6}{G\+M\+A\+C\+\_\+\+Get\+Tx\+Status}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga620df07c4598d12a88be4e3715eafe7e}{G\+M\+A\+C\+\_\+\+Clear\+Tx\+Status}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Status)
\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_gacf2a7803b8177d1ec6837d76de5c5e7a}{G\+M\+A\+C\+\_\+\+Get\+Rx\+Status}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga409a1719b06569ad5f4efe03d21ab1dd}{G\+M\+A\+C\+\_\+\+Clear\+Rx\+Status}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Status)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga3caa9d3dc5ec1e3e32e9e017702ef51e}{G\+M\+A\+C\+\_\+\+Receive\+Enable}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint8\+\_\+t b\+Ena\+Dis)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga43e952eb0a8ec8d8131ac69b6a30842d}{G\+M\+A\+C\+\_\+\+Transmit\+Enable}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint8\+\_\+t b\+Ena\+Dis)
\item 
void \mbox{\hyperlink{group__gmac__defines_gab6728c6253143037bbc9c30befe81c19}{G\+M\+A\+C\+\_\+\+Set\+Rx\+Queue}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Addr, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_ga75a37904d053aee0b413914d73b45ff1}{G\+M\+A\+C\+\_\+\+Get\+Rx\+Queue}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga599028cc27124c0c292562833f31319c}{G\+M\+A\+C\+\_\+\+Set\+Tx\+Queue}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Addr, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_ga639d2d7bdfcd93c39d183b84a5b02a34}{G\+M\+A\+C\+\_\+\+Get\+Tx\+Queue}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga4dfdc785358f1239d80a46dc2108a15c}{G\+M\+A\+C\+\_\+\+Network\+Control}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t bm\+N\+CR)
\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_gaa57ed8dc6b5f1584d884e067cad8fb6e}{G\+M\+A\+C\+\_\+\+Get\+Network\+Control}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga7ada4663e83402d9ca6da62f166e115f}{G\+M\+A\+C\+\_\+\+Enable\+It}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Sources, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
void \mbox{\hyperlink{group__gmac__defines_gae03425042713a644dbec300e14ea4d6d}{G\+M\+A\+C\+\_\+\+Disable\+All\+Queue\+It}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Sources)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga9de1f2c0ddd04e5a49f6a568b62828b5}{G\+M\+A\+C\+\_\+\+Enable\+All\+Queue\+It}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Sources)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga6c39b23fa0f7760458941d6a5bf90669}{G\+M\+A\+C\+\_\+\+Disable\+It}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Sources, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_ga9e845a27fa9a4f30f4f53684ca5934c5}{G\+M\+A\+C\+\_\+\+Get\+It\+Status}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga52528649e180e7e7ed1b9533ec6337fd}{G\+M\+A\+C\+\_\+\+Set\+Address}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint8\+\_\+t b\+Index, uint8\+\_\+t $\ast$p\+Mac\+Addr)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga12cb5d7dcc37d8fd85ca6edd679ace73}{G\+M\+A\+C\+\_\+\+Set\+Address32}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint8\+\_\+t b\+Index, uint32\+\_\+t dw\+MacT, uint32\+\_\+t dw\+MacB)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga50bcf8daa0c205fc18df7c1bf835cb01}{G\+M\+A\+C\+\_\+\+Set\+Address64}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint8\+\_\+t b\+Index, uint64\+\_\+t ddw\+Mac)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga9ae76d6d8ceef0dafbe72bb34864bc65}{G\+M\+A\+C\+\_\+\+Clear\+Statistics}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void \mbox{\hyperlink{group__gmac__defines_gac179a7fa9d7e3dcabf9a88f996ec0a80}{G\+M\+A\+C\+\_\+\+Increase\+Statistics}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void \mbox{\hyperlink{group__gmac__defines_gaf6fe272b7c94b53548c728c9b336cc5e}{G\+M\+A\+C\+\_\+\+Statistics\+Write\+Enable}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint8\+\_\+t b\+Ena\+Dis)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga6939e2e68cc4b238caeab75414dd62b9}{G\+M\+A\+C\+\_\+\+Configure}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Cfg)
\item 
void \mbox{\hyperlink{group__gmac__defines_gab9a3c958b148a17ac3bff5cbc107b3bc}{G\+M\+A\+C\+\_\+\+Set\+D\+M\+A\+Config}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t dw\+Dma\+Cfg, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_gad60942eb57cf6c8f9b4cc3e527f58fa7}{G\+M\+A\+C\+\_\+\+Get\+D\+M\+A\+Config}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
uint32\+\_\+t \mbox{\hyperlink{group__gmac__defines_gaf6482f0f7dd92cb6e0d8805c6cd00d5b}{G\+M\+A\+C\+\_\+\+Get\+Configure}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void \mbox{\hyperlink{group__gmac__defines_ga8f5a1bfd6e130370cda5f9f15b99d4aa}{G\+M\+A\+C\+\_\+\+Transmission\+Start}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void \mbox{\hyperlink{group__gmac__defines_gaec157405c56f5074b5f49268d3148c55}{G\+M\+A\+C\+\_\+\+Transmission\+Halt}} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Clear\+Screener1\+Reg} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Write\+Screener1\+Reg} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx, uint32\+\_\+t reg\+Val)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Clear\+Screener2\+Reg} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Write\+Screener2\+Reg} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx, uint32\+\_\+t reg\+Val)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Write\+Eth\+Type\+Reg} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx, uint16\+\_\+t ether\+Type)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Write\+Compare\+Reg} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, gmac\+Que\+List\+\_\+t queue\+Idx, uint32\+\_\+t c0\+Reg, uint16\+\_\+t c1\+Reg)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Enable\+Cbs\+QueA} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Disable\+Cbs\+QueA} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Enable\+Cbs\+QueB} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Disable\+Cbs\+QueB} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Config\+Idle\+SlopeA} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t idle\+SlopeA)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Config\+Idle\+SlopeB} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t idle\+SlopeB)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Set\+Tsu\+Tmr\+Inc\+Reg} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t nano\+Sec)
\item 
uint16\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Ptp\+Evt\+Msg\+Rxd\+Msb\+Sec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Ptp\+Evt\+Msg\+Rxd\+Lsb\+Sec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Ptp\+Evt\+Msg\+Rxd\+Nano\+Sec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Set\+Tsu\+Compare} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t seconds47, uint32\+\_\+t seconds31, uint32\+\_\+t nanosec)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Set\+Tsu\+Compare\+Nano\+Sec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t nanosec)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Set\+Tsu\+Compare\+Sec31} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint32\+\_\+t seconds31)
\item 
void {\bfseries G\+M\+A\+C\+\_\+\+Set\+Tsu\+Compare\+Sec47} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac, uint16\+\_\+t seconds47)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Rx\+Evt\+Frame\+Sec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Rx\+Evt\+Frame\+Nsec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Rx\+Peer\+Evt\+Frame\+Sec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Rx\+Peer\+Evt\+Frame\+Nsec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Tx\+Evt\+Frame\+Sec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Tx\+Evt\+Frame\+Nsec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Tx\+Peer\+Evt\+Frame\+Sec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\item 
uint32\+\_\+t {\bfseries G\+M\+A\+C\+\_\+\+Get\+Tx\+Peer\+Evt\+Frame\+Nsec} (\mbox{\hyperlink{structGmac}{Gmac}} $\ast$p\+Gmac)
\end{DoxyCompactItemize}
