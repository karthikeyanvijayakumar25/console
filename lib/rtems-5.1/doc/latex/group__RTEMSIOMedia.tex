\hypertarget{group__RTEMSIOMedia}{}\section{Media Manager}
\label{group__RTEMSIOMedia}\index{Media Manager@{Media Manager}}


Removable media support.  


\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \mbox{\hyperlink{media_8h}{media.\+h}}
\begin{DoxyCompactList}\small\item\em Media Manager A\+PI. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__RTEMSIOMedia_ga0a881b139f9fb48f8ef314f355d4bf21}\label{group__RTEMSIOMedia_ga0a881b139f9fb48f8ef314f355d4bf21}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+M\+O\+U\+N\+T\+\_\+\+B\+A\+SE}~\char`\"{}/media\char`\"{}
\item 
\mbox{\Hypertarget{group__RTEMSIOMedia_ga1cd1d8703cd27203ef3a8dcf5de32ebc}\label{group__RTEMSIOMedia_ga1cd1d8703cd27203ef3a8dcf5de32ebc}} 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+D\+E\+L\+I\+M\+I\+T\+ER}~\textquotesingle{}-\/\textquotesingle{}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}}($\ast$ \mbox{\hyperlink{group__RTEMSIOMedia_ga8f3e1a300d58555b3c2921df90d2d637}{rtems\+\_\+media\+\_\+listener}}) (\mbox{\hyperlink{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}{rtems\+\_\+media\+\_\+event}} event, \mbox{\hyperlink{group__RTEMSIOMedia_gaaec542a8c74e36e4edf774f2313fcd7c}{rtems\+\_\+media\+\_\+state}} state, const char $\ast$src, const char $\ast$dest, void $\ast$listener\+\_\+arg)
\begin{DoxyCompactList}\small\item\em Event listener. \end{DoxyCompactList}\item 
typedef \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}}($\ast$ \mbox{\hyperlink{group__RTEMSIOMedia_ga4d3df16c316c9285e61bf0f735cafdd3}{rtems\+\_\+media\+\_\+worker}}) (\mbox{\hyperlink{group__RTEMSIOMedia_gaaec542a8c74e36e4edf774f2313fcd7c}{rtems\+\_\+media\+\_\+state}} state, const char $\ast$src, char $\ast$$\ast$dest, void $\ast$worker\+\_\+arg)
\begin{DoxyCompactList}\small\item\em Do the work corresponding to an event. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}{rtems\+\_\+media\+\_\+event}} \{ \newline
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+D\+I\+S\+K\+\_\+\+A\+T\+T\+A\+CH}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+D\+I\+S\+K\+\_\+\+D\+E\+T\+A\+CH}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+NT}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+U\+N\+M\+O\+U\+NT}, 
\newline
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+I\+N\+Q\+U\+I\+RY}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+A\+T\+T\+A\+CH}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+D\+E\+T\+A\+CH}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+E\+R\+R\+OR}
 \}
\item 
enum \mbox{\hyperlink{group__RTEMSIOMedia_gaaec542a8c74e36e4edf774f2313fcd7c}{rtems\+\_\+media\+\_\+state}} \{ \newline
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+Q\+U\+I\+RY}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+DY}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+R\+T\+ED}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+U\+C\+C\+E\+SS}, 
\newline
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+A\+I\+L\+ED}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+D\+I\+S\+K\+\_\+\+U\+N\+K\+N\+O\+WN}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+D\+I\+S\+K\+\_\+\+E\+X\+I\+S\+TS}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+D\+I\+S\+K\+\_\+\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+U\+N\+K\+N\+O\+WN}, 
\newline
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+D\+I\+S\+K\+\_\+\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+E\+X\+I\+S\+TS}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+U\+N\+K\+N\+O\+WN}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+O\+R\+P\+H\+AN}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+D\+E\+T\+A\+C\+H\+\_\+\+W\+I\+T\+H\+\_\+\+M\+O\+U\+NT}, 
\newline
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+W\+I\+T\+H\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+D\+I\+SK}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+M\+O\+U\+N\+T\+\_\+\+P\+O\+I\+N\+T\+\_\+\+U\+N\+K\+N\+O\+WN}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+M\+O\+U\+N\+T\+\_\+\+P\+O\+I\+N\+T\+\_\+\+E\+X\+I\+S\+TS}, 
{\bfseries R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+M\+O\+U\+N\+T\+\_\+\+P\+O\+I\+N\+T\+\_\+\+O\+R\+P\+H\+AN}
 \}
\end{DoxyCompactItemize}
\subsection*{Base}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__RTEMSScoreBaseDefs_gac216239df231d5dbd15e3520b0b9313f}{R\+T\+E\+M\+S\+\_\+\+I\+N\+L\+I\+N\+E\+\_\+\+R\+O\+U\+T\+I\+NE}} \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__RTEMSIOMedia_ga646cab27cb0119184f8831a28c02c603}{rtems\+\_\+media\+\_\+initialize}} (void)
\begin{DoxyCompactList}\small\item\em Initializes the media manager. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__RTEMSIOMedia_ga6f362dfc1a9ad18caeaca0debb68e9d9}{rtems\+\_\+media\+\_\+listener\+\_\+add}} (\mbox{\hyperlink{group__RTEMSIOMedia_ga8f3e1a300d58555b3c2921df90d2d637}{rtems\+\_\+media\+\_\+listener}} listener, void $\ast$listener\+\_\+arg)
\begin{DoxyCompactList}\small\item\em Adds the {\itshape listener} with argument {\itshape listener\+\_\+arg}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__RTEMSIOMedia_ga8c5ea853c30d199131479e21a3db745b}{rtems\+\_\+media\+\_\+listener\+\_\+remove}} (\mbox{\hyperlink{group__RTEMSIOMedia_ga8f3e1a300d58555b3c2921df90d2d637}{rtems\+\_\+media\+\_\+listener}} listener, void $\ast$listener\+\_\+arg)
\begin{DoxyCompactList}\small\item\em Removes the {\itshape listener} with argument {\itshape listener\+\_\+arg}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__RTEMSIOMedia_ga1904455ab5f9099298ff4d78fd60d3d4}{rtems\+\_\+media\+\_\+post\+\_\+event}} (\mbox{\hyperlink{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}{rtems\+\_\+media\+\_\+event}} event, const char $\ast$src, char $\ast$$\ast$dest, \mbox{\hyperlink{group__RTEMSIOMedia_ga4d3df16c316c9285e61bf0f735cafdd3}{rtems\+\_\+media\+\_\+worker}} worker, void $\ast$worker\+\_\+arg)
\begin{DoxyCompactList}\small\item\em Posts the {\itshape event} with source {\itshape src}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Server}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__RTEMSIOMedia_ga5e68a64fdea7ee2ea2de20376650afda}{rtems\+\_\+media\+\_\+server\+\_\+initialize}} (\mbox{\hyperlink{group__ClassicTasks_gaa80a0c0938307d1e99d0eb5fee765b47}{rtems\+\_\+task\+\_\+priority}} priority, size\+\_\+t stack\+\_\+size, \mbox{\hyperlink{group__ClassicModes_ga8d46a41a837840dc97336fdcd20e4f68}{rtems\+\_\+mode}} modes, \mbox{\hyperlink{group__ClassicAttributes_gaea40313cf78ed843e09c4315d0a10f79}{rtems\+\_\+attribute}} attributes)
\begin{DoxyCompactList}\small\item\em Initializes the media manager and media server. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__RTEMSIOMedia_gabe2acca9a30bcd62765c0b1c810ba89e}{rtems\+\_\+media\+\_\+server\+\_\+post\+\_\+event}} (\mbox{\hyperlink{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}{rtems\+\_\+media\+\_\+event}} event, const char $\ast$src, \mbox{\hyperlink{group__RTEMSIOMedia_ga4d3df16c316c9285e61bf0f735cafdd3}{rtems\+\_\+media\+\_\+worker}} worker, void $\ast$worker\+\_\+arg)
\begin{DoxyCompactList}\small\item\em Sends an event message to the media server. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Path Construction}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \mbox{\hyperlink{group__RTEMSIOMedia_ga2c85c46ea44481e17888733b40de22f5}{rtems\+\_\+media\+\_\+create\+\_\+path}} (const char $\ast$prefix, const char $\ast$name, rtems\+\_\+device\+\_\+major\+\_\+number major)
\begin{DoxyCompactList}\small\item\em Creates a new path as \char`\"{}prefix/name-\/major\char`\"{}. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{group__RTEMSIOMedia_ga8f3db3b675c208578fbbae1421bc7de6}{rtems\+\_\+media\+\_\+replace\+\_\+prefix}} (const char $\ast$new\+\_\+prefix, const char $\ast$path)
\begin{DoxyCompactList}\small\item\em Replaces the prefix of the {\itshape path} with {\itshape new\+\_\+prefix}. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{group__RTEMSIOMedia_gaa27ae6204e7202e9bfcb82f606ceeb43}{rtems\+\_\+media\+\_\+append\+\_\+minor}} (const char $\ast$path, rtems\+\_\+device\+\_\+minor\+\_\+number minor)
\begin{DoxyCompactList}\small\item\em Appends the {\itshape minor} number to the {\itshape path} resulting in \char`\"{}path-\/minor\char`\"{}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Support}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} \mbox{\hyperlink{group__RTEMSIOMedia_ga5eaaa6cfb5a7e811e5deadb77ca2aaa2}{rtems\+\_\+media\+\_\+get\+\_\+device\+\_\+identifier}} (const char $\ast$device\+\_\+path, dev\+\_\+t $\ast$device\+\_\+identifier)
\begin{DoxyCompactList}\small\item\em Returns the device identifier for the device located at {\itshape device\+\_\+path} in {\itshape device\+\_\+identifier}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{group__RTEMSIOMedia_ga262bae9484c4c06fa89a090d44f922c4}\label{group__RTEMSIOMedia_ga262bae9484c4c06fa89a090d44f922c4}} 
const char $\ast$ {\bfseries rtems\+\_\+media\+\_\+event\+\_\+description} (\mbox{\hyperlink{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}{rtems\+\_\+media\+\_\+event}} event)
\item 
\mbox{\Hypertarget{group__RTEMSIOMedia_gaadf7f66cb817fb0f71a4d879e7aed1ae}\label{group__RTEMSIOMedia_gaadf7f66cb817fb0f71a4d879e7aed1ae}} 
const char $\ast$ {\bfseries rtems\+\_\+media\+\_\+state\+\_\+description} (\mbox{\hyperlink{group__RTEMSIOMedia_gaaec542a8c74e36e4edf774f2313fcd7c}{rtems\+\_\+media\+\_\+state}} state)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Removable media support. 

The media manager may be used to maintain the life cycle of a removable media. Currently only disk devices are supported. The initiator posts an event to the media manager and it will respond with appropriate default actions. For example a disk attach will lead to inspection of the partition table and mounted file systems. Clients can register listeners to react to events. 

\subsection{Typedef Documentation}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga8f3e1a300d58555b3c2921df90d2d637}\label{group__RTEMSIOMedia_ga8f3e1a300d58555b3c2921df90d2d637}} 
\index{Media Manager@{Media Manager}!rtems\_media\_listener@{rtems\_media\_listener}}
\index{rtems\_media\_listener@{rtems\_media\_listener}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_listener}{rtems\_media\_listener}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}}($\ast$ rtems\+\_\+media\+\_\+listener) (\mbox{\hyperlink{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}{rtems\+\_\+media\+\_\+event}} event, \mbox{\hyperlink{group__RTEMSIOMedia_gaaec542a8c74e36e4edf774f2313fcd7c}{rtems\+\_\+media\+\_\+state}} state, const char $\ast$src, const char $\ast$dest, void $\ast$listener\+\_\+arg)}



Event listener. 

The listener will be called with the {\itshape listener\+\_\+arg} passed to \mbox{\hyperlink{group__RTEMSIOMedia_ga6f362dfc1a9ad18caeaca0debb68e9d9}{rtems\+\_\+media\+\_\+listener\+\_\+add()}}.

Source and destination values for each event and state\+: \tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Event}&\cellcolor{\tableheadbgcolor}\textbf{ State}&\cellcolor{\tableheadbgcolor}\textbf{ Source}&\cellcolor{\tableheadbgcolor}\textbf{ Destination }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Event}&\cellcolor{\tableheadbgcolor}\textbf{ State}&\cellcolor{\tableheadbgcolor}\textbf{ Source}&\cellcolor{\tableheadbgcolor}\textbf{ Destination }\\\cline{1-4}
\endhead
\multirow{5}{*}{R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+D\+I\+S\+K\+\_\+\+A\+T\+T\+A\+CH }&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+Q\+U\+I\+RY&driver name&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+DY&driver name&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+R\+T\+ED&driver name&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+U\+C\+C\+E\+SS&driver name&disk path  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+A\+I\+L\+ED&driver name&N\+U\+LL  \\\cline{1-4}
\multirow{5}{*}{R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+D\+I\+S\+K\+\_\+\+D\+E\+T\+A\+CH }&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+Q\+U\+I\+RY&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+DY&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+R\+T\+ED&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+U\+C\+C\+E\+SS&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+A\+I\+L\+ED&disk path&N\+U\+LL  \\\cline{1-4}
\multirow{5}{*}{R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+I\+N\+Q\+U\+I\+RY }&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+Q\+U\+I\+RY&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+DY&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+R\+T\+ED&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+U\+C\+C\+E\+SS&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+A\+I\+L\+ED&disk path&N\+U\+LL  \\\cline{1-4}
\multirow{5}{*}{R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+A\+T\+T\+A\+CH }&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+Q\+U\+I\+RY&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+DY&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+R\+T\+ED&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+U\+C\+C\+E\+SS &disk path&partition path  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+A\+I\+L\+ED&disk path&N\+U\+LL  \\\cline{1-4}
\multirow{5}{*}{R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+D\+E\+T\+A\+CH }&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+Q\+U\+I\+RY&partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+DY&partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+R\+T\+ED&partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+U\+C\+C\+E\+SS&partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+A\+I\+L\+ED&partition path&N\+U\+LL  \\\cline{1-4}
\multirow{5}{*}{R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+NT }&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+Q\+U\+I\+RY &disk or partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+DY &disk or partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+R\+T\+ED &disk or partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+U\+C\+C\+E\+SS &disk or partition path&mount path  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+A\+I\+L\+ED &disk or partition path&N\+U\+LL  \\\cline{1-4}
\multirow{5}{*}{R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+U\+N\+M\+O\+U\+NT }&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+I\+N\+Q\+U\+I\+RY&mount path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+DY&mount path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+R\+T\+ED&mount path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+S\+U\+C\+C\+E\+SS&mount path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+A\+I\+L\+ED&mount path&N\+U\+LL  \\\cline{1-4}
\multirow{11}{*}{R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+V\+E\+N\+T\+\_\+\+E\+R\+R\+OR }&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+D\+I\+S\+K\+\_\+\+U\+N\+K\+N\+O\+WN&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+D\+I\+S\+K\+\_\+\+E\+X\+I\+S\+TS&disk path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+D\+I\+S\+K\+\_\+\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+U\+N\+K\+N\+O\+WN &disk or partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+D\+I\+S\+K\+\_\+\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+E\+X\+I\+S\+TS &disk or partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+U\+N\+K\+N\+O\+WN &partition path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+O\+R\+P\+H\+AN &partition path&disk path  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+D\+E\+T\+A\+C\+H\+\_\+\+W\+I\+T\+H\+\_\+\+M\+O\+U\+NT &partition path&mount path  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+P\+A\+R\+T\+I\+T\+I\+O\+N\+\_\+\+W\+I\+T\+H\+\_\+\+U\+N\+K\+N\+O\+W\+N\+\_\+\+D\+I\+SK &partition path&disk path  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+M\+O\+U\+N\+T\+\_\+\+P\+O\+I\+N\+T\+\_\+\+U\+N\+K\+N\+O\+WN &mount path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+M\+O\+U\+N\+T\+\_\+\+P\+O\+I\+N\+T\+\_\+\+E\+X\+I\+S\+TS &mount path&N\+U\+LL  \\\cline{2-4}
&R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+E\+R\+R\+O\+R\+\_\+\+M\+O\+U\+N\+T\+\_\+\+P\+O\+I\+N\+T\+\_\+\+O\+R\+P\+H\+AN &mount path&disk path  \\\cline{1-4}
\end{longtabu}



\begin{DoxyRetVals}{Return values}
{\em R\+T\+E\+M\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S\+F\+UL} & Successful operation. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+I\+O\+\_\+\+E\+R\+R\+OR} & In the inquiry state this will abort the action. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga4d3df16c316c9285e61bf0f735cafdd3}\label{group__RTEMSIOMedia_ga4d3df16c316c9285e61bf0f735cafdd3}} 
\index{Media Manager@{Media Manager}!rtems\_media\_worker@{rtems\_media\_worker}}
\index{rtems\_media\_worker@{rtems\_media\_worker}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_worker}{rtems\_media\_worker}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}}($\ast$ rtems\+\_\+media\+\_\+worker) (\mbox{\hyperlink{group__RTEMSIOMedia_gaaec542a8c74e36e4edf774f2313fcd7c}{rtems\+\_\+media\+\_\+state}} state, const char $\ast$src, char $\ast$$\ast$dest, void $\ast$worker\+\_\+arg)}



Do the work corresponding to an event. 

The {\itshape state} will be
\begin{DoxyItemize}
\item R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+R\+E\+A\+DY, or
\item R\+T\+E\+M\+S\+\_\+\+M\+E\+D\+I\+A\+\_\+\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+R\+T\+ED.
\end{DoxyItemize}

It will be called with the {\itshape src} and {\itshape worker\+\_\+arg} arguments passed to \mbox{\hyperlink{group__RTEMSIOMedia_ga1904455ab5f9099298ff4d78fd60d3d4}{rtems\+\_\+media\+\_\+post\+\_\+event()}}.

The destination shall be returned in {\itshape dest} in case of success. It shall be allocated with malloc().


\begin{DoxyRetVals}{Return values}
{\em R\+T\+E\+M\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S\+F\+UL} & Successful operation. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+I\+O\+\_\+\+E\+R\+R\+OR} & Failure. \\
\hline
\end{DoxyRetVals}


\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}\label{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}} 
\index{Media Manager@{Media Manager}!rtems\_media\_event@{rtems\_media\_event}}
\index{rtems\_media\_event@{rtems\_media\_event}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_event}{rtems\_media\_event}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}{rtems\+\_\+media\+\_\+event}}}

Disk life cycle events\+: 
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{dot_inline_dotgraph_2}}
\end{DoxyImageNoCaption}
 \mbox{\Hypertarget{group__RTEMSIOMedia_gaaec542a8c74e36e4edf774f2313fcd7c}\label{group__RTEMSIOMedia_gaaec542a8c74e36e4edf774f2313fcd7c}} 
\index{Media Manager@{Media Manager}!rtems\_media\_state@{rtems\_media\_state}}
\index{rtems\_media\_state@{rtems\_media\_state}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_state}{rtems\_media\_state}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{group__RTEMSIOMedia_gaaec542a8c74e36e4edf774f2313fcd7c}{rtems\+\_\+media\+\_\+state}}}

Normal state transition\+: 
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth,height=\textheight/2,keepaspectratio=true]{dot_inline_dotgraph_3}}
\end{DoxyImageNoCaption}
 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__RTEMSIOMedia_gaa27ae6204e7202e9bfcb82f606ceeb43}\label{group__RTEMSIOMedia_gaa27ae6204e7202e9bfcb82f606ceeb43}} 
\index{Media Manager@{Media Manager}!rtems\_media\_append\_minor@{rtems\_media\_append\_minor}}
\index{rtems\_media\_append\_minor@{rtems\_media\_append\_minor}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_append\_minor()}{rtems\_media\_append\_minor()}}
{\footnotesize\ttfamily char$\ast$ rtems\+\_\+media\+\_\+append\+\_\+minor (\begin{DoxyParamCaption}\item[{const char $\ast$}]{path,  }\item[{rtems\+\_\+device\+\_\+minor\+\_\+number}]{minor }\end{DoxyParamCaption})}



Appends the {\itshape minor} number to the {\itshape path} resulting in \char`\"{}path-\/minor\char`\"{}. 

\begin{DoxyReturn}{Returns}
New string, or {\ttfamily N\+U\+LL} if no memory is available. 
\end{DoxyReturn}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga2c85c46ea44481e17888733b40de22f5}\label{group__RTEMSIOMedia_ga2c85c46ea44481e17888733b40de22f5}} 
\index{Media Manager@{Media Manager}!rtems\_media\_create\_path@{rtems\_media\_create\_path}}
\index{rtems\_media\_create\_path@{rtems\_media\_create\_path}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_create\_path()}{rtems\_media\_create\_path()}}
{\footnotesize\ttfamily char$\ast$ rtems\+\_\+media\+\_\+create\+\_\+path (\begin{DoxyParamCaption}\item[{const char $\ast$}]{prefix,  }\item[{const char $\ast$}]{name,  }\item[{rtems\+\_\+device\+\_\+major\+\_\+number}]{major }\end{DoxyParamCaption})}



Creates a new path as \char`\"{}prefix/name-\/major\char`\"{}. 

\begin{DoxyReturn}{Returns}
New string, or {\ttfamily N\+U\+LL} if no memory is available. 
\end{DoxyReturn}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga5eaaa6cfb5a7e811e5deadb77ca2aaa2}\label{group__RTEMSIOMedia_ga5eaaa6cfb5a7e811e5deadb77ca2aaa2}} 
\index{Media Manager@{Media Manager}!rtems\_media\_get\_device\_identifier@{rtems\_media\_get\_device\_identifier}}
\index{rtems\_media\_get\_device\_identifier@{rtems\_media\_get\_device\_identifier}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_get\_device\_identifier()}{rtems\_media\_get\_device\_identifier()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} rtems\+\_\+media\+\_\+get\+\_\+device\+\_\+identifier (\begin{DoxyParamCaption}\item[{const char $\ast$}]{device\+\_\+path,  }\item[{dev\+\_\+t $\ast$}]{device\+\_\+identifier }\end{DoxyParamCaption})}



Returns the device identifier for the device located at {\itshape device\+\_\+path} in {\itshape device\+\_\+identifier}. 


\begin{DoxyRetVals}{Return values}
{\em R\+T\+E\+M\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S\+F\+UL} & Successful operation. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+ID} & No device at this path. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga646cab27cb0119184f8831a28c02c603}\label{group__RTEMSIOMedia_ga646cab27cb0119184f8831a28c02c603}} 
\index{Media Manager@{Media Manager}!rtems\_media\_initialize@{rtems\_media\_initialize}}
\index{rtems\_media\_initialize@{rtems\_media\_initialize}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_initialize()}{rtems\_media\_initialize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__RTEMSScoreBaseDefs_gac216239df231d5dbd15e3520b0b9313f}{R\+T\+E\+M\+S\+\_\+\+I\+N\+L\+I\+N\+E\+\_\+\+R\+O\+U\+T\+I\+NE}} \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} rtems\+\_\+media\+\_\+initialize (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes the media manager. 

Calling this function more than once will have no effects. There is no protection against concurrent access.


\begin{DoxyRetVals}{Return values}
{\em R\+T\+E\+M\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S\+F\+UL} & Successful operation. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY} & Not enough resources. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga6f362dfc1a9ad18caeaca0debb68e9d9}\label{group__RTEMSIOMedia_ga6f362dfc1a9ad18caeaca0debb68e9d9}} 
\index{Media Manager@{Media Manager}!rtems\_media\_listener\_add@{rtems\_media\_listener\_add}}
\index{rtems\_media\_listener\_add@{rtems\_media\_listener\_add}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_listener\_add()}{rtems\_media\_listener\_add()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} rtems\+\_\+media\+\_\+listener\+\_\+add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__RTEMSIOMedia_ga8f3e1a300d58555b3c2921df90d2d637}{rtems\+\_\+media\+\_\+listener}}}]{listener,  }\item[{void $\ast$}]{listener\+\_\+arg }\end{DoxyParamCaption})}



Adds the {\itshape listener} with argument {\itshape listener\+\_\+arg}. 


\begin{DoxyRetVals}{Return values}
{\em R\+T\+E\+M\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S\+F\+UL} & Successful operation. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY} & Not enough memory. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+T\+O\+O\+\_\+\+M\+A\+NY} & Such a listener is already present. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga8c5ea853c30d199131479e21a3db745b}\label{group__RTEMSIOMedia_ga8c5ea853c30d199131479e21a3db745b}} 
\index{Media Manager@{Media Manager}!rtems\_media\_listener\_remove@{rtems\_media\_listener\_remove}}
\index{rtems\_media\_listener\_remove@{rtems\_media\_listener\_remove}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_listener\_remove()}{rtems\_media\_listener\_remove()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} rtems\+\_\+media\+\_\+listener\+\_\+remove (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__RTEMSIOMedia_ga8f3e1a300d58555b3c2921df90d2d637}{rtems\+\_\+media\+\_\+listener}}}]{listener,  }\item[{void $\ast$}]{listener\+\_\+arg }\end{DoxyParamCaption})}



Removes the {\itshape listener} with argument {\itshape listener\+\_\+arg}. 


\begin{DoxyRetVals}{Return values}
{\em R\+T\+E\+M\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S\+F\+UL} & Successful operation. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+ID} & No such listener is present. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga1904455ab5f9099298ff4d78fd60d3d4}\label{group__RTEMSIOMedia_ga1904455ab5f9099298ff4d78fd60d3d4}} 
\index{Media Manager@{Media Manager}!rtems\_media\_post\_event@{rtems\_media\_post\_event}}
\index{rtems\_media\_post\_event@{rtems\_media\_post\_event}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_post\_event()}{rtems\_media\_post\_event()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} rtems\+\_\+media\+\_\+post\+\_\+event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}{rtems\+\_\+media\+\_\+event}}}]{event,  }\item[{const char $\ast$}]{src,  }\item[{char $\ast$$\ast$}]{dest,  }\item[{\mbox{\hyperlink{group__RTEMSIOMedia_ga4d3df16c316c9285e61bf0f735cafdd3}{rtems\+\_\+media\+\_\+worker}}}]{worker,  }\item[{void $\ast$}]{worker\+\_\+arg }\end{DoxyParamCaption})}



Posts the {\itshape event} with source {\itshape src}. 

The {\itshape worker} will be called with the {\itshape worker\+\_\+arg} argument.

The destination will be returned in {\itshape dest} in case of success. It will be allocated with malloc() and should be freed if not needed anymore.

The work will be done by the calling thread. You can avoid this if you use the media server via \mbox{\hyperlink{group__RTEMSIOMedia_gabe2acca9a30bcd62765c0b1c810ba89e}{rtems\+\_\+media\+\_\+server\+\_\+post\+\_\+event()}}.


\begin{DoxyRetVals}{Return values}
{\em R\+T\+E\+M\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S\+F\+UL} & Successful operation. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+U\+N\+S\+A\+T\+I\+S\+F\+I\+ED} & One or more listeners aborted the action. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+I\+O\+\_\+\+E\+R\+R\+OR} & The worker returned with an error status. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga8f3db3b675c208578fbbae1421bc7de6}\label{group__RTEMSIOMedia_ga8f3db3b675c208578fbbae1421bc7de6}} 
\index{Media Manager@{Media Manager}!rtems\_media\_replace\_prefix@{rtems\_media\_replace\_prefix}}
\index{rtems\_media\_replace\_prefix@{rtems\_media\_replace\_prefix}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_replace\_prefix()}{rtems\_media\_replace\_prefix()}}
{\footnotesize\ttfamily char$\ast$ rtems\+\_\+media\+\_\+replace\+\_\+prefix (\begin{DoxyParamCaption}\item[{const char $\ast$}]{new\+\_\+prefix,  }\item[{const char $\ast$}]{path }\end{DoxyParamCaption})}



Replaces the prefix of the {\itshape path} with {\itshape new\+\_\+prefix}. 

The prefix is everything up to the last \textquotesingle{}/\textquotesingle{}.

\begin{DoxyReturn}{Returns}
New string, or {\ttfamily N\+U\+LL} if no memory is available. 
\end{DoxyReturn}
\mbox{\Hypertarget{group__RTEMSIOMedia_ga5e68a64fdea7ee2ea2de20376650afda}\label{group__RTEMSIOMedia_ga5e68a64fdea7ee2ea2de20376650afda}} 
\index{Media Manager@{Media Manager}!rtems\_media\_server\_initialize@{rtems\_media\_server\_initialize}}
\index{rtems\_media\_server\_initialize@{rtems\_media\_server\_initialize}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_server\_initialize()}{rtems\_media\_server\_initialize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} rtems\+\_\+media\+\_\+server\+\_\+initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__ClassicTasks_gaa80a0c0938307d1e99d0eb5fee765b47}{rtems\+\_\+task\+\_\+priority}}}]{priority,  }\item[{size\+\_\+t}]{stack\+\_\+size,  }\item[{\mbox{\hyperlink{group__ClassicModes_ga8d46a41a837840dc97336fdcd20e4f68}{rtems\+\_\+mode}}}]{modes,  }\item[{\mbox{\hyperlink{group__ClassicAttributes_gaea40313cf78ed843e09c4315d0a10f79}{rtems\+\_\+attribute}}}]{attributes }\end{DoxyParamCaption})}



Initializes the media manager and media server. 

It creates a server task with the {\itshape priority}, {\itshape stack\+\_\+size}, {\itshape modes}, and {\itshape attributes} parameters.

Calling this function more than once will have no effects. There is no protection against concurrent access.


\begin{DoxyRetVals}{Return values}
{\em R\+T\+E\+M\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S\+F\+UL} & Successful operation. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY} & Not enough resources. \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{group__RTEMSIOMedia_gabe2acca9a30bcd62765c0b1c810ba89e}\label{group__RTEMSIOMedia_gabe2acca9a30bcd62765c0b1c810ba89e}} 
\index{Media Manager@{Media Manager}!rtems\_media\_server\_post\_event@{rtems\_media\_server\_post\_event}}
\index{rtems\_media\_server\_post\_event@{rtems\_media\_server\_post\_event}!Media Manager@{Media Manager}}
\subsubsection{\texorpdfstring{rtems\_media\_server\_post\_event()}{rtems\_media\_server\_post\_event()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} rtems\+\_\+media\+\_\+server\+\_\+post\+\_\+event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__RTEMSIOMedia_gadd58c5799ee997413d4d6be2ac05197b}{rtems\+\_\+media\+\_\+event}}}]{event,  }\item[{const char $\ast$}]{src,  }\item[{\mbox{\hyperlink{group__RTEMSIOMedia_ga4d3df16c316c9285e61bf0f735cafdd3}{rtems\+\_\+media\+\_\+worker}}}]{worker,  }\item[{void $\ast$}]{worker\+\_\+arg }\end{DoxyParamCaption})}



Sends an event message to the media server. 

\begin{DoxySeeAlso}{See also}
See \mbox{\hyperlink{group__RTEMSIOMedia_ga1904455ab5f9099298ff4d78fd60d3d4}{rtems\+\_\+media\+\_\+post\+\_\+event()}}.
\end{DoxySeeAlso}

\begin{DoxyRetVals}{Return values}
{\em R\+T\+E\+M\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S\+F\+UL} & Successful operation. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+N\+O\+\_\+\+M\+E\+M\+O\+RY} & Not enough resources to notify the media server. \\
\hline
{\em R\+T\+E\+M\+S\+\_\+\+N\+O\+T\+\_\+\+C\+O\+N\+F\+I\+G\+U\+R\+ED} & Media server is not initialized. \\
\hline
\end{DoxyRetVals}
