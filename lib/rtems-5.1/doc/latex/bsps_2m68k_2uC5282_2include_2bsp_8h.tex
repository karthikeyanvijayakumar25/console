\hypertarget{bsps_2m68k_2uC5282_2include_2bsp_8h}{}\section{bsps/m68k/u\+C5282/include/bsp.h File Reference}
\label{bsps_2m68k_2uC5282_2include_2bsp_8h}\index{bsps/m68k/uC5282/include/bsp.h@{bsps/m68k/uC5282/include/bsp.h}}


Global B\+SP definitions.  


{\ttfamily \#include $<$bspopts.\+h$>$}\newline
{\ttfamily \#include $<$bsp/default-\/initial-\/extension.\+h$>$}\newline
{\ttfamily \#include $<$rtems.\+h$>$}\newline
{\ttfamily \#include $<$rtems/bsp\+Io.\+h$>$}\newline
{\ttfamily \#include $<$mcf5282/mcf5282.\+h$>$}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structbsp__mnode__t}{bsp\+\_\+mnode\+\_\+t}}
\item 
struct \mbox{\hyperlink{structmcf5282BufferDescriptor__}{mcf5282\+Buffer\+Descriptor\+\_\+}}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__RTEMSBSPsM68kUC5282_ga8929b963b687e75af2467c8551c91cb0}{R\+T\+E\+M\+S\+\_\+\+M\+C\+F5282\+\_\+\+B\+S\+P\+\_\+\+E\+N\+A\+B\+L\+E\+\_\+\+D\+A\+T\+A\+\_\+\+C\+A\+C\+HE}}
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+N\+A\+ME}~\char`\"{}fs1\char`\"{}
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+N\+E\+T\+W\+O\+R\+K\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+A\+T\+T\+A\+CH}~rtems\+\_\+fec\+\_\+driver\+\_\+attach
\item 
\#define \mbox{\hyperlink{group__RTEMSBSPsM68kUC5282_ga0859abd84f64f7f09ad95a4079b06f41}{C\+O\+N\+S\+O\+L\+E\+\_\+\+P\+O\+RT}}~0
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+P\+G\+M\+\_\+\+E\+R\+A\+S\+E\+\_\+\+F\+I\+R\+ST}~0x1
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+P\+G\+M\+\_\+\+R\+E\+S\+E\+T\+\_\+\+A\+F\+T\+ER}~0x2
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+P\+G\+M\+\_\+\+E\+X\+E\+C\+\_\+\+A\+F\+T\+ER}~0x4
\item 
\#define {\bfseries R\+T\+E\+M\+S\+\_\+\+B\+S\+P\+\_\+\+P\+G\+M\+\_\+\+H\+A\+L\+T\+\_\+\+A\+F\+T\+ER}~0x8
\item 
\#define {\bfseries F\+E\+C\+\_\+\+I\+R\+Q\+\_\+\+L\+E\+V\+EL}~4
\item 
\#define {\bfseries F\+E\+C\+\_\+\+I\+R\+Q\+\_\+\+R\+X\+\_\+\+P\+R\+I\+O\+R\+I\+TY}~7
\item 
\#define {\bfseries F\+E\+C\+\_\+\+I\+R\+Q\+\_\+\+T\+X\+\_\+\+P\+R\+I\+O\+R\+I\+TY}~6
\item 
\#define {\bfseries P\+I\+T3\+\_\+\+I\+R\+Q\+\_\+\+L\+E\+V\+EL}~4
\item 
\#define {\bfseries P\+I\+T3\+\_\+\+I\+R\+Q\+\_\+\+P\+R\+I\+O\+R\+I\+TY}~0
\item 
\#define {\bfseries U\+A\+R\+T0\+\_\+\+I\+R\+Q\+\_\+\+L\+E\+V\+EL}~3
\item 
\#define {\bfseries U\+A\+R\+T0\+\_\+\+I\+R\+Q\+\_\+\+P\+R\+I\+O\+R\+I\+TY}~7
\item 
\#define {\bfseries U\+A\+R\+T1\+\_\+\+I\+R\+Q\+\_\+\+L\+E\+V\+EL}~3
\item 
\#define {\bfseries U\+A\+R\+T1\+\_\+\+I\+R\+Q\+\_\+\+P\+R\+I\+O\+R\+I\+TY}~6
\item 
\#define {\bfseries U\+A\+R\+T2\+\_\+\+I\+R\+Q\+\_\+\+L\+E\+V\+EL}~3
\item 
\#define {\bfseries U\+A\+R\+T2\+\_\+\+I\+R\+Q\+\_\+\+P\+R\+I\+O\+R\+I\+TY}~5
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+S\+T\+D\+\_\+\+S\+U\+P\+\_\+\+A\+S\+C\+E\+N\+D\+I\+NG}~0x3f
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+S\+T\+D\+\_\+\+S\+U\+P\+\_\+\+P\+GM}~0x3e
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+S\+T\+D\+\_\+\+U\+S\+R\+\_\+\+A\+S\+C\+E\+N\+D\+I\+NG}~0x3b
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+S\+T\+D\+\_\+\+U\+S\+R\+\_\+\+P\+GM}~0x3a
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+S\+T\+D\+\_\+\+S\+U\+P\+\_\+\+D\+A\+TA}~0x3d
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+S\+T\+D\+\_\+\+U\+S\+R\+\_\+\+D\+A\+TA}~0x39
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+E\+X\+T\+\_\+\+S\+U\+P\+\_\+\+A\+S\+C\+E\+N\+D\+I\+NG}~0x0f
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+E\+X\+T\+\_\+\+S\+U\+P\+\_\+\+P\+GM}~0x0e
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+E\+X\+T\+\_\+\+U\+S\+R\+\_\+\+A\+S\+C\+E\+N\+D\+I\+NG}~0x0b
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+E\+X\+T\+\_\+\+U\+S\+R\+\_\+\+P\+GM}~0x0a
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+E\+X\+T\+\_\+\+S\+U\+P\+\_\+\+D\+A\+TA}~0x0d
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+E\+X\+T\+\_\+\+U\+S\+R\+\_\+\+D\+A\+TA}~0x09
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+S\+U\+P\+\_\+\+S\+H\+O\+R\+T\+\_\+\+IO}~0x2d
\item 
\#define {\bfseries V\+M\+E\+\_\+\+A\+M\+\_\+\+U\+S\+R\+\_\+\+S\+H\+O\+R\+T\+\_\+\+IO}~0x29
\item 
\#define {\bfseries B\+S\+P\+\_\+\+I\+D\+L\+E\+\_\+\+T\+A\+S\+K\+\_\+\+B\+O\+DY}~\mbox{\hyperlink{group__RTEMSBSPsSPARCLEON3_ga301be7085b80c41a9c5887247003c662}{bsp\+\_\+idle\+\_\+thread}}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ {\bfseries B\+S\+P\+\_\+\+V\+M\+E\+\_\+\+I\+S\+R\+\_\+t}) (void $\ast$usr\+Arg, unsigned long vector)
\item 
typedef struct \mbox{\hyperlink{structmcf5282BufferDescriptor__}{mcf5282\+Buffer\+Descriptor\+\_\+}} {\bfseries mcf5282\+Buffer\+Descriptor\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int {\bfseries rtems\+\_\+fec\+\_\+driver\+\_\+attach} (struct rtems\+\_\+bsdnet\+\_\+ifconfig $\ast$\mbox{\hyperlink{structconfig__s}{config}}, int attaching)
\item 
uint32\+\_\+t {\bfseries bsp\+\_\+get\+\_\+\+C\+P\+U\+\_\+clock\+\_\+speed} (void)
\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} {\bfseries bsp\+\_\+allocate\+\_\+interrupt} (int level, int priority)
\item 
int {\bfseries bsp\+\_\+sys\+Reset} (int flags)
\item 
int {\bfseries bsp\+\_\+program} (\mbox{\hyperlink{structbsp__mnode__t}{bsp\+\_\+mnode\+\_\+t}} $\ast$chain, int flags)
\item 
unsigned const char $\ast$ {\bfseries bsp\+\_\+gethwaddr} (int a)
\item 
const char $\ast$ {\bfseries bsp\+\_\+getbenv} (const char $\ast$a)
\item 
int {\bfseries bsp\+\_\+flash\+\_\+erase\+\_\+range} (volatile unsigned short $\ast$flashptr, int start, int end)
\item 
int {\bfseries bsp\+\_\+flash\+\_\+write\+\_\+range} (volatile unsigned short $\ast$flashptr, \mbox{\hyperlink{structbsp__mnode__t}{bsp\+\_\+mnode\+\_\+t}} $\ast$chain, int offset)
\item 
rtems\+\_\+isr\+\_\+entry \mbox{\hyperlink{group__RTEMSBSPsM68kUC5282_gab3388042c56b34c40be81fd5f028d97e}{set\+\_\+vector}} (rtems\+\_\+isr\+\_\+entry handler, \mbox{\hyperlink{group__ClassicINTR_ga3e434c197d99f128e78cae4d9358bd8b}{rtems\+\_\+vector\+\_\+number}} vector, int type)
\begin{DoxyCompactList}\small\item\em Install an interrupt handler. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group__ClassicStatus_ga545d41846817eaba6143d52ee4d9e9fe}{rtems\+\_\+status\+\_\+code}} {\bfseries bsp\+Ext\+Init} (void)
\item 
B\+S\+P\+\_\+\+V\+M\+E\+\_\+\+I\+S\+R\+\_\+t {\bfseries B\+S\+P\+\_\+get\+V\+M\+E\+\_\+isr} (unsigned long vector, void $\ast$$\ast$parg)
\item 
int {\bfseries B\+S\+P\+\_\+install\+V\+M\+E\+\_\+isr} (unsigned long vector, B\+S\+P\+\_\+\+V\+M\+E\+\_\+\+I\+S\+R\+\_\+t handler, void $\ast$usr\+Arg)
\item 
int {\bfseries B\+S\+P\+\_\+remove\+V\+M\+E\+\_\+isr} (unsigned long vector, B\+S\+P\+\_\+\+V\+M\+E\+\_\+\+I\+S\+R\+\_\+t handler, void $\ast$usr\+Arg)
\item 
int {\bfseries B\+S\+P\+\_\+enable\+V\+M\+E\+\_\+int\+\_\+lvl} (unsigned int level)
\item 
int {\bfseries B\+S\+P\+\_\+disable\+V\+M\+E\+\_\+int\+\_\+lvl} (unsigned int level)
\item 
int {\bfseries B\+S\+P\+\_\+vme2local\+\_\+adrs} (unsigned am, unsigned long vmeaddr, unsigned long $\ast$plocaladdr)
\item 
void $\ast$ \mbox{\hyperlink{group__RTEMSBSPsM68kUC5282_ga301be7085b80c41a9c5887247003c662}{bsp\+\_\+idle\+\_\+thread}} (uintptr\+\_\+t ignored)
\begin{DoxyCompactList}\small\item\em Optimized idle task. \end{DoxyCompactList}\item 
int {\bfseries bsp\+\_\+cpu\+\_\+load\+\_\+percentage} (void)
\item 
void {\bfseries bsp\+\_\+reset\+\_\+cause} (char $\ast$buf, size\+\_\+t capacity)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>uint32\_t {\bfseries idle\_counter}\\
\>uint32\_t {\bfseries filtered\_idle}\\
\>uint32\_t {\bfseries max\_idle\_count}\\
\>uint32\_t {\bfseries pitc\_per\_tick}\\
\>uint32\_t {\bfseries nsec\_per\_pitc}\\
\>uint32\_t {\bfseries pad} \mbox{[}3\mbox{]}\\
\>\mbox{\hyperlink{structmcf5282BufferDescriptor__}{mcf5282BufferDescriptor\_t}} {\bfseries fec\_descriptors} \mbox{[}$\,$\mbox{]}\\
\} {\bfseries \_\_SRAMBASE}\\

\end{tabbing}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Global B\+SP definitions. 

