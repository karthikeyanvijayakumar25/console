\hypertarget{sh_2gensh1_2btimer_2btimer_8c}{}\section{bsps/sh/gensh1/btimer/btimer.c File Reference}
\label{sh_2gensh1_2btimer_2btimer_8c}\index{bsps/sh/gensh1/btimer/btimer.c@{bsps/sh/gensh1/btimer/btimer.c}}


Timer for the Hitachi SH 703X.  


{\ttfamily \#include $<$rtems.\+h$>$}\newline
{\ttfamily \#include $<$rtems/btimer.\+h$>$}\newline
{\ttfamily \#include $<$rtems/score/sh\+\_\+io.\+h$>$}\newline
{\ttfamily \#include $<$rtems/score/ispsh7032.\+h$>$}\newline
{\ttfamily \#include $<$rtems/score/iosh7032.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_a10254ffb18f0923618141ff042302554}\label{sh_2gensh1_2btimer_2btimer_8c_a10254ffb18f0923618141ff042302554}} 
\#define {\bfseries I\+\_\+\+C\+L\+K\+\_\+\+P\+H\+I\+\_\+1}~0
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_a758dd798fd0879e495d5ccf6a4abf022}\label{sh_2gensh1_2btimer_2btimer_8c_a758dd798fd0879e495d5ccf6a4abf022}} 
\#define {\bfseries I\+\_\+\+C\+L\+K\+\_\+\+P\+H\+I\+\_\+2}~1
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_a5c4c3491b52f164662ee778d31b1cf8d}\label{sh_2gensh1_2btimer_2btimer_8c_a5c4c3491b52f164662ee778d31b1cf8d}} 
\#define {\bfseries I\+\_\+\+C\+L\+K\+\_\+\+P\+H\+I\+\_\+4}~2
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_af02bfceb966392e38f8a640fb821823a}\label{sh_2gensh1_2btimer_2btimer_8c_af02bfceb966392e38f8a640fb821823a}} 
\#define {\bfseries I\+\_\+\+C\+L\+K\+\_\+\+P\+H\+I\+\_\+8}~3
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_a684360abe2a3862e6f09eee58fe15b80}\label{sh_2gensh1_2btimer_2btimer_8c_a684360abe2a3862e6f09eee58fe15b80}} 
\#define {\bfseries I\+\_\+\+C\+L\+K\+\_\+\+P\+HI}~I\+\_\+\+C\+L\+K\+\_\+\+P\+H\+I\+\_\+4
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_ac0de06d3f8db8bc9dae6e89db0a33107}\label{sh_2gensh1_2btimer_2btimer_8c_ac0de06d3f8db8bc9dae6e89db0a33107}} 
\#define {\bfseries C\+L\+O\+C\+K\+\_\+\+S\+C\+A\+LE}~(1$<$$<$I\+\_\+\+C\+L\+K\+\_\+\+P\+HI)
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_a0f2b228bc2cf9a18584b8ca83dd347c2}\label{sh_2gensh1_2btimer_2btimer_8c_a0f2b228bc2cf9a18584b8ca83dd347c2}} 
\#define {\bfseries I\+T\+U1\+\_\+\+S\+T\+A\+R\+T\+M\+A\+SK}~0xfd
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_ae7d53273ef3e5f8f7ffb632c839bfde6}\label{sh_2gensh1_2btimer_2btimer_8c_ae7d53273ef3e5f8f7ffb632c839bfde6}} 
\#define {\bfseries I\+T\+U1\+\_\+\+S\+Y\+N\+C\+M\+A\+SK}~0xfd
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_af652e84a22d7e03618ad02825cc9c9f3}\label{sh_2gensh1_2btimer_2btimer_8c_af652e84a22d7e03618ad02825cc9c9f3}} 
\#define {\bfseries I\+T\+U1\+\_\+\+M\+O\+D\+E\+M\+A\+SK}~0xfd
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_ab7013b7e27138d38486188c3f05fd4d8}\label{sh_2gensh1_2btimer_2btimer_8c_ab7013b7e27138d38486188c3f05fd4d8}} 
\#define {\bfseries I\+T\+U1\+\_\+\+T\+C\+R\+M\+A\+SK}~(0x00 $\vert$ I\+\_\+\+C\+L\+K\+\_\+\+P\+H\+I)
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_a2f1112c12c48b108746b069397aa08b1}\label{sh_2gensh1_2btimer_2btimer_8c_a2f1112c12c48b108746b069397aa08b1}} 
\#define {\bfseries I\+T\+U1\+\_\+\+T\+I\+O\+R\+M\+A\+SK}~0x88
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_ae8cbeb324e87bc56c827143a4f5e7b2e}\label{sh_2gensh1_2btimer_2btimer_8c_ae8cbeb324e87bc56c827143a4f5e7b2e}} 
\#define {\bfseries I\+T\+U1\+\_\+\+S\+T\+A\+T\+\_\+\+M\+A\+SK}~0xf8
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_ae796190900ad2164c934ab267b7223fd}\label{sh_2gensh1_2btimer_2btimer_8c_ae796190900ad2164c934ab267b7223fd}} 
\#define {\bfseries I\+T\+U1\+\_\+\+T\+I\+E\+R\+M\+A\+SK}~0xfc
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_add28c0d1cadd09e6f5fb264fcd2c03bb}\label{sh_2gensh1_2btimer_2btimer_8c_add28c0d1cadd09e6f5fb264fcd2c03bb}} 
\#define {\bfseries I\+P\+R\+C\+\_\+\+I\+T\+U1\+\_\+\+M\+A\+SK}~0xfff0
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_a9aabf6143919a7303cdf02d921cd8ebc}\label{sh_2gensh1_2btimer_2btimer_8c_a9aabf6143919a7303cdf02d921cd8ebc}} 
\#define {\bfseries I\+T\+U1\+\_\+\+P\+R\+IO}~15
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_afcedd0b864774cd1856bf0657097c2e8}\label{sh_2gensh1_2btimer_2btimer_8c_afcedd0b864774cd1856bf0657097c2e8}} 
\#define {\bfseries I\+T\+U1\+\_\+\+V\+E\+C\+T\+OR}~O\+V\+I1\+\_\+\+I\+S\+P\+\_\+V
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_aac89169fdf120750d8321464268bf18b}\label{sh_2gensh1_2btimer_2btimer_8c_aac89169fdf120750d8321464268bf18b}} 
\#define {\bfseries A\+V\+G\+\_\+\+O\+V\+E\+R\+H\+E\+AD}~1  /$\ast$ It typically takes X.\+X microseconds $\ast$/
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_ae0b5ca13bcf573a43bdf52d4eae8f79c}\label{sh_2gensh1_2btimer_2btimer_8c_ae0b5ca13bcf573a43bdf52d4eae8f79c}} 
\#define {\bfseries L\+E\+A\+S\+T\+\_\+\+V\+A\+L\+ID}~0 /$\ast$ 20 $\ast$/ /$\ast$ Don\textquotesingle{}t trust a clicks value lower than this $\ast$/
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_accb5d6b358651d6e4ced2ae927af32ce}\label{sh_2gensh1_2btimer_2btimer_8c_accb5d6b358651d6e4ced2ae927af32ce}} 
\mbox{\hyperlink{group__ClassicINTR_ga17fb491bd308ce6b1bf27a51dec0b46d}{rtems\+\_\+isr}} {\bfseries timerisr} (void)
\item 
void \mbox{\hyperlink{sh_2gensh1_2btimer_2btimer_8c_a9ba0ae2fd8880801fb86979a16cd3b2b}{benchmark\+\_\+timer\+\_\+initialize}} (void)
\begin{DoxyCompactList}\small\item\em Initialize the Benchmark Timer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{btimer_8h_ac0f944fe3193b01df09c3d3a5a677e5a}{benchmark\+\_\+timer\+\_\+t}} \mbox{\hyperlink{sh_2gensh1_2btimer_2btimer_8c_ab8dc8517e97918d293d78e85b9454855}{benchmark\+\_\+timer\+\_\+read}} (void)
\begin{DoxyCompactList}\small\item\em Read the Benchmark Timer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sh_2gensh1_2btimer_2btimer_8c_af3b4e28a2f0f7870be848a1d5cee0d03}{benchmark\+\_\+timer\+\_\+disable\+\_\+subtracting\+\_\+average\+\_\+overhead}} (bool find\+\_\+flag)
\begin{DoxyCompactList}\small\item\em Disable Average Overhead Removal from the Benchmark Timer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_a3dc8a22ed1d593be7203d55af272509f}\label{sh_2gensh1_2btimer_2btimer_8c_a3dc8a22ed1d593be7203d55af272509f}} 
uint32\+\_\+t {\bfseries bsp\+\_\+clicks\+\_\+per\+\_\+second}
\item 
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_aff7592371a0cc40ceba40a1adf11bbc0}\label{sh_2gensh1_2btimer_2btimer_8c_aff7592371a0cc40ceba40a1adf11bbc0}} 
bool {\bfseries benchmark\+\_\+timer\+\_\+find\+\_\+average\+\_\+overhead}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Timer for the Hitachi SH 703X. 



\subsection{Function Documentation}
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_af3b4e28a2f0f7870be848a1d5cee0d03}\label{sh_2gensh1_2btimer_2btimer_8c_af3b4e28a2f0f7870be848a1d5cee0d03}} 
\index{btimer.c@{btimer.c}!benchmark\_timer\_disable\_subtracting\_average\_overhead@{benchmark\_timer\_disable\_subtracting\_average\_overhead}}
\index{benchmark\_timer\_disable\_subtracting\_average\_overhead@{benchmark\_timer\_disable\_subtracting\_average\_overhead}!btimer.c@{btimer.c}}
\subsubsection{\texorpdfstring{benchmark\_timer\_disable\_subtracting\_average\_overhead()}{benchmark\_timer\_disable\_subtracting\_average\_overhead()}}
{\footnotesize\ttfamily void benchmark\+\_\+timer\+\_\+disable\+\_\+subtracting\+\_\+average\+\_\+overhead (\begin{DoxyParamCaption}\item[{bool}]{find\+\_\+flag }\end{DoxyParamCaption})}



Disable Average Overhead Removal from the Benchmark Timer. 

This method places the benchmark timer in a \char`\"{}raw\char`\"{} mode where it returns the actual number of units which have passed between calls to {\itshape benchmark\+\_\+timer\+\_\+initialize} and {\itshape benchmark\+\_\+timer\+\_\+read} counting.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em find\+\_\+flag} & indicates to enable or disable the mode \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_a9ba0ae2fd8880801fb86979a16cd3b2b}\label{sh_2gensh1_2btimer_2btimer_8c_a9ba0ae2fd8880801fb86979a16cd3b2b}} 
\index{btimer.c@{btimer.c}!benchmark\_timer\_initialize@{benchmark\_timer\_initialize}}
\index{benchmark\_timer\_initialize@{benchmark\_timer\_initialize}!btimer.c@{btimer.c}}
\subsubsection{\texorpdfstring{benchmark\_timer\_initialize()}{benchmark\_timer\_initialize()}}
{\footnotesize\ttfamily void benchmark\+\_\+timer\+\_\+initialize (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize the Benchmark Timer. 

This method initializes the benchmark timer and resets it to begin counting. \mbox{\Hypertarget{sh_2gensh1_2btimer_2btimer_8c_ab8dc8517e97918d293d78e85b9454855}\label{sh_2gensh1_2btimer_2btimer_8c_ab8dc8517e97918d293d78e85b9454855}} 
\index{btimer.c@{btimer.c}!benchmark\_timer\_read@{benchmark\_timer\_read}}
\index{benchmark\_timer\_read@{benchmark\_timer\_read}!btimer.c@{btimer.c}}
\subsubsection{\texorpdfstring{benchmark\_timer\_read()}{benchmark\_timer\_read()}}
{\footnotesize\ttfamily \mbox{\hyperlink{btimer_8h_ac0f944fe3193b01df09c3d3a5a677e5a}{benchmark\+\_\+timer\+\_\+t}} benchmark\+\_\+timer\+\_\+read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Read the Benchmark Timer. 

This method stops the benchmark timer and returns the number of units that have passed since {\itshape benchmark\+\_\+timer\+\_\+initialize} was invoked.

\begin{DoxyReturn}{Returns}
This method returns the number of units with the average overhead removed. If the value is below the minimum trusted value, zero is returned. 
\end{DoxyReturn}
