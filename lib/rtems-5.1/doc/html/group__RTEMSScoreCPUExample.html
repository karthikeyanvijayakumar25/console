<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Example<div class="ingroups"><a class="el" href="group__RTEMSInternal.html">Internal</a> &raquo; <a class="el" href="group__RTEMSScore.html">SuperCore</a> &raquo; <a class="el" href="group__RTEMSScoreCPU.html">CPU Architecture Support</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Example CPU Architecture Support.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__RTEMSScoreCPUExampleCPUEndian"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExampleCPUEndian.html">CPUEndian</a></td></tr>
<tr class="memdesc:group__RTEMSScoreCPUExampleCPUEndian"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPUEndian. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__RTEMSScoreCPUExampleASM"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExampleASM.html">Example Assembler Support</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__Management"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Management.html">Management</a></td></tr>
<tr class="memdesc:group__Management"><td class="mdescLeft">&#160;</td><td class="mdescRight">Management. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__RTEMSScoreCPUExampleBitfield"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExampleBitfield.html">Processor Dependent Bitfield Manipulation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__RTEMSScoreCPUExampleContext"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExampleContext.html">Processor Dependent Context Management</a></td></tr>
<tr class="memdesc:group__RTEMSScoreCPUExampleContext"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the context of the thread. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__RTEMSScoreCPUExampleInterrupt"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExampleInterrupt.html">Processor Dependent Interrupt Management</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCPU__Per__CPU__control.html">CPU_Per_CPU_control</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The CPU specific per-CPU control.  <a href="structCPU__Per__CPU__control.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf8e38596ad3db49995fd8eb9fb4e86b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExample.html#gaf8e38596ad3db49995fd8eb9fb4e86b2">CPU_PER_CPU_CONTROL_SIZE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gaf8e38596ad3db49995fd8eb9fb4e86b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the CPU specific per-CPU control.  <a href="#gaf8e38596ad3db49995fd8eb9fb4e86b2">More...</a><br /></td></tr>
<tr class="separator:gaf8e38596ad3db49995fd8eb9fb4e86b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga026af6cb089314aa4eac9e276624953e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExample.html#ga026af6cb089314aa4eac9e276624953e">_CPU_Get_current_per_CPU_control</a>()&#160;&#160;&#160;( _CPU_Per_CPU_current )</td></tr>
<tr class="memdesc:ga026af6cb089314aa4eac9e276624953e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional method to obtain the per-CPU control of the current processor.  <a href="#ga026af6cb089314aa4eac9e276624953e">More...</a><br /></td></tr>
<tr class="separator:ga026af6cb089314aa4eac9e276624953e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcdca3586eca8c4286b18312eac9087f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExample.html#gadcdca3586eca8c4286b18312eac9087f">_CPU_Get_thread_executing</a>()&#160;&#160;&#160;( _CPU_Per_CPU_current-&gt;executing )</td></tr>
<tr class="memdesc:gadcdca3586eca8c4286b18312eac9087f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional method to get the executing thread.  <a href="#gadcdca3586eca8c4286b18312eac9087f">More...</a><br /></td></tr>
<tr class="separator:gadcdca3586eca8c4286b18312eac9087f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga04cbac6d343a5c80b8e4547131c6bfcd"><td class="memItemLeft" align="right" valign="top">register struct <a class="el" href="structPer__CPU__Control.html">Per_CPU_Control</a> *_CPU_Per_CPU_current&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExample.html#ga04cbac6d343a5c80b8e4547131c6bfcd">asm</a> (&quot;rX&quot;)</td></tr>
<tr class="memdesc:ga04cbac6d343a5c80b8e4547131c6bfcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special register pointing to the per-CPU control of the current processor.  <a href="#ga04cbac6d343a5c80b8e4547131c6bfcd">More...</a><br /></td></tr>
<tr class="separator:ga04cbac6d343a5c80b8e4547131c6bfcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad26becade17fbdbb0bdf63c6b9228688"><td class="memItemLeft" align="right" valign="top"><a id="gad26becade17fbdbb0bdf63c6b9228688"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>_CPU_Context_volatile_clobber</b> (uintptr_t pattern)</td></tr>
<tr class="separator:gad26becade17fbdbb0bdf63c6b9228688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3adb94b8d32fd0e3058934ffd3df6d90"><td class="memItemLeft" align="right" valign="top"><a id="ga3adb94b8d32fd0e3058934ffd3df6d90"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>_CPU_Context_validate</b> (uintptr_t pattern)</td></tr>
<tr class="separator:ga3adb94b8d32fd0e3058934ffd3df6d90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07618c93359f2485af2e98a96b330208"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExample.html#ga07618c93359f2485af2e98a96b330208">_CPU_Instruction_illegal</a> (void)</td></tr>
<tr class="memdesc:ga07618c93359f2485af2e98a96b330208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emits an illegal instruction.  <a href="#ga07618c93359f2485af2e98a96b330208">More...</a><br /></td></tr>
<tr class="separator:ga07618c93359f2485af2e98a96b330208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab683a0a37a089e2a0fd3c356836d5499"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSScoreCPUExample.html#gab683a0a37a089e2a0fd3c356836d5499">_CPU_Instruction_no_operation</a> (void)</td></tr>
<tr class="memdesc:gab683a0a37a089e2a0fd3c356836d5499"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emits a no operation instruction (nop).  <a href="#gab683a0a37a089e2a0fd3c356836d5499">More...</a><br /></td></tr>
<tr class="separator:gab683a0a37a089e2a0fd3c356836d5499"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Example CPU Architecture Support. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga026af6cb089314aa4eac9e276624953e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga026af6cb089314aa4eac9e276624953e">&#9670;&nbsp;</a></span>_CPU_Get_current_per_CPU_control</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _CPU_Get_current_per_CPU_control</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;( _CPU_Per_CPU_current )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optional method to obtain the per-CPU control of the current processor. </p>
<p>This is optional. Not every CPU port needs this. It is only an optional optimization variant. In case this macro is undefined, the default implementation using the current processor index will be used. </p>

</div>
</div>
<a id="gadcdca3586eca8c4286b18312eac9087f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadcdca3586eca8c4286b18312eac9087f">&#9670;&nbsp;</a></span>_CPU_Get_thread_executing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _CPU_Get_thread_executing</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;( _CPU_Per_CPU_current-&gt;executing )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optional method to get the executing thread. </p>
<p>This is optional. Not every CPU port needs this. It is only an optional optimization variant. In case this macro is undefined, the default implementation uses the per-CPU information and the current processor index to get the executing thread. </p>

</div>
</div>
<a id="gaf8e38596ad3db49995fd8eb9fb4e86b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8e38596ad3db49995fd8eb9fb4e86b2">&#9670;&nbsp;</a></span>CPU_PER_CPU_CONTROL_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CPU_PER_CPU_CONTROL_SIZE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The size of the CPU specific per-CPU control. </p>
<p>This define must be visible to assember files since it is used to derive structure offsets. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga07618c93359f2485af2e98a96b330208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07618c93359f2485af2e98a96b330208">&#9670;&nbsp;</a></span>_CPU_Instruction_illegal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> void _CPU_Instruction_illegal </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emits an illegal instruction. </p>
<p>This function is used only in test sptests/spfatal26. </p>

</div>
</div>
<a id="gab683a0a37a089e2a0fd3c356836d5499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab683a0a37a089e2a0fd3c356836d5499">&#9670;&nbsp;</a></span>_CPU_Instruction_no_operation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> void _CPU_Instruction_no_operation </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emits a no operation instruction (nop). </p>
<p>This function is used only in test sptests/spcache01. </p>

</div>
</div>
<a id="ga04cbac6d343a5c80b8e4547131c6bfcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04cbac6d343a5c80b8e4547131c6bfcd">&#9670;&nbsp;</a></span>asm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">register struct <a class="el" href="structPer__CPU__Control.html">Per_CPU_Control</a>* _CPU_Per_CPU_current asm </td>
          <td>(</td>
          <td class="paramtype">&quot;rX&quot;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Special register pointing to the per-CPU control of the current processor. </p>
<p>This is optional. Not every CPU port needs this. It is only an optional optimization variant. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
