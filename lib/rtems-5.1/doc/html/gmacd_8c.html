<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: bsps/arm/atsam/contrib/libraries/libchip/source/gmacd.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_49b8d5997469a34e9a523535602b7e1a.html">bsps</a></li><li class="navelem"><a class="el" href="dir_5f7c3d4818c142e5ac9b73b670fac05b.html">arm</a></li><li class="navelem"><a class="el" href="dir_5aba8e8e237efdfba4be1d84414be7d9.html">atsam</a></li><li class="navelem"><a class="el" href="dir_8a11f52319f10e3ca8e6d3ea1125d326.html">contrib</a></li><li class="navelem"><a class="el" href="dir_40d6080ed475921f71b706d6bda82906.html">libraries</a></li><li class="navelem"><a class="el" href="dir_63acfe933364fa101dd8dcb6987e06ea.html">libchip</a></li><li class="navelem"><a class="el" href="dir_00666f01d1455abe61deaf2ab656f44b.html">source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">gmacd.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;chip.h&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf979fcaac59bf6578901fc3fa40c7255"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#gaf979fcaac59bf6578901fc3fa40c7255">GCIRC_CNT</a>(head,  tail,  <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)&#160;&#160;&#160;<a class="el" href="group__gmacd__defines.html#gaf792223e30acf40b9e7a67f080f807e8">fixed_mod</a>((head) - (tail), (<a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>))</td></tr>
<tr class="separator:gaf979fcaac59bf6578901fc3fa40c7255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad48958fa52a1e9dc9a08d33210bcd9e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#gad48958fa52a1e9dc9a08d33210bcd9e0">GCIRC_SPACE</a>(head,  tail,  <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)&#160;&#160;&#160;<a class="el" href="group__gmacd__defines.html#gaf979fcaac59bf6578901fc3fa40c7255">GCIRC_CNT</a>((tail),((head)+1),(<a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>))</td></tr>
<tr class="separator:gad48958fa52a1e9dc9a08d33210bcd9e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9926ea92f8ad62f870aaf51552e3cd9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#gac9926ea92f8ad62f870aaf51552e3cd9">GCIRC_CNT_TO_END</a>(head,  tail,  <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:gac9926ea92f8ad62f870aaf51552e3cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41636c36b658013d2c0ff5e525a5af0e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga41636c36b658013d2c0ff5e525a5af0e">GCIRC_SPACE_TO_END</a>(head,  tail,  <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:ga41636c36b658013d2c0ff5e525a5af0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd62a355f7480b793be721ba4c754813"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#gafd62a355f7480b793be721ba4c754813">GCIRC_INC</a>(headortail,  <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:gafd62a355f7480b793be721ba4c754813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa316fca6188ee1324fca3acb10326a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#gafa316fca6188ee1324fca3acb10326a5">GCIRC_EMPTY</a>(head,  tail)&#160;&#160;&#160;(head == tail)</td></tr>
<tr class="separator:gafa316fca6188ee1324fca3acb10326a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65fb546208f7516e381b6535c899979a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga65fb546208f7516e381b6535c899979a">GCIRC_CLEAR</a>(head,  tail)&#160;&#160;&#160;(head = tail = 0)</td></tr>
<tr class="separator:ga65fb546208f7516e381b6535c899979a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf792223e30acf40b9e7a67f080f807e8"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#gaf792223e30acf40b9e7a67f080f807e8">fixed_mod</a> (int a, int b)</td></tr>
<tr class="separator:gaf792223e30acf40b9e7a67f080f807e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14397a277fce1b135fe1b2fc486c224f"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>GMACD_TxPtpEvtMsgCBRegister</b> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, <a class="el" href="group__gmacd__types.html#gad3329dfe65f5877f50ee8a4fd8e63f08">fGmacdTxPtpEvtCallBack</a> pTxPtpEvtCb, gmacQueList_t queIdx)</td></tr>
<tr class="separator:ga14397a277fce1b135fe1b2fc486c224f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga782194c9b7163c22016beabc6101856c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga782194c9b7163c22016beabc6101856c">GMACD_Handler</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, gmacQueList_t queIdx)</td></tr>
<tr class="memdesc:ga782194c9b7163c22016beabc6101856c"><td class="mdescLeft">&#160;</td><td class="mdescRight">GMAC Interrupt handler.  <a href="group__gmacd__defines.html#ga782194c9b7163c22016beabc6101856c">More...</a><br /></td></tr>
<tr class="separator:ga782194c9b7163c22016beabc6101856c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8706caf686e1d073851111db1ba2663c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga8706caf686e1d073851111db1ba2663c">GMACD_Init</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, <a class="el" href="structGmac.html">Gmac</a> *pHw, uint8_t bID, uint8_t enableCAF, uint8_t enableNBC)</td></tr>
<tr class="memdesc:ga8706caf686e1d073851111db1ba2663c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the GMAC with the <a class="el" href="structGmac.html">Gmac</a> controller address.  <a href="group__gmacd__defines.html#ga8706caf686e1d073851111db1ba2663c">More...</a><br /></td></tr>
<tr class="separator:ga8706caf686e1d073851111db1ba2663c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga418589cbbef19de6084670d572b6ae27"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga418589cbbef19de6084670d572b6ae27">GMACD_InitTransfer</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, const <a class="el" href="group__gmacd__types.html#ga5ab53aef1a598e4d862677f8f1928b20">sGmacInit</a> *pInit, gmacQueList_t queIdx)</td></tr>
<tr class="separator:ga418589cbbef19de6084670d572b6ae27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaede5219eb9101a760ecb266722825318"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#gaede5219eb9101a760ecb266722825318">GMACD_Reset</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd)</td></tr>
<tr class="separator:gaede5219eb9101a760ecb266722825318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4dade176be1ff02c5dfb6371d873b5ed"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga4dade176be1ff02c5dfb6371d873b5ed">GMACD_SendSG</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, const <a class="el" href="group__gmacd__types.html#ga97ea4785757f8d33d38ed0563d84bfa4">sGmacSGList</a> *sgl, <a class="el" href="group__gmacd__types.html#ga64979042bf43f697de166e864e3259de">fGmacdTransferCallback</a> fTxCb, gmacQueList_t queIdx)</td></tr>
<tr class="memdesc:ga4dade176be1ff02c5dfb6371d873b5ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a frame split into buffers. If the frame size is larger than transfer buffer size error returned. If frame transfer status is monitored, specify callback for each frame.  <a href="group__gmacd__defines.html#ga4dade176be1ff02c5dfb6371d873b5ed">More...</a><br /></td></tr>
<tr class="separator:ga4dade176be1ff02c5dfb6371d873b5ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f3e029556b9627258a2eb1dc4919d95"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga2f3e029556b9627258a2eb1dc4919d95">GMACD_Send</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, void *pBuffer, uint32_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>, <a class="el" href="group__gmacd__types.html#ga64979042bf43f697de166e864e3259de">fGmacdTransferCallback</a> fTxCb, gmacQueList_t queIdx)</td></tr>
<tr class="memdesc:ga2f3e029556b9627258a2eb1dc4919d95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a packet with GMAC. If the packet size is larger than transfer buffer size error returned. If packet transfer status is monitored, specify callback for each packet.  <a href="group__gmacd__defines.html#ga2f3e029556b9627258a2eb1dc4919d95">More...</a><br /></td></tr>
<tr class="separator:ga2f3e029556b9627258a2eb1dc4919d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bd3fe40e63537dce59dd4368dce4253"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga1bd3fe40e63537dce59dd4368dce4253">GMACD_TxLoad</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, gmacQueList_t queIdx)</td></tr>
<tr class="separator:ga1bd3fe40e63537dce59dd4368dce4253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa45b1118c5a1147bde4e3026194bc965"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#gaa45b1118c5a1147bde4e3026194bc965">GMACD_Poll</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, uint8_t *pFrame, uint32_t frameSize, uint32_t *pRcvSize, gmacQueList_t queIdx)</td></tr>
<tr class="memdesc:gaa45b1118c5a1147bde4e3026194bc965"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a packet with GMAC. If not enough buffer for the packet, the remaining data is lost but right frame length is returned.  <a href="group__gmacd__defines.html#gaa45b1118c5a1147bde4e3026194bc965">More...</a><br /></td></tr>
<tr class="separator:gaa45b1118c5a1147bde4e3026194bc965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ea0884def476f9698f1cdbae6b6f3e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga3ea0884def476f9698f1cdbae6b6f3e2">GMACD_SetRxCallback</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, <a class="el" href="group__gmacd__types.html#ga64979042bf43f697de166e864e3259de">fGmacdTransferCallback</a> fRxCb, gmacQueList_t queIdx)</td></tr>
<tr class="memdesc:ga3ea0884def476f9698f1cdbae6b6f3e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers pRxCb callback. Callback will be invoked after the next received frame. When GMAC_Poll() returns GMAC_RX_NO_DATA the application task call GMAC_Set_RxCb() to register pRxCb() callback and enters suspend state. The callback is in charge to resume the task once a new frame has been received. The next time GMAC_Poll() is called, it will be successful.  <a href="group__gmacd__defines.html#ga3ea0884def476f9698f1cdbae6b6f3e2">More...</a><br /></td></tr>
<tr class="separator:ga3ea0884def476f9698f1cdbae6b6f3e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0806a8a23ffb3180d3404ec6d7fbfa1d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__gmacd__defines.html#ga0806a8a23ffb3180d3404ec6d7fbfa1d">GMACD_SetTxWakeupCallback</a> (<a class="el" href="group__gmacd__types.html#gaa8760917079000a5ee7fbc7fab992dd3">sGmacd</a> *pGmacd, <a class="el" href="group__gmacd__types.html#ga44e6be4bb53db0660baf6cb50b20a684">fGmacdWakeupCallback</a> fWakeup, uint8_t bThreshold, gmacQueList_t queIdx)</td></tr>
<tr class="separator:ga0806a8a23ffb3180d3404ec6d7fbfa1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga74916b8b8b9489860a7ca46c44614214"><td class="memItemLeft" align="right" valign="top">
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>ptpTxQueWriteIdx</b> = 0u</td></tr>
<tr class="separator:ga74916b8b8b9489860a7ca46c44614214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga149932a9a4af16ae2048695b064a9379"><td class="memItemLeft" align="right" valign="top">
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>ptpTxQueReadIdx</b> = 0u</td></tr>
<tr class="separator:ga149932a9a4af16ae2048695b064a9379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b0a291846fd88795fa72cfce47e83ca"><td class="memItemLeft" align="right" valign="top">
ptpMsgType&#160;</td><td class="memItemRight" valign="bottom"><b>gPtpMsgTxQue</b> [EFRS_BUFFER_LEN]</td></tr>
<tr class="separator:ga8b0a291846fd88795fa72cfce47e83ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09d34874a2e0dc576ac30251922acbda"><td class="memItemLeft" align="right" valign="top">
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>gPtpMsgTxSeqId</b> [EFRS_BUFFER_LEN]</td></tr>
<tr class="separator:ga09d34874a2e0dc576ac30251922acbda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82153b6505e76a7df02a0b11e0351d8c"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>isrMasks</b> []</td></tr>
<tr class="separator:ga82153b6505e76a7df02a0b11e0351d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
