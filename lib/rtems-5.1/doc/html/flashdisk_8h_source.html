<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: cpukit/include/rtems/flashdisk.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cd198e36225ba3f41de97552050ac017.html">cpukit</a></li><li class="navelem"><a class="el" href="dir_4f6a7e6de63bf7faab77653961b179a0.html">include</a></li><li class="navelem"><a class="el" href="dir_be382d098cd1aaaaf11a7ebea3d850c0.html">rtems</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">flashdisk.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="flashdisk_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * Copyright (C) 2007 Chris Johns</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * The license and distribution terms for this file may be</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * found in the file LICENSE in this distribution or at</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * http://www.rtems.org/license/LICENSE.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#if !defined (_RTEMS_FLASHDISK_H_)</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define _RTEMS_FLASHDISK_H_</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="rtems_8h.html">rtems.h</a>&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span><span class="preprocessor"></span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="group__RTEMSFDisk.html#gaae3e325729c8176e749bb3cee3f253b7">  131</a></span>&#160;<span class="preprocessor">#define RTEMS_FLASHDISK_DEVICE_BASE_NAME &quot;/dev/fdd&quot;</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">#define RTEMS_FDISK_IOCTL_ERASE_DISK   _IO(&#39;B&#39;, 128)</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#define RTEMS_FDISK_IOCTL_COMPACT      _IO(&#39;B&#39;, 129)</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#define RTEMS_FDISK_IOCTL_ERASE_USED   _IO(&#39;B&#39;, 130)</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#define RTEMS_FDISK_IOCTL_MONITORING   _IO(&#39;B&#39;, 131)</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#define RTEMS_FDISK_IOCTL_INFO_LEVEL   _IO(&#39;B&#39;, 132)</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor">#define RTEMS_FDISK_IOCTL_PRINT_STATUS _IO(&#39;B&#39;, 133)</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="structrtems__fdisk__monitor__data.html">  144</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrtems__fdisk__monitor__data.html">rtems_fdisk_monitor_data</a></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  uint32_t block_size;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  uint32_t block_count;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  uint32_t unavail_blocks;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  uint32_t device_count;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  uint32_t segment_count;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  uint32_t page_count;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  uint32_t blocks_used;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  uint32_t segs_available;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  uint32_t segs_used;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  uint32_t segs_failed;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  uint32_t seg_erases;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  uint32_t pages_desc;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  uint32_t pages_active;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  uint32_t pages_used;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  uint32_t pages_bad;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  uint32_t info_level;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;} <a class="code" href="group__RTEMSFDisk.html#ga3cbff7dffdac7250af3b513a24601f91">rtems_fdisk_monitor_data</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="structrtems__fdisk__segment__desc.html">  174</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="structrtems__fdisk__segment__desc.html#af45cd5d67fcc57e6e44a6767b976b931">  176</a></span>&#160;  uint16_t <a class="code" href="structrtems__fdisk__segment__desc.html#af45cd5d67fcc57e6e44a6767b976b931">count</a>;    </div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="structrtems__fdisk__segment__desc.html#a69898a46cb1e7b34ab1e11a53e352034">  177</a></span>&#160;  uint16_t <a class="code" href="structrtems__fdisk__segment__desc.html#a69898a46cb1e7b34ab1e11a53e352034">segment</a>;  </div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="structrtems__fdisk__segment__desc.html#ac7c616a6fc4a48edb952ef57078b89bb">  178</a></span>&#160;  uint32_t <a class="code" href="structrtems__fdisk__segment__desc.html#ac7c616a6fc4a48edb952ef57078b89bb">offset</a>;   </div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="structrtems__fdisk__segment__desc.html#a04cde2011f4a662442909341c4768e47">  179</a></span>&#160;  uint32_t <a class="code" href="structrtems__fdisk__segment__desc.html#a04cde2011f4a662442909341c4768e47">size</a>;     </div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;} <a class="code" href="group__RTEMSFDisk.html#ga0af0a297f5876583c22f099ac54688c7">rtems_fdisk_segment_desc</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="group__RTEMSFDisk.html#ga907c65153df83bedad2668cbe3d8d120">  185</a></span>&#160;<span class="preprocessor">#define RTEMS_FDISK_KBYTES(_k) (UINT32_C(1024) * (_k))</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">struct </span><a class="code" href="structrtems__fdisk__device__desc.html">rtems_fdisk_device_desc</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structrtems__fdisk__driver__handlers.html">  200</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrtems__fdisk__driver__handlers.html">rtems_fdisk_driver_handlers</a></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="structrtems__fdisk__driver__handlers.html#ad1c83b556560e58b379cd6faba061959">  220</a></span>&#160;  int (*<a class="code" href="structrtems__fdisk__driver__handlers.html#ad1c83b556560e58b379cd6faba061959">read</a>) (<span class="keyword">const</span> <a class="code" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a>* sd,</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;               uint32_t                        <a class="code" href="structdevice.html">device</a>,</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;               uint32_t                        segment,</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;               uint32_t                        offset,</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;               <span class="keywordtype">void</span>*                           buffer,</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;               uint32_t                        <a class="code" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structrtems__fdisk__driver__handlers.html#a14430a22a8f1b7a9bfd9329c1041a809">  245</a></span>&#160;  int (*<a class="code" href="structrtems__fdisk__driver__handlers.html#a14430a22a8f1b7a9bfd9329c1041a809">write</a>) (<span class="keyword">const</span> <a class="code" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a>* sd,</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                uint32_t                        <a class="code" href="structdevice.html">device</a>,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                uint32_t                        segment,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                uint32_t                        offset,</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">void</span>*                     buffer,</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                uint32_t                        <a class="code" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="structrtems__fdisk__driver__handlers.html#afab24fd17437d920f877eb533fb849f3">  269</a></span>&#160;  int (*<a class="code" href="structrtems__fdisk__driver__handlers.html#afab24fd17437d920f877eb533fb849f3">blank</a>) (<span class="keyword">const</span> <a class="code" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a>* sd,</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                uint32_t                        <a class="code" href="structdevice.html">device</a>,</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                uint32_t                        segment,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                uint32_t                        offset,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                uint32_t                        <a class="code" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="structrtems__fdisk__driver__handlers.html#a7ffca2062919a41fe49e06ee1058810f">  293</a></span>&#160;  int (*<a class="code" href="structrtems__fdisk__driver__handlers.html#a7ffca2062919a41fe49e06ee1058810f">verify</a>) (<span class="keyword">const</span> <a class="code" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a>* sd,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                 uint32_t                        <a class="code" href="structdevice.html">device</a>,</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                 uint32_t                        segment,</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                 uint32_t                        offset,</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                 <span class="keyword">const</span> <span class="keywordtype">void</span>*                     buffer,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                 uint32_t                        <a class="code" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="structrtems__fdisk__driver__handlers.html#aaff1b01c8f7d53fb2fd586479b155f59">  313</a></span>&#160;  int (*<a class="code" href="structrtems__fdisk__driver__handlers.html#aaff1b01c8f7d53fb2fd586479b155f59">erase</a>) (<span class="keyword">const</span> <a class="code" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a>* sd,</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                uint32_t                        <a class="code" href="structdevice.html">device</a>,</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                uint32_t                        segment);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="structrtems__fdisk__driver__handlers.html#a526623f353abfb0b0c770cb3e6c53cef">  329</a></span>&#160;  int (*<a class="code" href="structrtems__fdisk__driver__handlers.html#a526623f353abfb0b0c770cb3e6c53cef">erase_device</a>) (<span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structrtems__fdisk__device__desc.html">rtems_fdisk_device_desc</a>* dd,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                       uint32_t                              <a class="code" href="structdevice.html">device</a>);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;} <a class="code" href="group__RTEMSFDisk.html#ga3e36a0fb2b70165104f1d988f33cd029">rtems_fdisk_driver_handlers</a>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="structrtems__fdisk__device__desc.html">  345</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrtems__fdisk__device__desc.html">rtems_fdisk_device_desc</a></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;{</div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="structrtems__fdisk__device__desc.html#a506d1a44cd7009b8256e12fcc02e2306">  347</a></span>&#160;  uint32_t                           <a class="code" href="structrtems__fdisk__device__desc.html#a506d1a44cd7009b8256e12fcc02e2306">segment_count</a>; </div><div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="structrtems__fdisk__device__desc.html#a34e346516450cb073e0cddadcbbfdd8a">  348</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a>*    <a class="code" href="structrtems__fdisk__device__desc.html#a34e346516450cb073e0cddadcbbfdd8a">segments</a>;      </div><div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="structrtems__fdisk__device__desc.html#a03a0061eaead224dc4f929f34851735e">  349</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structrtems__fdisk__driver__handlers.html">rtems_fdisk_driver_handlers</a>* <a class="code" href="structrtems__fdisk__device__desc.html#a03a0061eaead224dc4f929f34851735e">flash_ops</a>;     </div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;} <a class="code" href="group__RTEMSFDisk.html#ga4e1cf210089a66216e739c7ccd3ea84e">rtems_fdisk_device_desc</a>;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="structrtems__flashdisk__config.html">  381</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structrtems__flashdisk__config.html">rtems_flashdisk_config</a></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="structrtems__flashdisk__config.html#a50fe17de497dc86963fb14f36cfdf118">  383</a></span>&#160;  uint32_t                       <a class="code" href="structrtems__flashdisk__config.html#a50fe17de497dc86963fb14f36cfdf118">block_size</a>;     </div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="structrtems__flashdisk__config.html#a7fc7be0683fa49cdafd26c536e357ac1">  384</a></span>&#160;  uint32_t                       <a class="code" href="structrtems__flashdisk__config.html#a7fc7be0683fa49cdafd26c536e357ac1">device_count</a>;   </div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="structrtems__flashdisk__config.html#a7444ecefbfec131ca32d608634b31a3d">  385</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structrtems__fdisk__device__desc.html">rtems_fdisk_device_desc</a>* <a class="code" href="structrtems__flashdisk__config.html#a7444ecefbfec131ca32d608634b31a3d">devices</a>;        </div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="structrtems__flashdisk__config.html#a16d44d1db2e877e5671a9c229b3b4db1">  386</a></span>&#160;  uint32_t                       <a class="code" href="structrtems__flashdisk__config.html#a16d44d1db2e877e5671a9c229b3b4db1">flags</a>;          </div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="structrtems__flashdisk__config.html#ad06eb8b2ba70e0207374aad689d55649">  393</a></span>&#160;  uint32_t                       <a class="code" href="structrtems__flashdisk__config.html#ad06eb8b2ba70e0207374aad689d55649">unavail_blocks</a>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="structrtems__flashdisk__config.html#a7b622c625af71aa93caddca226de7a85">  395</a></span>&#160;  uint32_t                       <a class="code" href="structrtems__flashdisk__config.html#a7b622c625af71aa93caddca226de7a85">compact_segs</a>;   </div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="structrtems__flashdisk__config.html#a24b0928570dd72694937dee16ebbc4e5">  403</a></span>&#160;  uint32_t                       <a class="code" href="structrtems__flashdisk__config.html#a24b0928570dd72694937dee16ebbc4e5">avail_compact_segs</a>;</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="structrtems__flashdisk__config.html#a335a00f9e02f56e5c8f6ec07dcd2229b">  404</a></span>&#160;  uint32_t                       <a class="code" href="structrtems__flashdisk__config.html#a335a00f9e02f56e5c8f6ec07dcd2229b">info_level</a>;     </div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;} <a class="code" href="group__RTEMSFDisk.html#ga8d4fff797358538766b3bb13be596811">rtems_flashdisk_config</a>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"> * Driver flags.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="group__RTEMSFDisk.html#ga73e85fdb0656e7ab09e8a63d48d8becf">  414</a></span>&#160;<span class="preprocessor">#define RTEMS_FDISK_BACKGROUND_ERASE (1 &lt;&lt; 0)</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="group__RTEMSFDisk.html#ga6a5bec45cf7f7ada226478f09256bd1c">  419</a></span>&#160;<span class="preprocessor">#define RTEMS_FDISK_BACKGROUND_COMPACT (1 &lt;&lt; 1)</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="group__RTEMSFDisk.html#ga4d81d60c676b7ad742f0a51b193c15b8">  426</a></span>&#160;<span class="preprocessor">#define RTEMS_FDISK_CHECK_PAGES (1 &lt;&lt; 2)</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="group__RTEMSFDisk.html#ga47c3c0239203378502183004b56be45e">  432</a></span>&#160;<span class="preprocessor">#define RTEMS_FDISK_BLANK_CHECK_BEFORE_WRITE (1 &lt;&lt; 3)</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<a class="code" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<a class="code" href="group__RTEMSFDisk.html#ga38fc68a069082118de0f8b389fcd004b">rtems_fdisk_initialize</a> (rtems_device_major_number major,</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                        rtems_device_minor_number minor,</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                        <span class="keywordtype">void</span>*                     arg);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="structrtems__flashdisk__config.html">rtems_flashdisk_config</a> <a class="code" href="group__RTEMSFDisk.html#ga68b00046a3d3c3b702ae52bcb3286651">rtems_flashdisk_configuration</a>[];</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="keyword">extern</span> uint32_t <a class="code" href="group__RTEMSFDisk.html#ga6bc9f00bbbd031f76f3024fc91a4d0b0">rtems_flashdisk_configuration_size</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span><span class="preprocessor"></span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="structrtems__flashdisk__config_html_a7444ecefbfec131ca32d608634b31a3d"><div class="ttname"><a href="structrtems__flashdisk__config.html#a7444ecefbfec131ca32d608634b31a3d">rtems_flashdisk_config::devices</a></div><div class="ttdeci">const rtems_fdisk_device_desc * devices</div><div class="ttdef"><b>Definition:</b> flashdisk.h:385</div></div>
<div class="ttc" id="structrtems__fdisk__device__desc_html_a506d1a44cd7009b8256e12fcc02e2306"><div class="ttname"><a href="structrtems__fdisk__device__desc.html#a506d1a44cd7009b8256e12fcc02e2306">rtems_fdisk_device_desc::segment_count</a></div><div class="ttdeci">uint32_t segment_count</div><div class="ttdef"><b>Definition:</b> flashdisk.h:347</div></div>
<div class="ttc" id="structrtems__flashdisk__config_html_a335a00f9e02f56e5c8f6ec07dcd2229b"><div class="ttname"><a href="structrtems__flashdisk__config.html#a335a00f9e02f56e5c8f6ec07dcd2229b">rtems_flashdisk_config::info_level</a></div><div class="ttdeci">uint32_t info_level</div><div class="ttdef"><b>Definition:</b> flashdisk.h:404</div></div>
<div class="ttc" id="structrtems__flashdisk__config_html_a7fc7be0683fa49cdafd26c536e357ac1"><div class="ttname"><a href="structrtems__flashdisk__config.html#a7fc7be0683fa49cdafd26c536e357ac1">rtems_flashdisk_config::device_count</a></div><div class="ttdeci">uint32_t device_count</div><div class="ttdef"><b>Definition:</b> flashdisk.h:384</div></div>
<div class="ttc" id="group__RTEMSFDisk_html_ga38fc68a069082118de0f8b389fcd004b"><div class="ttname"><a href="group__RTEMSFDisk.html#ga38fc68a069082118de0f8b389fcd004b">rtems_fdisk_initialize</a></div><div class="ttdeci">rtems_device_driver rtems_fdisk_initialize(rtems_device_major_number major, rtems_device_minor_number minor, void *arg)</div></div>
<div class="ttc" id="structrtems__fdisk__driver__handlers_html_ad1c83b556560e58b379cd6faba061959"><div class="ttname"><a href="structrtems__fdisk__driver__handlers.html#ad1c83b556560e58b379cd6faba061959">rtems_fdisk_driver_handlers::read</a></div><div class="ttdeci">int(* read)(const rtems_fdisk_segment_desc *sd, uint32_t device, uint32_t segment, uint32_t offset, void *buffer, uint32_t size)</div><div class="ttdef"><b>Definition:</b> flashdisk.h:220</div></div>
<div class="ttc" id="structrtems__flashdisk__config_html"><div class="ttname"><a href="structrtems__flashdisk__config.html">rtems_flashdisk_config</a></div><div class="ttdoc">RTEMS Flash Disk configuration table used to initialise the driver.</div><div class="ttdef"><b>Definition:</b> flashdisk.h:381</div></div>
<div class="ttc" id="structdevice_html"><div class="ttname"><a href="structdevice.html">device</a></div><div class="ttdef"><b>Definition:</b> rtemscompat1.h:15</div></div>
<div class="ttc" id="group__RTEMSFDisk_html_ga3cbff7dffdac7250af3b513a24601f91"><div class="ttname"><a href="group__RTEMSFDisk.html#ga3cbff7dffdac7250af3b513a24601f91">rtems_fdisk_monitor_data</a></div><div class="ttdeci">struct rtems_fdisk_monitor_data rtems_fdisk_monitor_data</div><div class="ttdoc">Flash Disk Monitoring Data allows a user to obtain the current status of the disk.</div></div>
<div class="ttc" id="structrtems__fdisk__driver__handlers_html_afab24fd17437d920f877eb533fb849f3"><div class="ttname"><a href="structrtems__fdisk__driver__handlers.html#afab24fd17437d920f877eb533fb849f3">rtems_fdisk_driver_handlers::blank</a></div><div class="ttdeci">int(* blank)(const rtems_fdisk_segment_desc *sd, uint32_t device, uint32_t segment, uint32_t offset, uint32_t size)</div><div class="ttdef"><b>Definition:</b> flashdisk.h:269</div></div>
<div class="ttc" id="group__ClassicStatus_html_ga545d41846817eaba6143d52ee4d9e9fe"><div class="ttname"><a href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a></div><div class="ttdeci">rtems_status_code</div><div class="ttdoc">Classic API Status.</div><div class="ttdef"><b>Definition:</b> status.h:43</div></div>
<div class="ttc" id="structrtems__fdisk__driver__handlers_html_a14430a22a8f1b7a9bfd9329c1041a809"><div class="ttname"><a href="structrtems__fdisk__driver__handlers.html#a14430a22a8f1b7a9bfd9329c1041a809">rtems_fdisk_driver_handlers::write</a></div><div class="ttdeci">int(* write)(const rtems_fdisk_segment_desc *sd, uint32_t device, uint32_t segment, uint32_t offset, const void *buffer, uint32_t size)</div><div class="ttdef"><b>Definition:</b> flashdisk.h:245</div></div>
<div class="ttc" id="structrtems__fdisk__segment__desc_html_af45cd5d67fcc57e6e44a6767b976b931"><div class="ttname"><a href="structrtems__fdisk__segment__desc.html#af45cd5d67fcc57e6e44a6767b976b931">rtems_fdisk_segment_desc::count</a></div><div class="ttdeci">uint16_t count</div><div class="ttdef"><b>Definition:</b> flashdisk.h:176</div></div>
<div class="ttc" id="group__RTEMSFDisk_html_ga68b00046a3d3c3b702ae52bcb3286651"><div class="ttname"><a href="group__RTEMSFDisk.html#ga68b00046a3d3c3b702ae52bcb3286651">rtems_flashdisk_configuration</a></div><div class="ttdeci">const rtems_flashdisk_config rtems_flashdisk_configuration[]</div><div class="ttdoc">External reference to the configuration. Please supply. Support is present in confdefs....</div></div>
<div class="ttc" id="group__RTEMSFDisk_html_ga3e36a0fb2b70165104f1d988f33cd029"><div class="ttname"><a href="group__RTEMSFDisk.html#ga3e36a0fb2b70165104f1d988f33cd029">rtems_fdisk_driver_handlers</a></div><div class="ttdeci">struct rtems_fdisk_driver_handlers rtems_fdisk_driver_handlers</div><div class="ttdoc">Flash Low Level driver handlers.</div></div>
<div class="ttc" id="structrtems__flashdisk__config_html_a7b622c625af71aa93caddca226de7a85"><div class="ttname"><a href="structrtems__flashdisk__config.html#a7b622c625af71aa93caddca226de7a85">rtems_flashdisk_config::compact_segs</a></div><div class="ttdeci">uint32_t compact_segs</div><div class="ttdef"><b>Definition:</b> flashdisk.h:395</div></div>
<div class="ttc" id="structrtems__flashdisk__config_html_a16d44d1db2e877e5671a9c229b3b4db1"><div class="ttname"><a href="structrtems__flashdisk__config.html#a16d44d1db2e877e5671a9c229b3b4db1">rtems_flashdisk_config::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> flashdisk.h:386</div></div>
<div class="ttc" id="structrtems__flashdisk__config_html_ad06eb8b2ba70e0207374aad689d55649"><div class="ttname"><a href="structrtems__flashdisk__config.html#ad06eb8b2ba70e0207374aad689d55649">rtems_flashdisk_config::unavail_blocks</a></div><div class="ttdeci">uint32_t unavail_blocks</div><div class="ttdef"><b>Definition:</b> flashdisk.h:393</div></div>
<div class="ttc" id="structrtems__fdisk__device__desc_html_a34e346516450cb073e0cddadcbbfdd8a"><div class="ttname"><a href="structrtems__fdisk__device__desc.html#a34e346516450cb073e0cddadcbbfdd8a">rtems_fdisk_device_desc::segments</a></div><div class="ttdeci">const rtems_fdisk_segment_desc * segments</div><div class="ttdef"><b>Definition:</b> flashdisk.h:348</div></div>
<div class="ttc" id="structrtems__fdisk__segment__desc_html_ac7c616a6fc4a48edb952ef57078b89bb"><div class="ttname"><a href="structrtems__fdisk__segment__desc.html#ac7c616a6fc4a48edb952ef57078b89bb">rtems_fdisk_segment_desc::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> flashdisk.h:178</div></div>
<div class="ttc" id="rtems_8h_html"><div class="ttname"><a href="rtems_8h.html">rtems.h</a></div></div>
<div class="ttc" id="group__RTEMSFDisk_html_ga6bc9f00bbbd031f76f3024fc91a4d0b0"><div class="ttname"><a href="group__RTEMSFDisk.html#ga6bc9f00bbbd031f76f3024fc91a4d0b0">rtems_flashdisk_configuration_size</a></div><div class="ttdeci">uint32_t rtems_flashdisk_configuration_size</div><div class="ttdoc">External reference to the number of configurations. Please supply. Support is present in confdefs....</div></div>
<div class="ttc" id="structrtems__fdisk__segment__desc_html"><div class="ttname"><a href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a></div><div class="ttdoc">Flash Segment Descriptor holds, number of continuous segments in the device of this type,...</div><div class="ttdef"><b>Definition:</b> flashdisk.h:174</div></div>
<div class="ttc" id="structrtems__fdisk__monitor__data_html"><div class="ttname"><a href="structrtems__fdisk__monitor__data.html">rtems_fdisk_monitor_data</a></div><div class="ttdoc">Flash Disk Monitoring Data allows a user to obtain the current status of the disk.</div><div class="ttdef"><b>Definition:</b> flashdisk.h:144</div></div>
<div class="ttc" id="structrtems__fdisk__driver__handlers_html_a526623f353abfb0b0c770cb3e6c53cef"><div class="ttname"><a href="structrtems__fdisk__driver__handlers.html#a526623f353abfb0b0c770cb3e6c53cef">rtems_fdisk_driver_handlers::erase_device</a></div><div class="ttdeci">int(* erase_device)(const struct rtems_fdisk_device_desc *dd, uint32_t device)</div><div class="ttdef"><b>Definition:</b> flashdisk.h:329</div></div>
<div class="ttc" id="structrtems__fdisk__driver__handlers_html_aaff1b01c8f7d53fb2fd586479b155f59"><div class="ttname"><a href="structrtems__fdisk__driver__handlers.html#aaff1b01c8f7d53fb2fd586479b155f59">rtems_fdisk_driver_handlers::erase</a></div><div class="ttdeci">int(* erase)(const rtems_fdisk_segment_desc *sd, uint32_t device, uint32_t segment)</div><div class="ttdef"><b>Definition:</b> flashdisk.h:313</div></div>
<div class="ttc" id="structrtems__fdisk__segment__desc_html_a69898a46cb1e7b34ab1e11a53e352034"><div class="ttname"><a href="structrtems__fdisk__segment__desc.html#a69898a46cb1e7b34ab1e11a53e352034">rtems_fdisk_segment_desc::segment</a></div><div class="ttdeci">uint16_t segment</div><div class="ttdef"><b>Definition:</b> flashdisk.h:177</div></div>
<div class="ttc" id="sun4u_2tte_8h_html_a245260f6f74972558f61b85227df5aae"><div class="ttname"><a href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a></div><div class="ttdeci">unsigned size</div><div class="ttdef"><b>Definition:</b> tte.h:74</div></div>
<div class="ttc" id="structrtems__flashdisk__config_html_a24b0928570dd72694937dee16ebbc4e5"><div class="ttname"><a href="structrtems__flashdisk__config.html#a24b0928570dd72694937dee16ebbc4e5">rtems_flashdisk_config::avail_compact_segs</a></div><div class="ttdeci">uint32_t avail_compact_segs</div><div class="ttdef"><b>Definition:</b> flashdisk.h:403</div></div>
<div class="ttc" id="group__RTEMSFDisk_html_ga8d4fff797358538766b3bb13be596811"><div class="ttname"><a href="group__RTEMSFDisk.html#ga8d4fff797358538766b3bb13be596811">rtems_flashdisk_config</a></div><div class="ttdeci">struct rtems_flashdisk_config rtems_flashdisk_config</div><div class="ttdoc">RTEMS Flash Disk configuration table used to initialise the driver.</div></div>
<div class="ttc" id="structrtems__flashdisk__config_html_a50fe17de497dc86963fb14f36cfdf118"><div class="ttname"><a href="structrtems__flashdisk__config.html#a50fe17de497dc86963fb14f36cfdf118">rtems_flashdisk_config::block_size</a></div><div class="ttdeci">uint32_t block_size</div><div class="ttdef"><b>Definition:</b> flashdisk.h:383</div></div>
<div class="ttc" id="structrtems__fdisk__device__desc_html_a03a0061eaead224dc4f929f34851735e"><div class="ttname"><a href="structrtems__fdisk__device__desc.html#a03a0061eaead224dc4f929f34851735e">rtems_fdisk_device_desc::flash_ops</a></div><div class="ttdeci">const rtems_fdisk_driver_handlers * flash_ops</div><div class="ttdef"><b>Definition:</b> flashdisk.h:349</div></div>
<div class="ttc" id="group__RTEMSFDisk_html_ga4e1cf210089a66216e739c7ccd3ea84e"><div class="ttname"><a href="group__RTEMSFDisk.html#ga4e1cf210089a66216e739c7ccd3ea84e">rtems_fdisk_device_desc</a></div><div class="ttdeci">struct rtems_fdisk_device_desc rtems_fdisk_device_desc</div><div class="ttdoc">Flash Device Descriptor holds the segments in a device.</div></div>
<div class="ttc" id="structrtems__fdisk__device__desc_html"><div class="ttname"><a href="structrtems__fdisk__device__desc.html">rtems_fdisk_device_desc</a></div><div class="ttdoc">Flash Device Descriptor holds the segments in a device.</div><div class="ttdef"><b>Definition:</b> flashdisk.h:345</div></div>
<div class="ttc" id="structrtems__fdisk__driver__handlers_html_a7ffca2062919a41fe49e06ee1058810f"><div class="ttname"><a href="structrtems__fdisk__driver__handlers.html#a7ffca2062919a41fe49e06ee1058810f">rtems_fdisk_driver_handlers::verify</a></div><div class="ttdeci">int(* verify)(const rtems_fdisk_segment_desc *sd, uint32_t device, uint32_t segment, uint32_t offset, const void *buffer, uint32_t size)</div><div class="ttdef"><b>Definition:</b> flashdisk.h:293</div></div>
<div class="ttc" id="structrtems__fdisk__segment__desc_html_a04cde2011f4a662442909341c4768e47"><div class="ttname"><a href="structrtems__fdisk__segment__desc.html#a04cde2011f4a662442909341c4768e47">rtems_fdisk_segment_desc::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> flashdisk.h:179</div></div>
<div class="ttc" id="group__RTEMSFDisk_html_ga0af0a297f5876583c22f099ac54688c7"><div class="ttname"><a href="group__RTEMSFDisk.html#ga0af0a297f5876583c22f099ac54688c7">rtems_fdisk_segment_desc</a></div><div class="ttdeci">struct rtems_fdisk_segment_desc rtems_fdisk_segment_desc</div><div class="ttdoc">Flash Segment Descriptor holds, number of continuous segments in the device of this type,...</div></div>
<div class="ttc" id="structrtems__fdisk__driver__handlers_html"><div class="ttname"><a href="structrtems__fdisk__driver__handlers.html">rtems_fdisk_driver_handlers</a></div><div class="ttdoc">Flash Low Level driver handlers.</div><div class="ttdef"><b>Definition:</b> flashdisk.h:200</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
