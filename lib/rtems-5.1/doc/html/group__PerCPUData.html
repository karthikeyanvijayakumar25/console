<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: Flexible Per-CPU Data</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Flexible Per-CPU Data<div class="ingroups"><a class="el" href="group__RTEMSInternal.html">Internal</a> &raquo; <a class="el" href="group__RTEMSScore.html">SuperCore</a> &raquo; <a class="el" href="group__PerCPU.html">RTEMS Per CPU Information</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Flexible Per-CPU Data.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:percpudata_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="percpudata_8h.html">percpudata.h</a></td></tr>
<tr class="memdesc:percpudata_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of custom per-CPU items. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaeceb44ec5ecddd9d2a7e93b2cb4c5333"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PerCPUData.html#gaeceb44ec5ecddd9d2a7e93b2cb4c5333">PER_CPU_DATA_ITEM_DECLARE</a>(type,  item)&#160;&#160;&#160;RTEMS_LINKER_RWSET_ITEM_DECLARE( _Per_CPU_Data, type, item )</td></tr>
<tr class="memdesc:gaeceb44ec5ecddd9d2a7e93b2cb4c5333"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares a per-CPU item of the specified type.  <a href="#gaeceb44ec5ecddd9d2a7e93b2cb4c5333">More...</a><br /></td></tr>
<tr class="separator:gaeceb44ec5ecddd9d2a7e93b2cb4c5333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1e5813075233fec81e9f4bd4a5a5084"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PerCPUData.html#gac1e5813075233fec81e9f4bd4a5a5084">PER_CPU_DATA_ITEM</a>(type,  item)&#160;&#160;&#160;RTEMS_LINKER_RWSET_ITEM( _Per_CPU_Data, type, item )</td></tr>
<tr class="memdesc:gac1e5813075233fec81e9f4bd4a5a5084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines a per-CPU item of the specified type.  <a href="#gac1e5813075233fec81e9f4bd4a5a5084">More...</a><br /></td></tr>
<tr class="separator:gac1e5813075233fec81e9f4bd4a5a5084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea23d946a72e70c72bad510257f9aae3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PerCPUData.html#gaea23d946a72e70c72bad510257f9aae3">PER_CPU_DATA_OFFSET</a>(item)</td></tr>
<tr class="memdesc:gaea23d946a72e70c72bad510257f9aae3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the offset of the per-CPU item to the begin of the per-CPU data area.  <a href="#gaea23d946a72e70c72bad510257f9aae3">More...</a><br /></td></tr>
<tr class="separator:gaea23d946a72e70c72bad510257f9aae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga440fcf85fc73f7e65b357f0fdeae27f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PerCPUData.html#ga440fcf85fc73f7e65b357f0fdeae27f3">PER_CPU_DATA_GET_BY_OFFSET</a>(cpu,  type,  offset)</td></tr>
<tr class="memdesc:ga440fcf85fc73f7e65b357f0fdeae27f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer of the specified type to the per-CPU item at the specified offset for the specified processor.  <a href="#ga440fcf85fc73f7e65b357f0fdeae27f3">More...</a><br /></td></tr>
<tr class="separator:ga440fcf85fc73f7e65b357f0fdeae27f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade0bfa7d761c3fecd76535570234a98e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PerCPUData.html#gade0bfa7d761c3fecd76535570234a98e">PER_CPU_DATA_GET</a>(cpu,  type,  item)&#160;&#160;&#160;&amp;_Linker_set__Per_CPU_Data_##item, (void) cpu</td></tr>
<tr class="memdesc:gade0bfa7d761c3fecd76535570234a98e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer of the specified type to the specified per-CPU item for the specified processor.  <a href="#gade0bfa7d761c3fecd76535570234a98e">More...</a><br /></td></tr>
<tr class="separator:gade0bfa7d761c3fecd76535570234a98e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadfc060478b8184307cacf53a06582714"><td class="memItemLeft" align="right" valign="top"><a id="gadfc060478b8184307cacf53a06582714"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_LINKER_RWSET_DECLARE</b> (_Per_CPU_Data, char)</td></tr>
<tr class="separator:gadfc060478b8184307cacf53a06582714"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Flexible Per-CPU Data. </p>
<p>Provides the definition of custom per-CPU items. The items are collected in a special linker set. During system initialization the content of the linker set is duplicated for all secondary processors using memory allocated from the workspace. The begin and end of the per-CPU data area is cache line aligned (CPU_CACHE_LINE_BYTES). </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gade0bfa7d761c3fecd76535570234a98e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade0bfa7d761c3fecd76535570234a98e">&#9670;&nbsp;</a></span>PER_CPU_DATA_GET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PER_CPU_DATA_GET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cpu, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">item&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;&amp;_Linker_set__Per_CPU_Data_##item, (void) cpu</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer of the specified type to the specified per-CPU item for the specified processor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cpu</td><td>The processor of the item. </td></tr>
    <tr><td class="paramname">type</td><td>The type of the item. </td></tr>
    <tr><td class="paramname">item</td><td>The designator of the item. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga440fcf85fc73f7e65b357f0fdeae27f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga440fcf85fc73f7e65b357f0fdeae27f3">&#9670;&nbsp;</a></span>PER_CPU_DATA_GET_BY_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PER_CPU_DATA_GET_BY_OFFSET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">cpu, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">offset&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(type *) ( (uintptr_t) RTEMS_LINKER_SET_BEGIN( _Per_CPU_Data ) + offset ), \</div><div class="line">    (<span class="keywordtype">void</span>) cpu</div></div><!-- fragment -->
<p>Returns a pointer of the specified type to the per-CPU item at the specified offset for the specified processor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cpu</td><td>The processor of the item. </td></tr>
    <tr><td class="paramname">type</td><td>The type of the item. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset of the item. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac1e5813075233fec81e9f4bd4a5a5084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1e5813075233fec81e9f4bd4a5a5084">&#9670;&nbsp;</a></span>PER_CPU_DATA_ITEM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PER_CPU_DATA_ITEM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">item&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;RTEMS_LINKER_RWSET_ITEM( _Per_CPU_Data, type, item )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines a per-CPU item of the specified type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of the item. </td></tr>
    <tr><td class="paramname">item</td><td>The designator of the item. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaeceb44ec5ecddd9d2a7e93b2cb4c5333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeceb44ec5ecddd9d2a7e93b2cb4c5333">&#9670;&nbsp;</a></span>PER_CPU_DATA_ITEM_DECLARE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PER_CPU_DATA_ITEM_DECLARE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">item&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;RTEMS_LINKER_RWSET_ITEM_DECLARE( _Per_CPU_Data, type, item )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declares a per-CPU item of the specified type. </p>
<p>Items declared with this macro have external linkage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of the item. </td></tr>
    <tr><td class="paramname">item</td><td>The designator of the item. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaea23d946a72e70c72bad510257f9aae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea23d946a72e70c72bad510257f9aae3">&#9670;&nbsp;</a></span>PER_CPU_DATA_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PER_CPU_DATA_OFFSET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">item</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">( (uintptr_t) &amp;_Linker_set__Per_CPU_Data_##item \</div><div class="line">    - (uintptr_t) RTEMS_LINKER_SET_BEGIN( _Per_CPU_Data ) )</div></div><!-- fragment -->
<p>Returns the offset of the per-CPU item to the begin of the per-CPU data area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">item</td><td>The designator of the item. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
