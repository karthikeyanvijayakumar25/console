<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: rtems_fdisk_driver_handlers Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">rtems_fdisk_driver_handlers Struct Reference<div class="ingroups"><a class="el" href="group__RTEMSDeviceDrivers.html">Device Drivers</a> &raquo; <a class="el" href="group__rtems__libblock.html">Block Device Library</a> &raquo; <a class="el" href="group__rtems__blkdev.html">Block Device Management</a> &raquo; <a class="el" href="group__RTEMSFDisk.html">Flash Disk Device</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Flash Low Level driver handlers.  
 <a href="structrtems__fdisk__driver__handlers.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="flashdisk_8h_source.html">flashdisk.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:ad1c83b556560e58b379cd6faba061959"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__fdisk__driver__handlers.html#ad1c83b556560e58b379cd6faba061959">read</a> )(const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment, uint32_t offset, void *buffer, uint32_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:ad1c83b556560e58b379cd6faba061959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14430a22a8f1b7a9bfd9329c1041a809"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__fdisk__driver__handlers.html#a14430a22a8f1b7a9bfd9329c1041a809">write</a> )(const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment, uint32_t offset, const void *buffer, uint32_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:a14430a22a8f1b7a9bfd9329c1041a809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afab24fd17437d920f877eb533fb849f3"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__fdisk__driver__handlers.html#afab24fd17437d920f877eb533fb849f3">blank</a> )(const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment, uint32_t offset, uint32_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:afab24fd17437d920f877eb533fb849f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ffca2062919a41fe49e06ee1058810f"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__fdisk__driver__handlers.html#a7ffca2062919a41fe49e06ee1058810f">verify</a> )(const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment, uint32_t offset, const void *buffer, uint32_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:a7ffca2062919a41fe49e06ee1058810f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff1b01c8f7d53fb2fd586479b155f59"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__fdisk__driver__handlers.html#aaff1b01c8f7d53fb2fd586479b155f59">erase</a> )(const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment)</td></tr>
<tr class="separator:aaff1b01c8f7d53fb2fd586479b155f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526623f353abfb0b0c770cb3e6c53cef"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__fdisk__driver__handlers.html#a526623f353abfb0b0c770cb3e6c53cef">erase_device</a> )(const struct <a class="el" href="structrtems__fdisk__device__desc.html">rtems_fdisk_device_desc</a> *dd, uint32_t <a class="el" href="structdevice.html">device</a>)</td></tr>
<tr class="separator:a526623f353abfb0b0c770cb3e6c53cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Flash Low Level driver handlers. </p>
<p>Typically this structure is part of a table of handlers in the device which is referenced in the flash disk configuration table. The reference is kept in the driver and used all the time to manage the flash device, therefore it must always exist. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="afab24fd17437d920f877eb533fb849f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afab24fd17437d920f877eb533fb849f3">&#9670;&nbsp;</a></span>blank</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* rtems_fdisk_driver_handlers::blank) (const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment, uint32_t offset, uint32_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Blank a segment in the device. Return an errno error number if the device cannot be read or is not blank. A segment descriptor can describe more than segment in a device if the device has repeating segments. The segment number is the device segment to access and the segment descriptor must reference the segment being requested. For example the segment number must resided in the range [base, base + count).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sd</td><td>The segment descriptor. </td></tr>
    <tr><td class="paramname">device</td><td>The device to read data from. </td></tr>
    <tr><td class="paramname">segment</td><td>The segment within the device to read. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset in the segment to checl. </td></tr>
    <tr><td class="paramname">size</td><td>The amount of data to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No error. </td></tr>
    <tr><td class="paramname">EIO</td><td>The segment is not blank. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaff1b01c8f7d53fb2fd586479b155f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaff1b01c8f7d53fb2fd586479b155f59">&#9670;&nbsp;</a></span>erase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* rtems_fdisk_driver_handlers::erase) (const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erase the segment. Return an errno error number if the segment cannot be erased. A segment descriptor can describe more than segment in a device if the device has repeating segments. The segment number is the device segment to access and the segment descriptor must reference the segment being requested.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sd</td><td>The segment descriptor. </td></tr>
    <tr><td class="paramname">device</td><td>The device to erase the segment of. </td></tr>
    <tr><td class="paramname">segment</td><td>The segment within the device to erase. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No error. </td></tr>
    <tr><td class="paramname">EIO</td><td>The segment was not erased. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a526623f353abfb0b0c770cb3e6c53cef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a526623f353abfb0b0c770cb3e6c53cef">&#9670;&nbsp;</a></span>erase_device</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* rtems_fdisk_driver_handlers::erase_device) (const struct <a class="el" href="structrtems__fdisk__device__desc.html">rtems_fdisk_device_desc</a> *dd, uint32_t <a class="el" href="structdevice.html">device</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erase the device. Return an errno error number if the segment cannot be erased. A segment descriptor can describe more than segment in a device if the device has repeating segments. The segment number is the segment to access and the segment descriptor must reference the segment being requested.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sd</td><td>The segment descriptor. </td></tr>
    <tr><td class="paramname">device</td><td>The device to erase. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No error. </td></tr>
    <tr><td class="paramname">EIO</td><td>The device was not erased. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad1c83b556560e58b379cd6faba061959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1c83b556560e58b379cd6faba061959">&#9670;&nbsp;</a></span>read</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* rtems_fdisk_driver_handlers::read) (const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment, uint32_t offset, void *buffer, uint32_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read data from the device into the buffer. Return an errno error number if the device cannot be read. A segment descriptor can describe more than one segment in a device if the device has repeating segments. The segment number is the device segment to access and the segment descriptor must reference the segment being requested. For example the segment number must resided in the range [base, base + count).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sd</td><td>The segment descriptor. </td></tr>
    <tr><td class="paramname">device</td><td>The device to read data from. </td></tr>
    <tr><td class="paramname">segment</td><td>The segment within the device to read. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset in the segment to read. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer to read the data into. </td></tr>
    <tr><td class="paramname">size</td><td>The amount of data to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No error. </td></tr>
    <tr><td class="paramname">EIO</td><td>The read did not complete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7ffca2062919a41fe49e06ee1058810f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ffca2062919a41fe49e06ee1058810f">&#9670;&nbsp;</a></span>verify</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* rtems_fdisk_driver_handlers::verify) (const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment, uint32_t offset, const void *buffer, uint32_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Verify data in the buffer to the data in the device. Return an errno error number if the device cannot be read. A segment descriptor can describe more than segment in a device if the device has repeating segments. The segment number is the segment to access and the segment descriptor must reference the device segment being requested. For example the segment number must resided in the range [base, base + count).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sd</td><td>The segment descriptor. </td></tr>
    <tr><td class="paramname">device</td><td>The device to verify data in. </td></tr>
    <tr><td class="paramname">segment</td><td>The segment within the device to verify. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset in the segment to verify. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer to verify the data in the device with. </td></tr>
    <tr><td class="paramname">size</td><td>The amount of data to verify. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No error. </td></tr>
    <tr><td class="paramname">EIO</td><td>The data did not verify. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a14430a22a8f1b7a9bfd9329c1041a809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14430a22a8f1b7a9bfd9329c1041a809">&#9670;&nbsp;</a></span>write</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* rtems_fdisk_driver_handlers::write) (const <a class="el" href="structrtems__fdisk__segment__desc.html">rtems_fdisk_segment_desc</a> *sd, uint32_t <a class="el" href="structdevice.html">device</a>, uint32_t segment, uint32_t offset, const void *buffer, uint32_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write data from the buffer to the device. Return an errno error number if the device cannot be written to. A segment descriptor can describe more than segment in a device if the device has repeating segments. The segment number is the device segment to access and the segment descriptor must reference the segment being requested. For example the segment number must resided in the range [base, base + count).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sd</td><td>The segment descriptor. </td></tr>
    <tr><td class="paramname">device</td><td>The device to write data from. </td></tr>
    <tr><td class="paramname">segment</td><td>The segment within the device to write to. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset in the segment to write. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer to write the data from. </td></tr>
    <tr><td class="paramname">size</td><td>The amount of data to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>No error. </td></tr>
    <tr><td class="paramname">EIO</td><td>The write did not complete or verify. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>cpukit/include/rtems/<a class="el" href="flashdisk_8h_source.html">flashdisk.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
