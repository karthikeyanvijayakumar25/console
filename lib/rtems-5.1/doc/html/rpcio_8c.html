<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: cpukit/libfs/src/nfsclient/src/rpcio.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cd198e36225ba3f41de97552050ac017.html">cpukit</a></li><li class="navelem"><a class="el" href="dir_8c02ade8afce3eac690e731f5f9c9c6b.html">libfs</a></li><li class="navelem"><a class="el" href="dir_041fc813358fb6440efb58035ae3b331.html">src</a></li><li class="navelem"><a class="el" href="dir_8a44d99e434b9b89fc304003f8bd490d.html">nfsclient</a></li><li class="navelem"><a class="el" href="dir_b4a38934241e77be0e38603917ad4e16.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rpcio.c File Reference<div class="ingroups"><a class="el" href="group__LibIO.html">IO Library</a> &raquo; <a class="el" href="group__FileSystemTypesAndMount.html">File System Types and Mount</a> &raquo; <a class="el" href="group__libfs.html">libfs</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>RPC Multiplexor for a Multitasking Environment.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="inttypes_8h_source.html">inttypes.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rtems_8h_source.html">rtems.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="error_8h_source.html">rtems/error.h</a>&gt;</code><br />
<code>#include &lt;rtems/rtems_bsdnet.h&gt;</code><br />
<code>#include &lt;rtems/thread.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;rpc/rpc.h&gt;</code><br />
<code>#include &lt;rpc/pmap_prot.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;sys/ioctl.h&gt;</code><br />
<code>#include &lt;<a class="el" href="assert_8h_source.html">assert.h</a>&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;sys/cpuset.h&gt;</code><br />
<code>#include &quot;<a class="el" href="rpcio_8h_source.html">rpcio.h</a>&quot;</code><br />
<code>#include &quot;nfsclient-private.h&quot;</code><br />
<code>#include &lt;sys/mbuf.h&gt;</code><br />
<code>#include &lt;rtems/rtems_bsdnet_internal.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structListNodeRec__.html">ListNodeRec_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRpcUdpServerRec__.html">RpcUdpServerRec_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionRpcBufU__.html">RpcBufU_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRpcUdpXactRec__.html">RpcUdpXactRec_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRpcUdpXactPoolRec__.html">RpcUdpXactPoolRec_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a53ba365ce30cceed87b7c5bdfe57fbe6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>MBUF_RX</b></td></tr>
<tr class="separator:a53ba365ce30cceed87b7c5bdfe57fbe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d02da1b0a83f5915b0ce7c38fcde0a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>MBUF_TX</b></td></tr>
<tr class="separator:a1d02da1b0a83f5915b0ce7c38fcde0a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace0258f92e80a3400268db61eaef572f"><td class="memItemLeft" align="right" valign="top"><a id="ace0258f92e80a3400268db61eaef572f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_STACK</b>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:ace0258f92e80a3400268db61eaef572f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa269c0ddbac81855025c0ad5c73c40d9"><td class="memItemLeft" align="right" valign="top"><a id="aa269c0ddbac81855025c0ad5c73c40d9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_PRIO</b>&#160;&#160;&#160;100	/* *fallback* priority */</td></tr>
<tr class="separator:aa269c0ddbac81855025c0ad5c73c40d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4419b22acc6b4c107104f5d19dbe4e98"><td class="memItemLeft" align="right" valign="top"><a id="a4419b22acc6b4c107104f5d19dbe4e98"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_QDEPTH</b>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a4419b22acc6b4c107104f5d19dbe4e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e74c71f221f8a514c3cf12ee7658175"><td class="memItemLeft" align="right" valign="top"><a id="a1e74c71f221f8a514c3cf12ee7658175"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_RETX_CAP_S</b>&#160;&#160;&#160;3 /* seconds */</td></tr>
<tr class="separator:a1e74c71f221f8a514c3cf12ee7658175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad93a3076cac261d3be21502abb782b0e"><td class="memItemLeft" align="right" valign="top"><a id="ad93a3076cac261d3be21502abb782b0e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_DEFAULT_TIMEOUT</b>&#160;&#160;&#160;(&amp;_rpc_default_timeout)</td></tr>
<tr class="separator:ad93a3076cac261d3be21502abb782b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f16fd10c6b2471794fb7a66114fe45f"><td class="memItemLeft" align="right" valign="top"><a id="a1f16fd10c6b2471794fb7a66114fe45f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_REFRESH</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a1f16fd10c6b2471794fb7a66114fe45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9bc913d7e754e4a45b6de34dfb21a19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RPC_EVENT</b></td></tr>
<tr class="separator:af9bc913d7e754e4a45b6de34dfb21a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2128f765af9d2f11d5c5bc036227c4ba"><td class="memItemLeft" align="right" valign="top"><a id="a2128f765af9d2f11d5c5bc036227c4ba"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_RX_EVENT</b>&#160;&#160;&#160;<a class="el" href="group__ClassicEventSet.html#ga9f027021d0070d4f9e35cccb41029e2d">RTEMS_EVENT_1</a>	/* Events the RPCIOD is using/waiting for */</td></tr>
<tr class="separator:a2128f765af9d2f11d5c5bc036227c4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9325e6767cb853e3fcd447819e752b4e"><td class="memItemLeft" align="right" valign="top"><a id="a9325e6767cb853e3fcd447819e752b4e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_TX_EVENT</b>&#160;&#160;&#160;<a class="el" href="group__ClassicEventSet.html#gabe43c4a86241e31321b3cfe70045dca6">RTEMS_EVENT_2</a></td></tr>
<tr class="separator:a9325e6767cb853e3fcd447819e752b4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896916c90799f6b1484000983c5027fe"><td class="memItemLeft" align="right" valign="top"><a id="a896916c90799f6b1484000983c5027fe"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_KILL_EVENT</b>&#160;&#160;&#160;<a class="el" href="group__ClassicEventSet.html#ga59fb1c14abb8996e91c0cbf3276be503">RTEMS_EVENT_3</a>	/* send to the daemon to kill it          */</td></tr>
<tr class="separator:a896916c90799f6b1484000983c5027fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af68984ddab866d32557a47026e4a2f5c"><td class="memItemLeft" align="right" valign="top"><a id="af68984ddab866d32557a47026e4a2f5c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LD_XACT_HASH</b>&#160;&#160;&#160;8				/* ld of the <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a> of the transaction hash table  */</td></tr>
<tr class="separator:af68984ddab866d32557a47026e4a2f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7999e5413c19653295c138ced8c8eb8e"><td class="memItemLeft" align="right" valign="top"><a id="a7999e5413c19653295c138ced8c8eb8e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG_TRACE_XACT</b>&#160;&#160;&#160;(1&lt;&lt;0)</td></tr>
<tr class="separator:a7999e5413c19653295c138ced8c8eb8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a133d8993848d3fa2c41270511f133eb7"><td class="memItemLeft" align="right" valign="top"><a id="a133d8993848d3fa2c41270511f133eb7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG_EVENTS</b>&#160;&#160;&#160;(1&lt;&lt;1)</td></tr>
<tr class="separator:a133d8993848d3fa2c41270511f133eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba9671b92b29e61edd8101571604c94"><td class="memItemLeft" align="right" valign="top"><a id="abba9671b92b29e61edd8101571604c94"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG_MALLOC</b>&#160;&#160;&#160;(1&lt;&lt;2)</td></tr>
<tr class="separator:abba9671b92b29e61edd8101571604c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907f05192f20345402ba2d5ca1e475e6"><td class="memItemLeft" align="right" valign="top"><a id="a907f05192f20345402ba2d5ca1e475e6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG_TIMEOUT</b>&#160;&#160;&#160;(1&lt;&lt;3)</td></tr>
<tr class="separator:a907f05192f20345402ba2d5ca1e475e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52e7ee5cb5102b4fce31ac5ac5179c17"><td class="memItemLeft" align="right" valign="top"><a id="a52e7ee5cb5102b4fce31ac5ac5179c17"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG_PACKLOSS</b>&#160;&#160;&#160;(1&lt;&lt;4)	/* This introduces random, artificial <a class="el" href="structpacket.html">packet</a> losses to test retransmission */</td></tr>
<tr class="separator:a52e7ee5cb5102b4fce31ac5ac5179c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d49c6700b09dc0dacf1dd836001ce9"><td class="memItemLeft" align="right" valign="top"><a id="a54d49c6700b09dc0dacf1dd836001ce9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG_PACKLOSS_FRACT</b>&#160;&#160;&#160;(0xffffffff/10)</td></tr>
<tr class="separator:a54d49c6700b09dc0dacf1dd836001ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad72dbcf6d0153db1b8d8a58001feed83"><td class="memItemLeft" align="right" valign="top"><a id="ad72dbcf6d0153db1b8d8a58001feed83"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG</b>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:ad72dbcf6d0153db1b8d8a58001feed83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2290f47ac596fa24e320d2cc32c9e0"><td class="memItemLeft" align="right" valign="top"><a id="a0b2290f47ac596fa24e320d2cc32c9e0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_EPOCH_SECS</b>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:a0b2290f47ac596fa24e320d2cc32c9e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2207e97d8d90434d1fc63a6501f8bba0"><td class="memItemLeft" align="right" valign="top"><a id="a2207e97d8d90434d1fc63a6501f8bba0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ASSERT</b>(arg)&#160;&#160;&#160;assert(arg)</td></tr>
<tr class="separator:a2207e97d8d90434d1fc63a6501f8bba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec17f4b15ebbf96c4732ea62dd3d519a"><td class="memItemLeft" align="right" valign="top"><a id="aec17f4b15ebbf96c4732ea62dd3d519a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XACT_HASHS</b>&#160;&#160;&#160;(1&lt;&lt;(LD_XACT_HASH))	/* the hash table <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a> derived from the ld       */</td></tr>
<tr class="separator:aec17f4b15ebbf96c4732ea62dd3d519a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ce4f42ce25ce91e51502bd9e65dc6e"><td class="memItemLeft" align="right" valign="top"><a id="a85ce4f42ce25ce91e51502bd9e65dc6e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XACT_HASH_MSK</b>&#160;&#160;&#160;((XACT_HASHS)-1)	/* mask to extract the hash index from a RPC-XID */</td></tr>
<tr class="separator:a85ce4f42ce25ce91e51502bd9e65dc6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada0590f72b2ef7684484488e130919f7"><td class="memItemLeft" align="right" valign="top"><a id="ada0590f72b2ef7684484488e130919f7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MU_LOCK</b>(<a class="el" href="structmutex.html">mutex</a>)&#160;&#160;&#160;rtems_recursive_mutex_lock(&amp;(<a class="el" href="structmutex.html">mutex</a>))</td></tr>
<tr class="separator:ada0590f72b2ef7684484488e130919f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8892b8020c216e40e3e457e728e515a"><td class="memItemLeft" align="right" valign="top"><a id="aa8892b8020c216e40e3e457e728e515a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MU_UNLOCK</b>(<a class="el" href="structmutex.html">mutex</a>)&#160;&#160;&#160;rtems_recursive_mutex_unlock(&amp;(<a class="el" href="structmutex.html">mutex</a>))</td></tr>
<tr class="separator:aa8892b8020c216e40e3e457e728e515a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ef5cb8a9596c54b387293763f04eab"><td class="memItemLeft" align="right" valign="top"><a id="a02ef5cb8a9596c54b387293763f04eab"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MU_CREAT</b>(pmutex)&#160;&#160;&#160;rtems_recursive_mutex_init((pmutex), &quot;RPCl&quot;)</td></tr>
<tr class="separator:a02ef5cb8a9596c54b387293763f04eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf4dc32f05726e0e304f97b132adbf6"><td class="memItemLeft" align="right" valign="top"><a id="a4bf4dc32f05726e0e304f97b132adbf6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MU_DESTROY</b>(<a class="el" href="structmutex.html">mutex</a>)&#160;&#160;&#160;rtems_recursive_mutex_destroy(&amp;(<a class="el" href="structmutex.html">mutex</a>))</td></tr>
<tr class="separator:a4bf4dc32f05726e0e304f97b132adbf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ca6a65c7291e92f43aa0c688df4a3a"><td class="memItemLeft" align="right" valign="top"><a id="a90ca6a65c7291e92f43aa0c688df4a3a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FIRST_ATTEMPT</b>&#160;&#160;&#160;0x88888888 /* some time that is never reached */</td></tr>
<tr class="separator:a90ca6a65c7291e92f43aa0c688df4a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4559b8bc5d902d9c0235faba241a14"><td class="memItemLeft" align="right" valign="top"><a id="a3b4559b8bc5d902d9c0235faba241a14"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>XID</b>(ibuf)&#160;&#160;&#160;(*(mtod((ibuf), u_long *)))</td></tr>
<tr class="separator:a3b4559b8bc5d902d9c0235faba241a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f03a70efc51383417c9b87355aefd96"><td class="memItemLeft" align="right" valign="top"><a id="a7f03a70efc51383417c9b87355aefd96"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SENDTO</b>&#160;&#160;&#160;sendto_nocpy</td></tr>
<tr class="separator:a7f03a70efc51383417c9b87355aefd96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20430f0b0494725e5c8e05c4fe18f57"><td class="memItemLeft" align="right" valign="top"><a id="ae20430f0b0494725e5c8e05c4fe18f57"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MY_MALLOC</b>&#160;&#160;&#160;malloc</td></tr>
<tr class="separator:ae20430f0b0494725e5c8e05c4fe18f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874c698053bc153b85b9fb63774cb73b"><td class="memItemLeft" align="right" valign="top"><a id="a874c698053bc153b85b9fb63774cb73b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MY_CALLOC</b>&#160;&#160;&#160;calloc</td></tr>
<tr class="separator:a874c698053bc153b85b9fb63774cb73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee236fc01ac3fa7aaecc64a84ae32554"><td class="memItemLeft" align="right" valign="top"><a id="aee236fc01ac3fa7aaecc64a84ae32554"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MY_FREE</b>&#160;&#160;&#160;free</td></tr>
<tr class="separator:aee236fc01ac3fa7aaecc64a84ae32554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05139054c407de0f99b730567609cb34"><td class="memItemLeft" align="right" valign="top"><a id="a05139054c407de0f99b730567609cb34"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_KERNEL</b></td></tr>
<tr class="separator:a05139054c407de0f99b730567609cb34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6292975819fd02d4262e0a40c53cd5ef"><td class="memItemLeft" align="right" valign="top"><a id="a6292975819fd02d4262e0a40c53cd5ef"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPCIOD_RXBUFSZ</b>&#160;&#160;&#160;UDPMSGSIZE</td></tr>
<tr class="separator:a6292975819fd02d4262e0a40c53cd5ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a54fe1b1f3f1953d20ceb413d1a9febfa"><td class="memItemLeft" align="right" valign="top"><a id="a54fe1b1f3f1953d20ceb413d1a9febfa"></a>
typedef <a class="el" href="group__ClassicTasks.html#gad39c43f949683d46874e3a5586b93aee">rtems_interval</a>&#160;</td><td class="memItemRight" valign="bottom"><b>TimeoutT</b></td></tr>
<tr class="separator:a54fe1b1f3f1953d20ceb413d1a9febfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875bc7f72bfd31c305485a69bf295f40"><td class="memItemLeft" align="right" valign="top"><a id="a875bc7f72bfd31c305485a69bf295f40"></a>
typedef struct <a class="el" href="structListNodeRec__.html">ListNodeRec_</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ListNodeRec</b></td></tr>
<tr class="separator:a875bc7f72bfd31c305485a69bf295f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05fe453d95d9e967c4b56c4d7a830dc9"><td class="memItemLeft" align="right" valign="top"><a id="a05fe453d95d9e967c4b56c4d7a830dc9"></a>
typedef struct <a class="el" href="structListNodeRec__.html">ListNodeRec_</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>ListNode</b></td></tr>
<tr class="separator:a05fe453d95d9e967c4b56c4d7a830dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309842fec371e8e28b3934f7ccd99cca"><td class="memItemLeft" align="right" valign="top"><a id="a309842fec371e8e28b3934f7ccd99cca"></a>
typedef struct <a class="el" href="structRpcUdpServerRec__.html">RpcUdpServerRec_</a>&#160;</td><td class="memItemRight" valign="bottom"><b>RpcUdpServerRec</b></td></tr>
<tr class="separator:a309842fec371e8e28b3934f7ccd99cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189ec2a181c5e8df1f949e1f41794bea"><td class="memItemLeft" align="right" valign="top"><a id="a189ec2a181c5e8df1f949e1f41794bea"></a>
typedef union <a class="el" href="unionRpcBufU__.html">RpcBufU_</a>&#160;</td><td class="memItemRight" valign="bottom"><b>RpcBufU</b></td></tr>
<tr class="separator:a189ec2a181c5e8df1f949e1f41794bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb3c0e5549e140e71b9c1e3a2ac7c6ce"><td class="memItemLeft" align="right" valign="top"><a id="acb3c0e5549e140e71b9c1e3a2ac7c6ce"></a>
typedef union <a class="el" href="unionRpcBufU__.html">RpcBufU_</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>RpcBuf</b></td></tr>
<tr class="separator:acb3c0e5549e140e71b9c1e3a2ac7c6ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae39fb2a68fdd590947d322f5a3ed0eae"><td class="memItemLeft" align="right" valign="top"><a id="ae39fb2a68fdd590947d322f5a3ed0eae"></a>
typedef struct mbuf *&#160;</td><td class="memItemRight" valign="bottom"><b>RxBuf</b></td></tr>
<tr class="separator:ae39fb2a68fdd590947d322f5a3ed0eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a374b5ffdbd42b5317c0f723a0ccb0620"><td class="memItemLeft" align="right" valign="top"><a id="a374b5ffdbd42b5317c0f723a0ccb0620"></a>
typedef struct <a class="el" href="structRpcUdpXactRec__.html">RpcUdpXactRec_</a>&#160;</td><td class="memItemRight" valign="bottom"><b>RpcUdpXactRec</b></td></tr>
<tr class="separator:a374b5ffdbd42b5317c0f723a0ccb0620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbdff1ff9f6b51bcde8175d70614794e"><td class="memItemLeft" align="right" valign="top"><a id="abbdff1ff9f6b51bcde8175d70614794e"></a>
typedef struct <a class="el" href="structRpcUdpXactPoolRec__.html">RpcUdpXactPoolRec_</a>&#160;</td><td class="memItemRight" valign="bottom"><b>RpcUdpXactPoolRec</b></td></tr>
<tr class="separator:abbdff1ff9f6b51bcde8175d70614794e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af8f03a2f09e539e4af9d930c1f0fb554"><td class="memItemLeft" align="right" valign="top"><a id="af8f03a2f09e539e4af9d930c1f0fb554"></a>
ssize_t&#160;</td><td class="memItemRight" valign="bottom"><b>sendto_nocpy</b> (int s, const void *buf, size_t buflen, int flags, const struct sockaddr *toaddr, int tolen, void *closure, void(*freeproc)(caddr_t, u_int), void(*refproc)(caddr_t, u_int))</td></tr>
<tr class="separator:af8f03a2f09e539e4af9d930c1f0fb554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01ae0f3c23d1ae9eec7f461a6bef0d05"><td class="memItemLeft" align="right" valign="top">
enum clnt_stat&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpServerCreate</b> (struct sockaddr_in *paddr, rpcprog_t prog, rpcvers_t vers, u_long uid, u_long gid, <a class="el" href="structRpcUdpServerRec__.html">RpcUdpServer</a> *psrv)</td></tr>
<tr class="separator:ga01ae0f3c23d1ae9eec7f461a6bef0d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaefd644081168135cdfe1ee1aa375d41b"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpServerDestroy</b> (<a class="el" href="structRpcUdpServerRec__.html">RpcUdpServer</a> s)</td></tr>
<tr class="separator:gaefd644081168135cdfe1ee1aa375d41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25eec2b7dd88494b276528b6d765ba40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtems-nfsclient.html#ga25eec2b7dd88494b276528b6d765ba40">rpcUdpStats</a> (FILE *f)</td></tr>
<tr class="memdesc:ga25eec2b7dd88494b276528b6d765ba40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump statistics to a file (stdout if NULL);.  <a href="group__rtems-nfsclient.html#ga25eec2b7dd88494b276528b6d765ba40">More...</a><br /></td></tr>
<tr class="separator:ga25eec2b7dd88494b276528b6d765ba40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35cc0975e13413fc428b6ef1bc721507"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="structRpcUdpXactRec__.html">RpcUdpXact</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpXactCreate</b> (u_long program, u_long version, u_long <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:ga35cc0975e13413fc428b6ef1bc721507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf0c4c3bf95c419b6191486f49bfe23b"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpXactDestroy</b> (<a class="el" href="structRpcUdpXactRec__.html">RpcUdpXact</a> xact)</td></tr>
<tr class="separator:gaaf0c4c3bf95c419b6191486f49bfe23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00b3bdde30fc2fd22e2682893a894b25"><td class="memItemLeft" align="right" valign="top">enum clnt_stat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtems-nfsclient.html#ga00b3bdde30fc2fd22e2682893a894b25">rpcUdpSend</a> (<a class="el" href="structRpcUdpXactRec__.html">RpcUdpXact</a> xact, <a class="el" href="structRpcUdpServerRec__.html">RpcUdpServer</a> srvr, struct timeval *timeout, u_long proc, xdrproc_t xres, caddr_t pres, xdrproc_t xargs, caddr_t pargs,...)</td></tr>
<tr class="separator:ga00b3bdde30fc2fd22e2682893a894b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4490140cfcdd8411b086baa573d44ca6"><td class="memItemLeft" align="right" valign="top">
enum clnt_stat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rtems-nfsclient.html#ga4490140cfcdd8411b086baa573d44ca6">rpcUdpRcv</a> (<a class="el" href="structRpcUdpXactRec__.html">RpcUdpXact</a> xact)</td></tr>
<tr class="memdesc:ga4490140cfcdd8411b086baa573d44ca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a transaction to complete. <br /></td></tr>
<tr class="separator:ga4490140cfcdd8411b086baa573d44ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53299c25dc1cfc41acf1580bd2cb0063"><td class="memItemLeft" align="right" valign="top"><a id="a53299c25dc1cfc41acf1580bd2cb0063"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>rpcSetXIDs</b> (uint32_t xid)</td></tr>
<tr class="separator:a53299c25dc1cfc41acf1580bd2cb0063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504f9b29d65792939b879804a4f0a2c8"><td class="memItemLeft" align="right" valign="top"><a id="a504f9b29d65792939b879804a4f0a2c8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpInit</b> (void)</td></tr>
<tr class="separator:a504f9b29d65792939b879804a4f0a2c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af17464fff7cb6855147ab74eafe3b989"><td class="memItemLeft" align="right" valign="top"><a id="af17464fff7cb6855147ab74eafe3b989"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpCleanup</b> (void)</td></tr>
<tr class="separator:af17464fff7cb6855147ab74eafe3b989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga580b75ce413eaf48c457c2eaa050cbc3"><td class="memItemLeft" align="right" valign="top">
enum clnt_stat&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpClntCreate</b> (struct sockaddr_in *psaddr, rpcprog_t prog, rpcvers_t vers, u_long uid, u_long gid, <a class="el" href="structRpcUdpXactRec__.html">RpcUdpClnt</a> *pclnt)</td></tr>
<tr class="separator:ga580b75ce413eaf48c457c2eaa050cbc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6a67c1cc59d4ca22853736249a4946a"><td class="memItemLeft" align="right" valign="top">
enum clnt_stat&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpClntCall</b> (<a class="el" href="structRpcUdpXactRec__.html">RpcUdpClnt</a> xact, u_long proc, <a class="el" href="group__rtems-nfsclient.html#gac22c99bf609cf4f3e1b601de1c157275">XdrProcT</a> xargs, CaddrT pargs, <a class="el" href="group__rtems-nfsclient.html#gac22c99bf609cf4f3e1b601de1c157275">XdrProcT</a> xres, CaddrT pres, struct timeval *timeout)</td></tr>
<tr class="separator:gac6a67c1cc59d4ca22853736249a4946a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5eaac63bdc58a61aecdf97c789139fcb"><td class="memItemLeft" align="right" valign="top">
enum clnt_stat&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpCallRp</b> (struct sockaddr_in *psrvr, u_long prog, u_long vers, u_long proc, <a class="el" href="group__rtems-nfsclient.html#gac22c99bf609cf4f3e1b601de1c157275">XdrProcT</a> xargs, CaddrT pargs, <a class="el" href="group__rtems-nfsclient.html#gac22c99bf609cf4f3e1b601de1c157275">XdrProcT</a> xres, CaddrT pres, u_long uid, u_long gid, struct timeval *timeout)</td></tr>
<tr class="separator:ga5eaac63bdc58a61aecdf97c789139fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ea52f547f9830e6c53c3b5e9048b7aa"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="structRpcUdpXactPoolRec__.html">RpcUdpXactPool</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpXactPoolCreate</b> (rpcprog_t prog, rpcvers_t version, int xactsize, int poolsize)</td></tr>
<tr class="separator:ga1ea52f547f9830e6c53c3b5e9048b7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4528db9d66000e3f25648ee98aa094d"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpXactPoolDestroy</b> (<a class="el" href="structRpcUdpXactPoolRec__.html">RpcUdpXactPool</a> pool)</td></tr>
<tr class="separator:gaa4528db9d66000e3f25648ee98aa094d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7256ab97363bceeea0e6f1a36b4f9d80"><td class="memItemLeft" align="right" valign="top">
<a class="el" href="structRpcUdpXactRec__.html">RpcUdpXact</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpXactPoolGet</b> (<a class="el" href="structRpcUdpXactPoolRec__.html">RpcUdpXactPool</a> pool, XactPoolGetMode mode)</td></tr>
<tr class="separator:ga7256ab97363bceeea0e6f1a36b4f9d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga309c242fe256e8f005cb3a668dee45ad"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><b>rpcUdpXactPoolPut</b> (<a class="el" href="structRpcUdpXactRec__.html">RpcUdpXact</a> xact)</td></tr>
<tr class="separator:ga309c242fe256e8f005cb3a668dee45ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6868a4de133baafb51999c55d22d5bd1"><td class="memItemLeft" align="right" valign="top"><a id="a6868a4de133baafb51999c55d22d5bd1"></a>
<a class="el" href="group__ClassicTasks.html#gaa80a0c0938307d1e99d0eb5fee765b47">rtems_task_priority</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rpciodPriority</b> = 0</td></tr>
<tr class="separator:a6868a4de133baafb51999c55d22d5bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RPC Multiplexor for a Multitasking Environment. </p>
<p>This code funnels arbitrary task's UDP/RPC requests through one socket to arbitrary servers. The replies are gathered and dispatched to the requestors. One task handles all the sending and receiving work including retries. It is up to the requestor, however, to do the XDR encoding of the arguments / decoding of the results (except for the RPC header which is handled by the daemon). </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a53ba365ce30cceed87b7c5bdfe57fbe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53ba365ce30cceed87b7c5bdfe57fbe6">&#9670;&nbsp;</a></span>MBUF_RX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBUF_RX</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="comment">/* If defined: use mbuf XDR stream for</span></div><div class="line"><span class="comment">                         *  decoding directly out of mbufs</span></div><div class="line"><span class="comment">                         *  Otherwise, the regular &#39;recvfrom()&#39;</span></div><div class="line"><span class="comment">                         *  interface will be used involving an</span></div><div class="line"><span class="comment">                         *  extra buffer allocation + copy step.</span></div><div class="line"><span class="comment">                         */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a1d02da1b0a83f5915b0ce7c38fcde0a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d02da1b0a83f5915b0ce7c38fcde0a2">&#9670;&nbsp;</a></span>MBUF_TX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBUF_TX</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="comment">/* If defined: avoid copying data when</span></div><div class="line"><span class="comment">                         *  sending. Instead, use a wrapper to</span></div><div class="line"><span class="comment">                         *  &#39;sosend()&#39; which will point an MBUF</span></div><div class="line"><span class="comment">                         *  directly to our buffer space.</span></div><div class="line"><span class="comment">                         *  Note that the BSD stack does not copy</span></div><div class="line"><span class="comment">                         *  data when fragmenting packets - it</span></div><div class="line"><span class="comment">                         *  merely uses an mbuf chain pointing</span></div><div class="line"><span class="comment">                         *  into different areas of the data.</span></div><div class="line"><span class="comment">                         *</span></div><div class="line"><span class="comment">                         * If undefined, the regular &#39;sendto()&#39;</span></div><div class="line"><span class="comment">                         *  interface is used.</span></div><div class="line"><span class="comment">                         */</span></div></div><!-- fragment -->
</div>
</div>
<a id="af9bc913d7e754e4a45b6de34dfb21a19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9bc913d7e754e4a45b6de34dfb21a19">&#9670;&nbsp;</a></span>RTEMS_RPC_EVENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTEMS_RPC_EVENT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="group__ClassicEventSet.html#ga9b0618f3eab8b9fb4b1d0fb7f0d1cd7a">RTEMS_EVENT_30</a>  <span class="comment">/* THE event used by RPCIO. Every task doing</span></div><div class="line"><span class="comment">                                             * RPC IO will receive this - hence it is</span></div><div class="line"><span class="comment">                                             * RESERVED</span></div><div class="line"><span class="comment">                                             */</span></div><div class="ttc" id="group__ClassicEventSet_html_ga9b0618f3eab8b9fb4b1d0fb7f0d1cd7a"><div class="ttname"><a href="group__ClassicEventSet.html#ga9b0618f3eab8b9fb4b1d0fb7f0d1cd7a">RTEMS_EVENT_30</a></div><div class="ttdeci">#define RTEMS_EVENT_30</div><div class="ttdoc">Defines the bit in the event set associated with event 30.</div><div class="ttdef"><b>Definition:</b> event.h:108</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
