<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: cpukit/include/rtems/rtl/rtl-archive.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cd198e36225ba3f41de97552050ac017.html">cpukit</a></li><li class="navelem"><a class="el" href="dir_4f6a7e6de63bf7faab77653961b179a0.html">include</a></li><li class="navelem"><a class="el" href="dir_be382d098cd1aaaaf11a7ebea3d850c0.html">rtems</a></li><li class="navelem"><a class="el" href="dir_92316a86de7c658bf2311fa47af5ba7a.html">rtl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rtl-archive.h File Reference<div class="ingroups"><a class="el" href="group__RTEMSAPI.html">API</a> &raquo; <a class="el" href="group__rtems__rtl.html">RTEMS Runtime Link Editor</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>RTEMS Run-Time Linker Archive.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="rtems_8h_source.html">rtems.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="chain_8h_source.html">rtems/chain.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="printer_8h_source.html">rtems/printer.h</a>&gt;</code><br />
</div>
<p><a href="rtl-archive_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__rtl__archive__symbol.html">rtems_rtl_archive_symbol</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__rtl__archive__symbols.html">rtems_rtl_archive_symbols</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__rtl__archive.html">rtems_rtl_archive</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3b3e926b4fdf2965140136ef42090656"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a3b3e926b4fdf2965140136ef42090656">RTEMS_RTL_ARCHIVE_USER_LOAD</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:a3b3e926b4fdf2965140136ef42090656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1152d3370fc56cec9d6ee6e9bc8437c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a1152d3370fc56cec9d6ee6e9bc8437c6">RTEMS_RTL_ARCHIVE_REMOVE</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:a1152d3370fc56cec9d6ee6e9bc8437c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc66c432383d2e1bb1593318f027821"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a4cc66c432383d2e1bb1593318f027821">RTEMS_RTL_ARCHIVE_LOAD</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr class="separator:a4cc66c432383d2e1bb1593318f027821"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7082b0ca172f429650fea8685f9de13e"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2e">rtems_rtl_archive_search</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a7082b0ca172f429650fea8685f9de13e">rtems_rtl_archive_search</a></td></tr>
<tr class="separator:a7082b0ca172f429650fea8685f9de13e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d21ffb4c0f3127b437d52c875367df"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structrtems__rtl__archive__symbol.html">rtems_rtl_archive_symbol</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a69d21ffb4c0f3127b437d52c875367df">rtems_rtl_archive_symbol</a></td></tr>
<tr class="separator:a69d21ffb4c0f3127b437d52c875367df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad022b9e84a86a706474c33ea6220b0b4"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structrtems__rtl__archive__symbols.html">rtems_rtl_archive_symbols</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#ad022b9e84a86a706474c33ea6220b0b4">rtems_rtl_archive_symbols</a></td></tr>
<tr class="separator:ad022b9e84a86a706474c33ea6220b0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e9348cd8916386c709e7cfa2523410"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structrtems__rtl__archive.html">rtems_rtl_archive</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a28e9348cd8916386c709e7cfa2523410">rtems_rtl_archive</a></td></tr>
<tr class="separator:a28e9348cd8916386c709e7cfa2523410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed360f6d4f5a5b50228f5e899b9af77"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a1ed360f6d4f5a5b50228f5e899b9af77">rtems_rtl_archives</a></td></tr>
<tr class="separator:a1ed360f6d4f5a5b50228f5e899b9af77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb92821ca23c9daa5393579aa7b9212f"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#aeb92821ca23c9daa5393579aa7b9212f">rtems_rtl_archive_error</a>) (int num, const char *text)</td></tr>
<tr class="separator:aeb92821ca23c9daa5393579aa7b9212f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a82930c14e64f3f5853052e84af4a6c2e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2e">rtems_rtl_archive_search</a> { <br />
&#160;&#160;<a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2ea8a48e443b039535ffacf245974bce7b0">rtems_rtl_archive_search_not_found</a> = 0, 
<a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2ea786e49af33c7ab7a1655c34b16cda214">rtems_rtl_archive_search_found</a> = 1, 
<a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2eabea397c7ded334c79f549d645426afcc">rtems_rtl_archive_search_loaded</a> = 2, 
<a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2eabb8146313b58141dfa133188bda16a06">rtems_rtl_archive_search_error</a> = 3, 
<br />
&#160;&#160;<a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2eab5896674df6ee65d59f5f521b1bbc9d9">rtems_rtl_archive_search_no_config</a> = 4
<br />
 }</td></tr>
<tr class="separator:a82930c14e64f3f5853052e84af4a6c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af74d596594b488ff923e027e9b895d1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#af74d596594b488ff923e027e9b895d1f">rtems_rtl_archives_open</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives, const char *<a class="el" href="structconfig__s.html">config</a>)</td></tr>
<tr class="separator:af74d596594b488ff923e027e9b895d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1d8b43e832e9f6c9dd0d583b952384"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a0c1d8b43e832e9f6c9dd0d583b952384">rtems_rtl_archives_close</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives)</td></tr>
<tr class="separator:a0c1d8b43e832e9f6c9dd0d583b952384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad357ba19c50eb2c554a8ef8bbd1baa74"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#ad357ba19c50eb2c554a8ef8bbd1baa74">rtems_rtl_archives_refresh</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives)</td></tr>
<tr class="separator:ad357ba19c50eb2c554a8ef8bbd1baa74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec513bfd77432b5004d1a4ed91b7bc3d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#aec513bfd77432b5004d1a4ed91b7bc3d">rtems_rtl_archive_load</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives, const char *name)</td></tr>
<tr class="separator:aec513bfd77432b5004d1a4ed91b7bc3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e3be1af298eca62a62e5f1bc72c916"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2e">rtems_rtl_archive_search</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a48e3be1af298eca62a62e5f1bc72c916">rtems_rtl_archive_obj_load</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives, const char *symbol, bool load)</td></tr>
<tr class="separator:a48e3be1af298eca62a62e5f1bc72c916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f842a164d6f4aeb32c4ccde6177a530"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8h.html#a3f842a164d6f4aeb32c4ccde6177a530">rtems_rtl_obj_archive_find_obj</a> (int fd, size_t fsize, const char **name, off_t *offset, size_t *<a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>, off_t *extended_names, <a class="el" href="rtl-archive_8h.html#aeb92821ca23c9daa5393579aa7b9212f">rtems_rtl_archive_error</a> error)</td></tr>
<tr class="separator:a3f842a164d6f4aeb32c4ccde6177a530"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTEMS Run-Time Linker Archive. </p>
<p>The RTL Archive module manages dependent loading of object files from archives. The archives need to have a <code>ranlib</code> generated symbol table.</p>
<p>This module reads a configuration file called <code>rtl-libs.conf</code> from a default directory of <code>/etc</code>. The file is a line per glob'ed path to archives to search for symbols.</p>
<p>The archive symbols are held in a per archive cache for searching.</p>
<dl class="section note"><dt>Note</dt><dd>Errors in the reading of a config file, locating archives, reading symbol tables and loading object files are not considered RTL error reported to a user. The user error is undefined symbols. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4cc66c432383d2e1bb1593318f027821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cc66c432383d2e1bb1593318f027821">&#9670;&nbsp;</a></span>RTEMS_RTL_ARCHIVE_LOAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTEMS_RTL_ARCHIVE_LOAD&#160;&#160;&#160;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load the achive. </p>

</div>
</div>
<a id="a1152d3370fc56cec9d6ee6e9bc8437c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1152d3370fc56cec9d6ee6e9bc8437c6">&#9670;&nbsp;</a></span>RTEMS_RTL_ARCHIVE_REMOVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTEMS_RTL_ARCHIVE_REMOVE&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The achive is not found. </p>

</div>
</div>
<a id="a3b3e926b4fdf2965140136ef42090656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b3e926b4fdf2965140136ef42090656">&#9670;&nbsp;</a></span>RTEMS_RTL_ARCHIVE_USER_LOAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTEMS_RTL_ARCHIVE_USER_LOAD&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flags for archives.User forced load. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a28e9348cd8916386c709e7cfa2523410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e9348cd8916386c709e7cfa2523410">&#9670;&nbsp;</a></span>rtems_rtl_archive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structrtems__rtl__archive.html">rtems_rtl_archive</a>  <a class="el" href="structrtems__rtl__archive.html">rtems_rtl_archive</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RTL Archive data. </p>

</div>
</div>
<a id="aeb92821ca23c9daa5393579aa7b9212f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb92821ca23c9daa5393579aa7b9212f">&#9670;&nbsp;</a></span>rtems_rtl_archive_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* rtems_rtl_archive_error) (int num, const char *text)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error handler call when finding an archive. </p>

</div>
</div>
<a id="a7082b0ca172f429650fea8685f9de13e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7082b0ca172f429650fea8685f9de13e">&#9670;&nbsp;</a></span>rtems_rtl_archive_search</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2e">rtems_rtl_archive_search</a>  <a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2e">rtems_rtl_archive_search</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Symbol search and loading results. </p>

</div>
</div>
<a id="a69d21ffb4c0f3127b437d52c875367df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69d21ffb4c0f3127b437d52c875367df">&#9670;&nbsp;</a></span>rtems_rtl_archive_symbol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structrtems__rtl__archive__symbol.html">rtems_rtl_archive_symbol</a>  <a class="el" href="structrtems__rtl__archive__symbol.html">rtems_rtl_archive_symbol</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RTL Archive symbols. </p>

</div>
</div>
<a id="ad022b9e84a86a706474c33ea6220b0b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad022b9e84a86a706474c33ea6220b0b4">&#9670;&nbsp;</a></span>rtems_rtl_archive_symbols</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structrtems__rtl__archive__symbols.html">rtems_rtl_archive_symbols</a>  <a class="el" href="structrtems__rtl__archive__symbols.html">rtems_rtl_archive_symbols</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RTL Archive symbols. </p>

</div>
</div>
<a id="a1ed360f6d4f5a5b50228f5e899b9af77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ed360f6d4f5a5b50228f5e899b9af77">&#9670;&nbsp;</a></span>rtems_rtl_archives</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a>  <a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RTL Archive data. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a82930c14e64f3f5853052e84af4a6c2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82930c14e64f3f5853052e84af4a6c2e">&#9670;&nbsp;</a></span>rtems_rtl_archive_search</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2e">rtems_rtl_archive_search</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Symbol search and loading results. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a82930c14e64f3f5853052e84af4a6c2ea8a48e443b039535ffacf245974bce7b0"></a>rtems_rtl_archive_search_not_found&#160;</td><td class="fielddoc"><p>The search failed to find the symbol. </p>
</td></tr>
<tr><td class="fieldname"><a id="a82930c14e64f3f5853052e84af4a6c2ea786e49af33c7ab7a1655c34b16cda214"></a>rtems_rtl_archive_search_found&#160;</td><td class="fielddoc"><p>The symbols was found. </p>
</td></tr>
<tr><td class="fieldname"><a id="a82930c14e64f3f5853052e84af4a6c2eabea397c7ded334c79f549d645426afcc"></a>rtems_rtl_archive_search_loaded&#160;</td><td class="fielddoc"><p>The symbol was found and the object file has been loaded </p>
</td></tr>
<tr><td class="fieldname"><a id="a82930c14e64f3f5853052e84af4a6c2eabb8146313b58141dfa133188bda16a06"></a>rtems_rtl_archive_search_error&#160;</td><td class="fielddoc"><p>There was an error searching or loading. </p>
</td></tr>
<tr><td class="fieldname"><a id="a82930c14e64f3f5853052e84af4a6c2eab5896674df6ee65d59f5f521b1bbc9d9"></a>rtems_rtl_archive_search_no_config&#160;</td><td class="fielddoc"><p>There is no config or it is invalid. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aec513bfd77432b5004d1a4ed91b7bc3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec513bfd77432b5004d1a4ed91b7bc3d">&#9670;&nbsp;</a></span>rtems_rtl_archive_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rtems_rtl_archive_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load an archive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to search. </td></tr>
    <tr><td class="paramname">name</td><td>The archive to load. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The archive is loaded. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48e3be1af298eca62a62e5f1bc72c916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e3be1af298eca62a62e5f1bc72c916">&#9670;&nbsp;</a></span>rtems_rtl_archive_obj_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2e">rtems_rtl_archive_search</a> rtems_rtl_archive_obj_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>load</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for a symbol and load the first object file that has the symbol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to search. </td></tr>
    <tr><td class="paramname">symbol</td><td>The symbol name to search for. </td></tr>
    <tr><td class="paramname">load</td><td>If @true load the object file the symbol is found in else return the found not found status. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c1d8b43e832e9f6c9dd0d583b952384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c1d8b43e832e9f6c9dd0d583b952384">&#9670;&nbsp;</a></span>rtems_rtl_archives_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_rtl_archives_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the RTL archives support.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to close. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af74d596594b488ff923e027e9b895d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af74d596594b488ff923e027e9b895d1f">&#9670;&nbsp;</a></span>rtems_rtl_archives_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_rtl_archives_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open the RTL archives support with the specified configration file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to open. </td></tr>
    <tr><td class="paramname">config</td><td>The path to the configuration file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool Returns @true is the archives are open. </dd></dl>

</div>
</div>
<a id="ad357ba19c50eb2c554a8ef8bbd1baa74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad357ba19c50eb2c554a8ef8bbd1baa74">&#9670;&nbsp;</a></span>rtems_rtl_archives_refresh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rtems_rtl_archives_refresh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Refresh the archives data. Check if the configuration has changes and if it has reload it. Check each path in the configuration and creates archive instances for new archives and remove archives not present any more.</p>
<p>Refreshing is a development aid so reboots can be avoided as users trial configurations that work.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to refresh. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>The refresh failed, an error will have been set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f842a164d6f4aeb32c4ccde6177a530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f842a164d6f4aeb32c4ccde6177a530">&#9670;&nbsp;</a></span>rtems_rtl_obj_archive_find_obj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rtems_rtl_obj_archive_find_obj </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t *&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t *&#160;</td>
          <td class="paramname"><em>extended_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtl-archive_8h.html#aeb92821ca23c9daa5393579aa7b9212f">rtems_rtl_archive_error</a>&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a module in an archive returning the offset in the archive and the size. If the name field is pointing to a string pointer and that poniter is NULL and the offset is valid the name is extracted from the archive and filled in. This is used when loading a file from the archive after a symbol is found. The file name is not know and could be extended which requires searching the extended string table in the archive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>Open file handle for the archive. </td></tr>
    <tr><td class="paramname">fsize</td><td>Size of the archive. @paarm name Pointer to the name string. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset of the file in the archive. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the file in the archive. </td></tr>
    <tr><td class="paramname">extended_names</td><td>The offset in the archive for the extended names. </td></tr>
    <tr><td class="paramname">error</td><td>The error handler called on an error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The file was found in the archive. </td></tr>
    <tr><td class="paramname">false</td><td>The file was not found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
