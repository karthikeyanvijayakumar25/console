<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: bsps/i386/pc386/console/fb_vesa_rm.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_49b8d5997469a34e9a523535602b7e1a.html">bsps</a></li><li class="navelem"><a class="el" href="dir_203ee2a5ec966a863ceccd6eecf19ae9.html">i386</a></li><li class="navelem"><a class="el" href="dir_11149b0622be42d2ad56298b42fafef0.html">pc386</a></li><li class="navelem"><a class="el" href="dir_04504b14ef56a2932b32520a85fa1d00.html">console</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fb_vesa_rm.c File Reference<div class="ingroups"><a class="el" href="group__RTEMSBSPs.html">Board Support Packages</a> &raquo; <a class="el" href="group__RTEMSBSPsI386.html">i386</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>FB driver for graphic hardware compatible with VESA Bios Extension Real mode interface utilized Tested on real HW.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="inttypes_8h_source.html">inttypes.h</a>&gt;</code><br />
<code>#include &lt;bsp.h&gt;</code><br />
<code>#include &lt;<a class="el" href="fb__default__mode_8h_source.html">bsp/fb_default_mode.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="fb__vesa_8h_source.html">bsp/fb_vesa.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="realmode__int_8h_source.html">bsp/realmode_int.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="pthread_8h_source.html">pthread.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="libio_8h_source.html">rtems/libio.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="fb_8h_source.html">rtems/fb.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="framebuffer_8h_source.html">rtems/framebuffer.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="include_2rtems_2score_2atomic_8h_source.html">rtems/score/atomic.h</a>&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMode__params.html">Mode_params</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic graphic's mode parameters.  <a href="structMode__params.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6f5201cbc860c891698d41d5f860f0ce"><td class="memItemLeft" align="right" valign="top"><a id="a6f5201cbc860c891698d41d5f860f0ce"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FB_VESA_NAME</b>&#160;&#160;&#160;&quot;FB_VESA_RM&quot;</td></tr>
<tr class="separator:a6f5201cbc860c891698d41d5f860f0ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaebcef00281332ac9573b78293d3ac1e"><td class="memItemLeft" align="right" valign="top"><a id="aaebcef00281332ac9573b78293d3ac1e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_NO_OF_SORTED_MODES</b>&#160;&#160;&#160;100</td></tr>
<tr class="separator:aaebcef00281332ac9573b78293d3ac1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa1c3d7ad13bc494292330e4dd2d60d6b"><td class="memItemLeft" align="right" valign="top"><a id="aa1c3d7ad13bc494292330e4dd2d60d6b"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>mode_err_ret_val</b> { <br />
&#160;&#160;<b>NO_SUITABLE_MODE</b> = -1, 
<b>BAD_FORMAT</b> = -2, 
<b>AUTO_SELECT</b> = -3, 
<b>DONT_INIT</b> = -4, 
<br />
&#160;&#160;<b>NO_MODE_REQ</b> = -5, 
<b>NO_SUITABLE_MODE</b> = -1, 
<b>BAD_FORMAT</b> = -2, 
<b>AUTO_SELECT</b> = -3, 
<br />
&#160;&#160;<b>DONT_INIT</b> = -4, 
<b>NO_MODE_REQ</b> = -5
<br />
 }</td></tr>
<tr class="separator:aa1c3d7ad13bc494292330e4dd2d60d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a66442b4301c2a23d9f9baef8f4cdab8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#a66442b4301c2a23d9f9baef8f4cdab8f">vesa_realmode_bootup_init</a> (void)</td></tr>
<tr class="memdesc:a66442b4301c2a23d9f9baef8f4cdab8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes VBE framebuffer during bootup.  <a href="#a66442b4301c2a23d9f9baef8f4cdab8f">More...</a><br /></td></tr>
<tr class="separator:a66442b4301c2a23d9f9baef8f4cdab8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79f34df313a78e2330ccf2d81b867bb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#af79f34df313a78e2330ccf2d81b867bb">VBE_controller_information</a> (VBE_vbe_info_block *info_block, uint16_t queried_VBE_Version)</td></tr>
<tr class="memdesc:af79f34df313a78e2330ccf2d81b867bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about graphic's controller in the <code>info_block</code> structure.  <a href="#af79f34df313a78e2330ccf2d81b867bb">More...</a><br /></td></tr>
<tr class="separator:af79f34df313a78e2330ccf2d81b867bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6912df918c80a1d1af9396d298fa290"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#ad6912df918c80a1d1af9396d298fa290">VBE_mode_information</a> (VBE_mode_info_block *info_block, uint16_t mode_number)</td></tr>
<tr class="memdesc:ad6912df918c80a1d1af9396d298fa290"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills structure <code>info_block</code> with informations about selected mode in <code>mode_number</code> variable.  <a href="#ad6912df918c80a1d1af9396d298fa290">More...</a><br /></td></tr>
<tr class="separator:ad6912df918c80a1d1af9396d298fa290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db0915ef74a364c88a6d42e847fa1b4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#a9db0915ef74a364c88a6d42e847fa1b4">VBE_set_mode</a> (uint16_t mode_number, VBE_CRTC_info_block *info_block)</td></tr>
<tr class="memdesc:a9db0915ef74a364c88a6d42e847fa1b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets graphics mode selected. If mode has refreshRateCtrl bit set, than the <code>info_block</code> must be filled accordingly.  <a href="#a9db0915ef74a364c88a6d42e847fa1b4">More...</a><br /></td></tr>
<tr class="separator:a9db0915ef74a364c88a6d42e847fa1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c4b4e341541adb5ebbed06a56d4df6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#ad3c4b4e341541adb5ebbed06a56d4df6">VBE_current_mode</a> (uint16_t *mode_number)</td></tr>
<tr class="memdesc:ad3c4b4e341541adb5ebbed06a56d4df6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get currently set mode number.  <a href="#ad3c4b4e341541adb5ebbed06a56d4df6">More...</a><br /></td></tr>
<tr class="separator:ad3c4b4e341541adb5ebbed06a56d4df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac4d734cef2ff871d97a6ba67a28192e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#aac4d734cef2ff871d97a6ba67a28192e">VBE_report_DDC_capabilities</a> (uint16_t controller_unit_number, uint8_t *seconds_to_transfer_EDID_block, uint8_t *DDC_level_supported)</td></tr>
<tr class="memdesc:aac4d734cef2ff871d97a6ba67a28192e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets information about display data channel implemented in the graphic's controller.  <a href="#aac4d734cef2ff871d97a6ba67a28192e">More...</a><br /></td></tr>
<tr class="separator:aac4d734cef2ff871d97a6ba67a28192e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14025cd716317297c59efcf17afb8d71"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#a14025cd716317297c59efcf17afb8d71">VBE_read_EDID</a> (uint16_t controller_unit_number, uint16_t EDID_block_number, EDID_edid1 *buffer)</td></tr>
<tr class="memdesc:a14025cd716317297c59efcf17afb8d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads selected EDID block from display attached to controller's interface.  <a href="#a14025cd716317297c59efcf17afb8d71">More...</a><br /></td></tr>
<tr class="separator:a14025cd716317297c59efcf17afb8d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2a4a319a3e9853e688c96116a088743"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#aa2a4a319a3e9853e688c96116a088743">frame_buffer_initialize</a> (rtems_device_major_number major, rtems_device_minor_number minor, void *arg)</td></tr>
<tr class="memdesc:aa2a4a319a3e9853e688c96116a088743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame Buffer Initialization Entry Point.  <a href="#aa2a4a319a3e9853e688c96116a088743">More...</a><br /></td></tr>
<tr class="separator:aa2a4a319a3e9853e688c96116a088743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e568b33aca35a724b8d71a4d0dac3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#a82e568b33aca35a724b8d71a4d0dac3c">frame_buffer_open</a> (rtems_device_major_number major, rtems_device_minor_number minor, void *arg)</td></tr>
<tr class="memdesc:a82e568b33aca35a724b8d71a4d0dac3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame Buffer Open Entry Point.  <a href="#a82e568b33aca35a724b8d71a4d0dac3c">More...</a><br /></td></tr>
<tr class="separator:a82e568b33aca35a724b8d71a4d0dac3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1f239cfe02b6fe70d7be3e0f7d96c63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#aa1f239cfe02b6fe70d7be3e0f7d96c63">frame_buffer_close</a> (rtems_device_major_number major, rtems_device_minor_number minor, void *arg)</td></tr>
<tr class="memdesc:aa1f239cfe02b6fe70d7be3e0f7d96c63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame Buffer Close Entry Point.  <a href="#aa1f239cfe02b6fe70d7be3e0f7d96c63">More...</a><br /></td></tr>
<tr class="separator:aa1f239cfe02b6fe70d7be3e0f7d96c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb1e09cf325cedeade812912e9bd7d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#a2bb1e09cf325cedeade812912e9bd7d4">frame_buffer_read</a> (rtems_device_major_number major, rtems_device_minor_number minor, void *arg)</td></tr>
<tr class="memdesc:a2bb1e09cf325cedeade812912e9bd7d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame Buffer Read Entry Point.  <a href="#a2bb1e09cf325cedeade812912e9bd7d4">More...</a><br /></td></tr>
<tr class="separator:a2bb1e09cf325cedeade812912e9bd7d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012f6bdeaf8e460385cc2ca86b7ad9f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#a012f6bdeaf8e460385cc2ca86b7ad9f7">frame_buffer_write</a> (rtems_device_major_number major, rtems_device_minor_number minor, void *arg)</td></tr>
<tr class="memdesc:a012f6bdeaf8e460385cc2ca86b7ad9f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame Buffer Write Entry Point.  <a href="#a012f6bdeaf8e460385cc2ca86b7ad9f7">More...</a><br /></td></tr>
<tr class="separator:a012f6bdeaf8e460385cc2ca86b7ad9f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2c8a2dcd579aece42342ba0405c87d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#a5d2c8a2dcd579aece42342ba0405c87d">frame_buffer_control</a> (rtems_device_major_number major, rtems_device_minor_number minor, void *arg)</td></tr>
<tr class="memdesc:a5d2c8a2dcd579aece42342ba0405c87d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame Buffer <a class="el" href="structIO.html">IO</a> Control Entry Point.  <a href="#a5d2c8a2dcd579aece42342ba0405c87d">More...</a><br /></td></tr>
<tr class="separator:a5d2c8a2dcd579aece42342ba0405c87d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2844c398d862a1febaac41957a17b4be"><td class="memItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__vesa__rm_8c.html#a2844c398d862a1febaac41957a17b4be">rtems_fb_default_mode</a></td></tr>
<tr class="memdesc:a2844c398d862a1febaac41957a17b4be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows to enable initialization of VESA real mode driver from an application by setting the value of this variable to non null value in user's module. The value of this variable will be then updated when linked with application's object.  <a href="#a2844c398d862a1febaac41957a17b4be">More...</a><br /></td></tr>
<tr class="separator:a2844c398d862a1febaac41957a17b4be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>FB driver for graphic hardware compatible with VESA Bios Extension Real mode interface utilized Tested on real HW. </p>
<p>Public sources related:</p><ul>
<li>VESA BIOS EXTENSION (VBE) Core Function Standard, Ver: 3.0, Sep 16, 1998</li>
<li>VESA Enhanced Extended Display Identification Data (E-EDID) Standard Release A, Revision 2, September 25, 2006</li>
</ul>
<p>Hardware is completely initialized upon boot of the system. Therefore there is no way to change graphics mode later.</p>
<p>Interrupt 0x10 is used for entering graphics BIOS.</p>
<p>Driver reads parameter from multiboot command line to setup video: "--video=&lt;resX&gt;x&lt;resY&gt;[-&lt;bpp&gt;]" "--video=auto" - try EDID to find mode that fits the display attached best "--video=none" / "--video=off" - do not initialize the driver If cmdline parameter is not specified the rtems_fb_default_mode variable content is tested (see doc below). Command line option has higher priority. rtems_fb_default_mode is probed only if cmdline "--video=" is not specified at all.</p>
<p>If neither of the above options is specified the driver is not initialized. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa1f239cfe02b6fe70d7be3e0f7d96c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1f239cfe02b6fe70d7be3e0f7d96c63">&#9670;&nbsp;</a></span>frame_buffer_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a> frame_buffer_close </td>
          <td>(</td>
          <td class="paramtype">rtems_device_major_number&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rtems_device_minor_number&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frame Buffer Close Entry Point. </p>
<p>This method closes a specific device supported by the frame buffer device driver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">major</td><td>is the device driver major number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minor</td><td>is the device driver minor number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>is the parameters to this call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This method returns RTEMS_SUCCESSFUL when the device is successfully closed. </dd></dl>

</div>
</div>
<a id="a5d2c8a2dcd579aece42342ba0405c87d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d2c8a2dcd579aece42342ba0405c87d">&#9670;&nbsp;</a></span>frame_buffer_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a> frame_buffer_control </td>
          <td>(</td>
          <td class="paramtype">rtems_device_major_number&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rtems_device_minor_number&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frame Buffer <a class="el" href="structIO.html">IO</a> Control Entry Point. </p>
<p>This method performs an <a class="el" href="structIO.html">IO</a> Control operation on a specific device supported by the frame buffer device driver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">major</td><td>is the device driver major number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minor</td><td>is the device driver minor number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>is the parameters to this call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This method returns RTEMS_SUCCESSFUL when the device driver <a class="el" href="structIO.html">IO</a> control operation is successfully performed. </dd></dl>

</div>
</div>
<a id="aa2a4a319a3e9853e688c96116a088743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2a4a319a3e9853e688c96116a088743">&#9670;&nbsp;</a></span>frame_buffer_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a> frame_buffer_initialize </td>
          <td>(</td>
          <td class="paramtype">rtems_device_major_number&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rtems_device_minor_number&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frame Buffer Initialization Entry Point. </p>
<p>This method initializes the frame buffer device driver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">major</td><td>is the device driver major number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minor</td><td>is the device driver minor number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>is the parameters to this call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This method returns RTEMS_SUCCESSFUL when the device driver is successfully initialized. </dd></dl>

</div>
</div>
<a id="a82e568b33aca35a724b8d71a4d0dac3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82e568b33aca35a724b8d71a4d0dac3c">&#9670;&nbsp;</a></span>frame_buffer_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a> frame_buffer_open </td>
          <td>(</td>
          <td class="paramtype">rtems_device_major_number&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rtems_device_minor_number&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frame Buffer Open Entry Point. </p>
<p>This method opens a specific device supported by the frame buffer device driver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">major</td><td>is the device driver major number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minor</td><td>is the device driver minor number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>is the parameters to this call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This method returns RTEMS_SUCCESSFUL when the device driver is successfully opened. </dd></dl>

</div>
</div>
<a id="a2bb1e09cf325cedeade812912e9bd7d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb1e09cf325cedeade812912e9bd7d4">&#9670;&nbsp;</a></span>frame_buffer_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a> frame_buffer_read </td>
          <td>(</td>
          <td class="paramtype">rtems_device_major_number&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rtems_device_minor_number&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frame Buffer Read Entry Point. </p>
<p>This method reads from a specific device supported by the frame buffer device driver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">major</td><td>is the device driver major number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minor</td><td>is the device driver minor number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>is the parameters to this call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This method returns RTEMS_SUCCESSFUL when the device is successfully read from. </dd></dl>

</div>
</div>
<a id="a012f6bdeaf8e460385cc2ca86b7ad9f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012f6bdeaf8e460385cc2ca86b7ad9f7">&#9670;&nbsp;</a></span>frame_buffer_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_device_driver</a> frame_buffer_write </td>
          <td>(</td>
          <td class="paramtype">rtems_device_major_number&#160;</td>
          <td class="paramname"><em>major</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rtems_device_minor_number&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frame Buffer Write Entry Point. </p>
<p>This method writes to a specific device supported by the frame buffer device driver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">major</td><td>is the device driver major number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minor</td><td>is the device driver minor number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>is the parameters to this call</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>This method returns RTEMS_SUCCESSFUL when the device is successfully written. </dd></dl>

</div>
</div>
<a id="af79f34df313a78e2330ccf2d81b867bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79f34df313a78e2330ccf2d81b867bb">&#9670;&nbsp;</a></span>VBE_controller_information()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t VBE_controller_information </td>
          <td>(</td>
          <td class="paramtype">VBE_vbe_info_block *&#160;</td>
          <td class="paramname"><em>info_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>queried_VBE_Version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns information about graphic's controller in the <code>info_block</code> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">info_block</td><td>pointer to the struct to be filled with controller information </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">queried_VBE_Version</td><td>if &gt;0x200 then video bios is asked to fill in parameters which appeared with second version of VBE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ax</td><td>register content as defined in VBE RETURN STATUS paragraph </td></tr>
    <tr><td class="paramname">-1</td><td>error calling graphical bios </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad3c4b4e341541adb5ebbed06a56d4df6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3c4b4e341541adb5ebbed06a56d4df6">&#9670;&nbsp;</a></span>VBE_current_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t VBE_current_mode </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>mode_number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get currently set mode number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">mode_number</td><td>variable to be filled with current mode number </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ax</td><td>register content as defined in VBE RETURN STATUS paragraph </td></tr>
    <tr><td class="paramname">-1</td><td>error calling graphical bios </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6912df918c80a1d1af9396d298fa290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6912df918c80a1d1af9396d298fa290">&#9670;&nbsp;</a></span>VBE_mode_information()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t VBE_mode_information </td>
          <td>(</td>
          <td class="paramtype">VBE_mode_info_block *&#160;</td>
          <td class="paramname"><em>info_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mode_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills structure <code>info_block</code> with informations about selected mode in <code>mode_number</code> variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">info_block</td><td>pointer to the struct to be filled with mode information </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode_number</td><td>detailes of this mode to be filled </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ax</td><td>register content as defined in VBE RETURN STATUS paragraph </td></tr>
    <tr><td class="paramname">-1</td><td>error calling graphical bios </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a14025cd716317297c59efcf17afb8d71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14025cd716317297c59efcf17afb8d71">&#9670;&nbsp;</a></span>VBE_read_EDID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t VBE_read_EDID </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>controller_unit_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>EDID_block_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EDID_edid1 *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads selected EDID block from display attached to controller's interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller_unit_number</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">EDID_block_number</td><td>block no. to be read from the display </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>place to store block fetched from the display </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ax</td><td>register content as defined in VBE RETURN STATUS paragraph </td></tr>
    <tr><td class="paramname">-1</td><td>error calling graphical bios </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac4d734cef2ff871d97a6ba67a28192e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac4d734cef2ff871d97a6ba67a28192e">&#9670;&nbsp;</a></span>VBE_report_DDC_capabilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t VBE_report_DDC_capabilities </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>controller_unit_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>seconds_to_transfer_EDID_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>DDC_level_supported</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets information about display data channel implemented in the graphic's controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controller_unit_number</td><td></td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">seconds_to_transfer_EDID_block</td><td>approximate time to transfer one EDID block rounded up to seconds </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">DDC_level_supported</td><td>contains DDC version supported and screen blanking state during transfer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ax</td><td>register content as defined in VBE RETURN STATUS paragraph </td></tr>
    <tr><td class="paramname">-1</td><td>error calling graphical bios </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9db0915ef74a364c88a6d42e847fa1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db0915ef74a364c88a6d42e847fa1b4">&#9670;&nbsp;</a></span>VBE_set_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t VBE_set_mode </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mode_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VBE_CRTC_info_block *&#160;</td>
          <td class="paramname"><em>info_block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets graphics mode selected. If mode has refreshRateCtrl bit set, than the <code>info_block</code> must be filled accordingly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode_number</td><td>number of mode to be set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">info_block</td><td>pointer to struct containing refresh rate control info </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ax</td><td>register content as defined in VBE RETURN STATUS paragraph </td></tr>
    <tr><td class="paramname">-1</td><td>error calling graphical bios </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a66442b4301c2a23d9f9baef8f4cdab8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66442b4301c2a23d9f9baef8f4cdab8f">&#9670;&nbsp;</a></span>vesa_realmode_bootup_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vesa_realmode_bootup_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes VBE framebuffer during bootup. </p>
<p>utilizes switches to real mode interrupts and therefore must be called during bootup before tick is set up and real-time interrupt vectors utilized </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2844c398d862a1febaac41957a17b4be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2844c398d862a1febaac41957a17b4be">&#9670;&nbsp;</a></span>rtems_fb_default_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* const rtems_fb_default_mode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows to enable initialization of VESA real mode driver from an application by setting the value of this variable to non null value in user's module. The value of this variable will be then updated when linked with application's object. </p>
<p>Further the value should point to string in the following format: "&lt;resX&gt;x&lt;resY&gt;[-&lt;bpp&gt;]" - e.g. "1024x768-32" "auto" - try EDID to find mode that fits the display attached best "none" / "off" - do not initialize the driver the given parameters are used if applicable.</p>
<p>Command line argument "--video=" has priority over this string. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
