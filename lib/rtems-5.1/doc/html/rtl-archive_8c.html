<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: cpukit/libdl/rtl-archive.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cd198e36225ba3f41de97552050ac017.html">cpukit</a></li><li class="navelem"><a class="el" href="dir_18969d2c90e3ffddab35ecf776e9a0c5.html">libdl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rtl-archive.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>RTEMS Run-Time Linker Archive.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;dirent.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;fnmatch.h&gt;</code><br />
<code>#include &lt;<a class="el" href="inttypes_8h_source.html">inttypes.h</a>&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;<a class="el" href="libio___8h_source.html">rtems/libio_.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rtl_8h_source.html">rtems/rtl/rtl.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="rtl-chain-iterator_8h_source.html">rtl-chain-iterator.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="rtl-trace_8h_source.html">rtems/rtl/rtl-trace.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="rtl-string_8h_source.html">rtl-string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rtl-error_8h_source.html">rtl-error.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__rtl__archive__chain__data.html">rtems_rtl_archive_chain_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__rtl__archive__find__data.html">rtems_rtl_archive_find_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__rtl__archive__obj__data.html">rtems_rtl_archive_obj_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5ef2fee55deb8475bec01267e205ca2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8c.html#a5ef2fee55deb8475bec01267e205ca2b">RTEMS_RTL_AR_IDENT</a>&#160;&#160;&#160;&quot;!&lt;arch&gt;\n&quot;</td></tr>
<tr class="separator:a5ef2fee55deb8475bec01267e205ca2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742efdd96ae51d369a9f8325b481c109"><td class="memItemLeft" align="right" valign="top"><a id="a742efdd96ae51d369a9f8325b481c109"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_AR_IDENT_SIZE</b>&#160;&#160;&#160;(sizeof (<a class="el" href="rtl-archive_8c.html#a5ef2fee55deb8475bec01267e205ca2b">RTEMS_RTL_AR_IDENT</a>) - 1)</td></tr>
<tr class="separator:a742efdd96ae51d369a9f8325b481c109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af457aa770a55d2fefac50ba5d9583329"><td class="memItemLeft" align="right" valign="top"><a id="af457aa770a55d2fefac50ba5d9583329"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_AR_FHDR_BASE</b>&#160;&#160;&#160;RTEMS_RTL_AR_IDENT_SIZE</td></tr>
<tr class="separator:af457aa770a55d2fefac50ba5d9583329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46d18cf1ca2d6abd918671017bf830cd"><td class="memItemLeft" align="right" valign="top"><a id="a46d18cf1ca2d6abd918671017bf830cd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_AR_FNAME</b>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:a46d18cf1ca2d6abd918671017bf830cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d88c400e775010c1ca51e37e5bb3d2"><td class="memItemLeft" align="right" valign="top"><a id="a83d88c400e775010c1ca51e37e5bb3d2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_AR_FNAME_SIZE</b>&#160;&#160;&#160;(16)</td></tr>
<tr class="separator:a83d88c400e775010c1ca51e37e5bb3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8707de37f14218eab5754cad321fa282"><td class="memItemLeft" align="right" valign="top"><a id="a8707de37f14218eab5754cad321fa282"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_AR_SIZE</b>&#160;&#160;&#160;(48)</td></tr>
<tr class="separator:a8707de37f14218eab5754cad321fa282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcefff3fcdcdf738e52edab998ec724a"><td class="memItemLeft" align="right" valign="top"><a id="afcefff3fcdcdf738e52edab998ec724a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_AR_SIZE_SIZE</b>&#160;&#160;&#160;(10)</td></tr>
<tr class="separator:afcefff3fcdcdf738e52edab998ec724a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c93b2d6f4bbabe66ca648217cc8c83e"><td class="memItemLeft" align="right" valign="top"><a id="a9c93b2d6f4bbabe66ca648217cc8c83e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_AR_MAGIC</b>&#160;&#160;&#160;(58)</td></tr>
<tr class="separator:a9c93b2d6f4bbabe66ca648217cc8c83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3996b02b8e1f3772c87bf1bc4a8117f"><td class="memItemLeft" align="right" valign="top"><a id="ab3996b02b8e1f3772c87bf1bc4a8117f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_AR_MAGIC_SIZE</b>&#160;&#160;&#160;(2)</td></tr>
<tr class="separator:ab3996b02b8e1f3772c87bf1bc4a8117f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401fa1240565d53aab76de4fc1f406a2"><td class="memItemLeft" align="right" valign="top"><a id="a401fa1240565d53aab76de4fc1f406a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_AR_FHDR_SIZE</b>&#160;&#160;&#160;(60)</td></tr>
<tr class="separator:a401fa1240565d53aab76de4fc1f406a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3783462b379eeab8e8829f70d846ae2"><td class="memItemLeft" align="right" valign="top"><a id="ae3783462b379eeab8e8829f70d846ae2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RTEMS_RTL_MAX_FILE_SIZE</b>&#160;&#160;&#160;(256)</td></tr>
<tr class="separator:ae3783462b379eeab8e8829f70d846ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7f654505aadef94dfaca10b5cce047e4"><td class="memItemLeft" align="right" valign="top">typedef bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8c.html#a7f654505aadef94dfaca10b5cce047e4">rtems_rtl_archive_iterator</a>) (<a class="el" href="structrtems__rtl__archive.html">rtems_rtl_archive</a> *archive, void *data)</td></tr>
<tr class="separator:a7f654505aadef94dfaca10b5cce047e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8104f59b72abc78fe651d276082bfcfd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structrtems__rtl__archive__chain__data.html">rtems_rtl_archive_chain_data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8c.html#a8104f59b72abc78fe651d276082bfcfd">rtems_rtl_archive_chain_data</a></td></tr>
<tr class="separator:a8104f59b72abc78fe651d276082bfcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ab71c51ed6ebfa22cf6eb118826fa3"><td class="memItemLeft" align="right" valign="top"><a id="a31ab71c51ed6ebfa22cf6eb118826fa3"></a>
typedef struct <a class="el" href="structrtems__rtl__archive__find__data.html">rtems_rtl_archive_find_data</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_rtl_archive_find_data</b></td></tr>
<tr class="separator:a31ab71c51ed6ebfa22cf6eb118826fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a004ab254ee9e587ebedfc399b72ad3da"><td class="memItemLeft" align="right" valign="top"><a id="a004ab254ee9e587ebedfc399b72ad3da"></a>
typedef struct <a class="el" href="structrtems__rtl__archive__obj__data.html">rtems_rtl_archive_obj_data</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_rtl_archive_obj_data</b></td></tr>
<tr class="separator:a004ab254ee9e587ebedfc399b72ad3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af74d596594b488ff923e027e9b895d1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8c.html#af74d596594b488ff923e027e9b895d1f">rtems_rtl_archives_open</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives, const char *<a class="el" href="structconfig__s.html">config</a>)</td></tr>
<tr class="separator:af74d596594b488ff923e027e9b895d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1d8b43e832e9f6c9dd0d583b952384"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8c.html#a0c1d8b43e832e9f6c9dd0d583b952384">rtems_rtl_archives_close</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives)</td></tr>
<tr class="separator:a0c1d8b43e832e9f6c9dd0d583b952384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad357ba19c50eb2c554a8ef8bbd1baa74"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8c.html#ad357ba19c50eb2c554a8ef8bbd1baa74">rtems_rtl_archives_refresh</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives)</td></tr>
<tr class="separator:ad357ba19c50eb2c554a8ef8bbd1baa74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec513bfd77432b5004d1a4ed91b7bc3d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8c.html#aec513bfd77432b5004d1a4ed91b7bc3d">rtems_rtl_archive_load</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives, const char *name)</td></tr>
<tr class="separator:aec513bfd77432b5004d1a4ed91b7bc3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e3be1af298eca62a62e5f1bc72c916"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2e">rtems_rtl_archive_search</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8c.html#a48e3be1af298eca62a62e5f1bc72c916">rtems_rtl_archive_obj_load</a> (<a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *archives, const char *symbol, bool load)</td></tr>
<tr class="separator:a48e3be1af298eca62a62e5f1bc72c916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a227474f93062e44724c06cb229de6142"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-archive_8c.html#a227474f93062e44724c06cb229de6142">rtems_rtl_obj_archive_find_obj</a> (int fd, size_t fsize, const char **name, off_t *ooffset, size_t *osize, off_t *extended_file_names, <a class="el" href="rtl-archive_8h.html#aeb92821ca23c9daa5393579aa7b9212f">rtems_rtl_archive_error</a> error)</td></tr>
<tr class="separator:a227474f93062e44724c06cb229de6142"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTEMS Run-Time Linker Archive. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5ef2fee55deb8475bec01267e205ca2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ef2fee55deb8475bec01267e205ca2b">&#9670;&nbsp;</a></span>RTEMS_RTL_AR_IDENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTEMS_RTL_AR_IDENT&#160;&#160;&#160;&quot;!&lt;arch&gt;\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Archive headers. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a8104f59b72abc78fe651d276082bfcfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8104f59b72abc78fe651d276082bfcfd">&#9670;&nbsp;</a></span>rtems_rtl_archive_chain_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structrtems__rtl__archive__chain__data.html">rtems_rtl_archive_chain_data</a>  <a class="el" href="structrtems__rtl__archive__chain__data.html">rtems_rtl_archive_chain_data</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Chain iterator data. </p>

</div>
</div>
<a id="a7f654505aadef94dfaca10b5cce047e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f654505aadef94dfaca10b5cce047e4">&#9670;&nbsp;</a></span>rtems_rtl_archive_iterator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bool(* rtems_rtl_archive_iterator) (<a class="el" href="structrtems__rtl__archive.html">rtems_rtl_archive</a> *archive, void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Archive iterator. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aec513bfd77432b5004d1a4ed91b7bc3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec513bfd77432b5004d1a4ed91b7bc3d">&#9670;&nbsp;</a></span>rtems_rtl_archive_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rtems_rtl_archive_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load an archive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to search. </td></tr>
    <tr><td class="paramname">name</td><td>The archive to load. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The archive is loaded. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48e3be1af298eca62a62e5f1bc72c916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e3be1af298eca62a62e5f1bc72c916">&#9670;&nbsp;</a></span>rtems_rtl_archive_obj_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rtl-archive_8h.html#a82930c14e64f3f5853052e84af4a6c2e">rtems_rtl_archive_search</a> rtems_rtl_archive_obj_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>load</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for a symbol and load the first object file that has the symbol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to search. </td></tr>
    <tr><td class="paramname">symbol</td><td>The symbol name to search for. </td></tr>
    <tr><td class="paramname">load</td><td>If @true load the object file the symbol is found in else return the found not found status. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c1d8b43e832e9f6c9dd0d583b952384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c1d8b43e832e9f6c9dd0d583b952384">&#9670;&nbsp;</a></span>rtems_rtl_archives_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_rtl_archives_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the RTL archives support.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to close. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af74d596594b488ff923e027e9b895d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af74d596594b488ff923e027e9b895d1f">&#9670;&nbsp;</a></span>rtems_rtl_archives_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_rtl_archives_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open the RTL archives support with the specified configration file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to open. </td></tr>
    <tr><td class="paramname">config</td><td>The path to the configuration file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool Returns @true is the archives are open. </dd></dl>

</div>
</div>
<a id="ad357ba19c50eb2c554a8ef8bbd1baa74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad357ba19c50eb2c554a8ef8bbd1baa74">&#9670;&nbsp;</a></span>rtems_rtl_archives_refresh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rtems_rtl_archives_refresh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__archives.html">rtems_rtl_archives</a> *&#160;</td>
          <td class="paramname"><em>archives</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Refresh the archives data. Check if the configuration has changes and if it has reload it. Check each path in the configuration and creates archive instances for new archives and remove archives not present any more.</p>
<p>Refreshing is a development aid so reboots can be avoided as users trial configurations that work.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archives</td><td>The archives data to refresh. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>The refresh failed, an error will have been set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a227474f93062e44724c06cb229de6142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a227474f93062e44724c06cb229de6142">&#9670;&nbsp;</a></span>rtems_rtl_obj_archive_find_obj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rtems_rtl_obj_archive_find_obj </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>fsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t *&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t *&#160;</td>
          <td class="paramname"><em>extended_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtl-archive_8h.html#aeb92821ca23c9daa5393579aa7b9212f">rtems_rtl_archive_error</a>&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a module in an archive returning the offset in the archive and the size. If the name field is pointing to a string pointer and that poniter is NULL and the offset is valid the name is extracted from the archive and filled in. This is used when loading a file from the archive after a symbol is found. The file name is not know and could be extended which requires searching the extended string table in the archive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>Open file handle for the archive. </td></tr>
    <tr><td class="paramname">fsize</td><td>Size of the archive. @paarm name Pointer to the name string. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset of the file in the archive. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the file in the archive. </td></tr>
    <tr><td class="paramname">extended_names</td><td>The offset in the archive for the extended names. </td></tr>
    <tr><td class="paramname">error</td><td>The error handler called on an error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The file was found in the archive. </td></tr>
    <tr><td class="paramname">false</td><td>The file was not found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
