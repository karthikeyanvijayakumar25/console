<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: DMA API for Standard Operations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">DMA API for Standard Operations<div class="ingroups"><a class="el" href="group__RTEMSBSPs.html">Board Support Packages</a> &raquo; <a class="el" href="group__RTEMSBSPsARM.html">ARM</a> &raquo; <a class="el" href="group__RTEMSBSPsARMCycV.html">Intel Cyclone V</a> &raquo; <a class="el" href="group__RTEMSBSPsARMCycVContrib.html">Contributed Code</a> &raquo; <a class="el" href="group__ALT__DMA.html">DMA Controller API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga98eaff0bc9e6fa81379866be85c79a80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ALT__DMA__STD__OPS.html#ga98eaff0bc9e6fa81379866be85c79a80">alt_dma_memory_to_memory</a> (<a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a> channel, <a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *program, void *dest, const void *src, size_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>, bool send_evt, <a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a> evt)</td></tr>
<tr class="separator:ga98eaff0bc9e6fa81379866be85c79a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecb95fceaec7eb79dac11e99653810f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ALT__DMA__STD__OPS.html#gaecb95fceaec7eb79dac11e99653810f2">alt_dma_zero_to_memory</a> (<a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a> channel, <a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *program, void *buf, size_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>, bool send_evt, <a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a> evt)</td></tr>
<tr class="separator:gaecb95fceaec7eb79dac11e99653810f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f8c3b178c6273d7d0da2ac6e60a6a3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ALT__DMA__STD__OPS.html#ga1f8c3b178c6273d7d0da2ac6e60a6a3f">alt_dma_memory_to_register</a> (<a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a> channel, <a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *program, void *dst_reg, const void *src_buf, size_t count, uint32_t register_width_bits, bool send_evt, <a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a> evt)</td></tr>
<tr class="separator:ga1f8c3b178c6273d7d0da2ac6e60a6a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8539a5c42c3f59b8640252d203398962"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ALT__DMA__STD__OPS.html#ga8539a5c42c3f59b8640252d203398962">alt_dma_register_to_memory</a> (<a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a> channel, <a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *program, void *dst_buf, const void *src_reg, size_t count, uint32_t register_width_bits, bool send_evt, <a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a> evt)</td></tr>
<tr class="separator:ga8539a5c42c3f59b8640252d203398962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab857a70be266b57b97d4dab000dfbaff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ALT__DMA__STD__OPS.html#gab857a70be266b57b97d4dab000dfbaff">alt_dma_memory_to_periph</a> (<a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a> channel, <a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *program, <a class="el" href="group__ALT__DMA__COMMON.html#gae9baf8ac891f0583f9c1c61528cc1736">ALT_DMA_PERIPH_t</a> dest, const void *src, size_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>, void *periph_info, bool send_evt, <a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a> evt)</td></tr>
<tr class="separator:gab857a70be266b57b97d4dab000dfbaff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf55eeadb952bd684afb3ffafcc938597"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ALT__DMA__STD__OPS.html#gaf55eeadb952bd684afb3ffafcc938597">alt_dma_periph_to_memory</a> (<a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a> channel, <a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *program, void *dest, <a class="el" href="group__ALT__DMA__COMMON.html#gae9baf8ac891f0583f9c1c61528cc1736">ALT_DMA_PERIPH_t</a> src, size_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>, void *periph_info, bool send_evt, <a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a> evt)</td></tr>
<tr class="separator:gaf55eeadb952bd684afb3ffafcc938597"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The functions in this group provide common DMA operations for common bulk data transfers between:</p><ul>
<li>Memory to Memory</li>
<li>Zero to Memory</li>
<li>Memory to Peripheral</li>
<li>Peripheral to Memory</li>
</ul>
<p>All DMA operations are asynchronous. The following are the ways to receive notification of a DMA transfer complete operation:</p><ul>
<li>Use <a class="el" href="group__ALT__DMA__CSR.html#gafb12a5a452bf2d18013cf1bd8716f9fc">alt_dma_channel_state_get()</a> and poll for the ALT_DMA_CHANNEL_STATE_STOPPED status.</li>
<li>In conjunction with the interrupt API, use DMA events to signal an interrupt. The event first must be configured to signal an interrupt using <a class="el" href="group__ALT__DMA__CSR.html#ga641f2673530bed7fffda687b8aabadb0">alt_dma_event_int_select()</a>. Configure the DMA program to send an event.</li>
<li>Construct a custom program which waits for a particular event number by assemblying a DMAWFE using <a class="el" href="group__ALT__DMA__PRG.html#gadb60b4036a6e054f81b4e2bf2dfb2223">alt_dma_program_DMAWFE()</a>. Then run the custom program on a different channel. The custom program will wait until the DMA program sends the event. Configure the DMA program to send an event.</li>
</ul>
<p>Cache related maintenance on the source and/or destinatino buffer are not handled the DMA API and are the responsibility of the programmer. This is because the DMA API does not have visibility into the current configuration of the MMU or know about any special considerations regarding the source and/or destination memory. The following are some example scenarios and cache maintenance related precautions that may need to be taken:</p><ul>
<li><a class="el" href="group__ALT__DMA__STD__OPS.html#ga98eaff0bc9e6fa81379866be85c79a80">alt_dma_memory_to_memory()</a>: Source buffer should be cleaned or purged, destination buffer should be invalidated.</li>
<li><a class="el" href="group__ALT__DMA__STD__OPS.html#gaecb95fceaec7eb79dac11e99653810f2">alt_dma_zero_to_memory()</a>: Destination buffer should be invalidated.</li>
<li><a class="el" href="group__ALT__DMA__STD__OPS.html#ga1f8c3b178c6273d7d0da2ac6e60a6a3f">alt_dma_memory_to_register()</a>: Source buffer should be cleaned or purged.</li>
<li><a class="el" href="group__ALT__DMA__STD__OPS.html#ga8539a5c42c3f59b8640252d203398962">alt_dma_register_to_memory()</a>: Destination buffer should be invalidated.</li>
<li><a class="el" href="group__ALT__DMA__STD__OPS.html#gab857a70be266b57b97d4dab000dfbaff">alt_dma_memory_to_periph()</a>: Source buffer should be cleaned or purged.</li>
<li><a class="el" href="group__ALT__DMA__STD__OPS.html#gaf55eeadb952bd684afb3ffafcc938597">alt_dma_periph_to_memory()</a>: Destination buffer should be invalidated. </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga98eaff0bc9e6fa81379866be85c79a80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98eaff0bc9e6fa81379866be85c79a80">&#9670;&nbsp;</a></span>alt_dma_memory_to_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a> alt_dma_memory_to_memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>send_evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a>&#160;</td>
          <td class="paramname"><em>evt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the DMA engine to asynchronously copy the specified memory from the given source address to the given destination address.</p>
<p>Overlapping memory regions are not supported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The DMA channel thread to use for the transfer.</td></tr>
    <tr><td class="paramname">program</td><td>An allocated DMA program buffer to use for the life of the transfer.</td></tr>
    <tr><td class="paramname">dest</td><td>The destination memory address to copy to.</td></tr>
    <tr><td class="paramname">src</td><td>The source memory address to copy from.</td></tr>
    <tr><td class="paramname">size</td><td>The size of the transfer in bytes.</td></tr>
    <tr><td class="paramname">send_evt</td><td>If set to true, the DMA engine will be instructed to send an event upon completion or fault.</td></tr>
    <tr><td class="paramname">evt</td><td>If send_evt is true, the event specified will be sent. Otherwise the parameter is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ALT_E_SUCCESS</td><td>The operation was successful. </td></tr>
    <tr><td class="paramname">ALT_E_ERROR</td><td>The operation failed. </td></tr>
    <tr><td class="paramname">ALT_E_BAD_ARG</td><td>The given channel or event identifier (if used) is invalid, or the memory regions specified are overlapping. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab857a70be266b57b97d4dab000dfbaff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab857a70be266b57b97d4dab000dfbaff">&#9670;&nbsp;</a></span>alt_dma_memory_to_periph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a> alt_dma_memory_to_periph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#gae9baf8ac891f0583f9c1c61528cc1736">ALT_DMA_PERIPH_t</a>&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>periph_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>send_evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a>&#160;</td>
          <td class="paramname"><em>evt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the DMA engine to asynchronously copy memory from the given source address to the specified peripheral. Because different peripheral has different characteristics, individual peripherals need to be explicitly supported.</p>
<p>The following lists the peripheral IDs supported by this API:</p><ul>
<li>ALT_DMA_PERIPH_QSPI_FLASH_TX</li>
<li>ALT_DMA_PERIPH_UART0_TX</li>
<li>ALT_DMA_PERIPH_UART1_TX</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The DMA channel thread to use for the transfer.</td></tr>
    <tr><td class="paramname">program</td><td>An allocated DMA program buffer to use for the life of the transfer.</td></tr>
    <tr><td class="paramname">dest</td><td>The destination peripheral to copy memory to.</td></tr>
    <tr><td class="paramname">src</td><td>The source memory address to copy from.</td></tr>
    <tr><td class="paramname">size</td><td>The size of the transfer in bytes.</td></tr>
    <tr><td class="paramname">periph_info</td><td>A pointer to a peripheral specific data structure. The following list shows what data structure should be used for peripherals:<ul>
<li>ALT_DMA_PERIPH_QSPI_FLASH_TX: This parameter is ignored.</li>
<li>ALT_DMA_PERIPH_UART0_TX: Use a pointer to the ALT_16550_HANDLE_t used to interact with that UART.</li>
<li>ALT_DMA_PERIPH_UART1_TX: Use a pointer to the ALT_16550_HANDLE_t used to interact with that UART.</li>
</ul>
</td></tr>
    <tr><td class="paramname">send_evt</td><td>If set to true, the DMA engine will be instructed to send an event upon completion or fault.</td></tr>
    <tr><td class="paramname">evt</td><td>If send_evt is true, the event specified will be sent. Otherwise the parameter is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ALT_E_SUCCESS</td><td>The operation was successful. </td></tr>
    <tr><td class="paramname">ALT_E_ERROR</td><td>The operation failed. </td></tr>
    <tr><td class="paramname">ALT_E_BAD_ARG</td><td>The given channel, peripheral, or event identifier (if used) is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1f8c3b178c6273d7d0da2ac6e60a6a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f8c3b178c6273d7d0da2ac6e60a6a3f">&#9670;&nbsp;</a></span>alt_dma_memory_to_register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a> alt_dma_memory_to_register </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>register_width_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>send_evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a>&#160;</td>
          <td class="paramname"><em>evt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the DMA engine to asynchronously transfer the contents of a memory buffer to a keyhole register.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The DMA channel thread to use for the transfer.</td></tr>
    <tr><td class="paramname">program</td><td>An allocated DMA program buffer to use for the life of the transfer.</td></tr>
    <tr><td class="paramname">dst_reg</td><td>The address of the register to write buffer to.</td></tr>
    <tr><td class="paramname">src_buf</td><td>The address of the memory buffer for the data.</td></tr>
    <tr><td class="paramname">count</td><td>The number of transfers to make.</td></tr>
    <tr><td class="paramname">register_width_bits</td><td>The width of the register to transfer to in bits. Valid values are 8, 16, 32, and 64.</td></tr>
    <tr><td class="paramname">send_evt</td><td>If set to true, the DMA engine will be instructed to send an event upon completion or fault.</td></tr>
    <tr><td class="paramname">evt</td><td>If send_evt is true, the event specified will be sent. Otherwise the parameter is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ALT_E_SUCCESS</td><td>The operation was successful. </td></tr>
    <tr><td class="paramname">ALT_E_ERROR</td><td>The operation failed. </td></tr>
    <tr><td class="paramname">ALT_E_BAD_ARG</td><td>The given channel, event identifier (if used), or register width are invalid, or if the destination register or source buffer is unaligned to the register width. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf55eeadb952bd684afb3ffafcc938597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf55eeadb952bd684afb3ffafcc938597">&#9670;&nbsp;</a></span>alt_dma_periph_to_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a> alt_dma_periph_to_memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#gae9baf8ac891f0583f9c1c61528cc1736">ALT_DMA_PERIPH_t</a>&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>periph_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>send_evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a>&#160;</td>
          <td class="paramname"><em>evt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the DMA engine to copy memory from the specified peripheral to the given destination address. Because different peripheral has different characteristics, individual peripherals need to be explicitly supported.</p>
<p>The following lists the peripheral IDs supported by this API:</p><ul>
<li>ALT_DMA_PERIPH_QSPI_FLASH_RX</li>
<li>ALT_DMA_PERIPH_UART0_RX</li>
<li>ALT_DMA_PERIPH_UART1_RX</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The DMA channel thread to use for the transfer.</td></tr>
    <tr><td class="paramname">program</td><td>An allocated DMA program buffer to use for the life of the transfer.</td></tr>
    <tr><td class="paramname">dest</td><td>The destination memory address to copy to.</td></tr>
    <tr><td class="paramname">src</td><td>The source peripheral to copy memory from.</td></tr>
    <tr><td class="paramname">size</td><td>The size of the transfer in bytes.</td></tr>
    <tr><td class="paramname">periph_info</td><td>A pointer to a peripheral specific data structure. The following list shows what data structure should be used for peripherals:<ul>
<li>ALT_DMA_PERIPH_QSPI_FLASH_RX: This parameter is ignored.</li>
<li>ALT_DMA_PERIPH_UART0_RX: Use a pointer to the ALT_16550_HANDLE_t used to interact with that UART.</li>
<li>ALT_DMA_PERIPH_UART1_RX: Use a pointer to the ALT_16550_HANDLE_t used to interact with that UART.</li>
</ul>
</td></tr>
    <tr><td class="paramname">send_evt</td><td>If set to true, the DMA engine will be instructed to send an event upon completion or fault.</td></tr>
    <tr><td class="paramname">evt</td><td>If send_evt is true, the event specified will be sent. Otherwise the parameter is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ALT_E_SUCCESS</td><td>The operation was successful. </td></tr>
    <tr><td class="paramname">ALT_E_ERROR</td><td>The operation failed. </td></tr>
    <tr><td class="paramname">ALT_E_BAD_ARG</td><td>The given channel, peripheral, or event identifier (if used) is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8539a5c42c3f59b8640252d203398962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8539a5c42c3f59b8640252d203398962">&#9670;&nbsp;</a></span>alt_dma_register_to_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a> alt_dma_register_to_memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>register_width_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>send_evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a>&#160;</td>
          <td class="paramname"><em>evt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the DMA engine to asynchronously transfer the contents of a keyhole register to a memory buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The DMA channel thread to use for the transfer.</td></tr>
    <tr><td class="paramname">program</td><td>An allocated DMA program buffer to use for the life of the transfer.</td></tr>
    <tr><td class="paramname">dst_buf</td><td>The address of the memory buffer to copy to.</td></tr>
    <tr><td class="paramname">src_reg</td><td>The address of the keyhole register to read from.</td></tr>
    <tr><td class="paramname">count</td><td>The number of transfers to make.</td></tr>
    <tr><td class="paramname">register_width_bits</td><td>The width of the register to transfer to in bits. Valid values are 8, 16, 32, and 64.</td></tr>
    <tr><td class="paramname">send_evt</td><td>If set to true, the DMA engine will be instructed to send an event upon completion or fault.</td></tr>
    <tr><td class="paramname">evt</td><td>If send_evt is true, the event specified will be sent. Otherwise the parameter is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ALT_E_SUCCESS</td><td>The operation was successful. </td></tr>
    <tr><td class="paramname">ALT_E_ERROR</td><td>The operation failed. </td></tr>
    <tr><td class="paramname">ALT_E_BAD_ARG</td><td>The given channel, event identifier (if used), or register width are invalid, or if the destination buffer or source register is unaligned to the register width. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaecb95fceaec7eb79dac11e99653810f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecb95fceaec7eb79dac11e99653810f2">&#9670;&nbsp;</a></span>alt_dma_zero_to_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a> alt_dma_zero_to_memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#ga959232e3b00ce45a3049183cce4c9d59">ALT_DMA_CHANNEL_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__PRG.html#gadb7028531574894854db4db6d797de97">ALT_DMA_PROGRAM_t</a> *&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>send_evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ALT__DMA__COMMON.html#gad02f1735ad41b201414e8d032e0f9426">ALT_DMA_EVENT_t</a>&#160;</td>
          <td class="paramname"><em>evt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses the DMA engine to asynchronously zero out the specified memory buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The DMA channel thread to use for the transfer.</td></tr>
    <tr><td class="paramname">program</td><td>An allocated DMA program buffer to use for the life of the transfer.</td></tr>
    <tr><td class="paramname">buf</td><td>The buffer memory address to zero out.</td></tr>
    <tr><td class="paramname">size</td><td>The size of the buffer in bytes.</td></tr>
    <tr><td class="paramname">send_evt</td><td>If set to true, the DMA engine will be instructed to send an event upon completion or fault.</td></tr>
    <tr><td class="paramname">evt</td><td>If send_evt is true, the event specified will be sent. Otherwise the parameter is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ALT_E_SUCCESS</td><td>The operation was successful. </td></tr>
    <tr><td class="paramname">ALT_E_ERROR</td><td>The operation failed. </td></tr>
    <tr><td class="paramname">ALT_E_BAD_ARG</td><td>The given channel or event identifier (if used) is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
