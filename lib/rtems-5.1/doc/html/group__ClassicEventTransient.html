<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: Transient Event</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Transient Event<div class="ingroups"><a class="el" href="group__RTEMSAPI.html">API</a> &raquo; <a class="el" href="group__RTEMSAPIClassic.html">Classic</a> &raquo; <a class="el" href="group__ClassicEvent.html">Events</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab2d8a49e579d5eb1f71f499230ed9808"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> <a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClassicEventTransient.html#gab2d8a49e579d5eb1f71f499230ed9808">rtems_event_transient_send</a> (<a class="el" href="group__ClassicTasks.html#gab20892b814dced7dd4e5b9bf42becd57">rtems_id</a> id)</td></tr>
<tr class="memdesc:gab2d8a49e579d5eb1f71f499230ed9808"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="group__ClassicEventSystem.html#ga1119cb4341890e86ffa7cc7fad414f19" title="See rtems_event_send().">rtems_event_system_send()</a>.  <a href="#gab2d8a49e579d5eb1f71f499230ed9808">More...</a><br /></td></tr>
<tr class="separator:gab2d8a49e579d5eb1f71f499230ed9808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a9d65005be8b07ee557eef07de4b501"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> <a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClassicEventTransient.html#ga9a9d65005be8b07ee557eef07de4b501">rtems_event_transient_receive</a> (<a class="el" href="group__ClassicOptions.html#gad26685eb0e60a9650082935c31920e29">rtems_option</a> option_set, <a class="el" href="group__ClassicTasks.html#gad39c43f949683d46874e3a5586b93aee">rtems_interval</a> ticks)</td></tr>
<tr class="memdesc:ga9a9d65005be8b07ee557eef07de4b501"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="group__ClassicEventSystem.html#ga10c79eebe1e9c1b00eb72017bb67daf7" title="See rtems_event_receive().">rtems_event_system_receive()</a>.  <a href="#ga9a9d65005be8b07ee557eef07de4b501">More...</a><br /></td></tr>
<tr class="separator:ga9a9d65005be8b07ee557eef07de4b501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fd6be98f54e9aa634dbb203902b8676"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ClassicEventTransient.html#ga5fd6be98f54e9aa634dbb203902b8676">rtems_event_transient_clear</a> (void)</td></tr>
<tr class="memdesc:ga5fd6be98f54e9aa634dbb203902b8676"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="group__ClassicEventSystem.html#ga10c79eebe1e9c1b00eb72017bb67daf7" title="See rtems_event_receive().">rtems_event_system_receive()</a>.  <a href="#ga5fd6be98f54e9aa634dbb203902b8676">More...</a><br /></td></tr>
<tr class="separator:ga5fd6be98f54e9aa634dbb203902b8676"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The transient event can be used by a client task to issue a request to another task or interrupt service (server). The server can send the transient event to the client task to notify about a request completion, see <a class="el" href="group__ClassicEventTransient.html#gab2d8a49e579d5eb1f71f499230ed9808" title="See rtems_event_system_send().">rtems_event_transient_send()</a>. The client task can wait for the transient event reception with <a class="el" href="group__ClassicEventTransient.html#ga9a9d65005be8b07ee557eef07de4b501" title="See rtems_event_system_receive().">rtems_event_transient_receive()</a>.</p>
<p>The user of the transient event must ensure that this event is not pending once the request is finished or cancelled. A successful reception of the transient event with <a class="el" href="group__ClassicEventTransient.html#ga9a9d65005be8b07ee557eef07de4b501" title="See rtems_event_system_receive().">rtems_event_transient_receive()</a> will clear the transient event. If a reception with timeout is used the transient event state is undefined after a timeout return status. The transient event can be cleared unconditionally with the non-blocking <a class="el" href="group__ClassicEventTransient.html#ga5fd6be98f54e9aa634dbb203902b8676" title="See rtems_event_system_receive().">rtems_event_transient_clear()</a>.</p>
<div class="mscgraph">
<img src="msc_inline_mscgraph_1.png" alt="msc_inline_mscgraph_1" border="0"/>
</div>
<p>Suppose you have a task that wants to issue a certain request and then waits for request completion. It can create a request structure and store its task identifier there. Now it can place the request on a work queue of another task (or interrupt handler). Afterwards the task waits for the reception of the transient event. Once the server task is finished with the request it can send the transient event to the waiting task and wake it up.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="assert_8h.html">assert.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rtems_8h.html">rtems.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">  <a class="code" href="group__ClassicTasks.html#gab20892b814dced7dd4e5b9bf42becd57">rtems_id</a> task_id;</div><div class="line">  <span class="keywordtype">bool</span> work_done;</div><div class="line">} request;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> server(<a class="code" href="group__ClassicTasks.html#gaf202f985ef5a3156f29eae99a0536842">rtems_task_argument</a> arg)</div><div class="line">{</div><div class="line">  <a class="code" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a> sc;</div><div class="line">  request *req = (request *) arg;</div><div class="line"></div><div class="line">  req-&gt;work_done = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">  sc = <a class="code" href="group__ClassicEventTransient.html#gab2d8a49e579d5eb1f71f499230ed9808">rtems_event_transient_send</a>(req-&gt;task_id);</div><div class="line">  assert(sc == <a class="code" href="group__ClassicStatus.html#gga545d41846817eaba6143d52ee4d9e9fea8a23e2d94778f09399da984d73562536">RTEMS_SUCCESSFUL</a>);</div><div class="line"></div><div class="line">  rtems_task_exit();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> issue_request_and_wait_for_completion(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">  <a class="code" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a> sc;</div><div class="line">  <a class="code" href="group__ClassicTasks.html#gab20892b814dced7dd4e5b9bf42becd57">rtems_id</a> id;</div><div class="line">  request req;</div><div class="line"></div><div class="line">  req.task_id = <a class="code" href="group__ClassicTasks.html#gae2e554d80b478d7e7040c34a40afb6db">rtems_task_self</a>();</div><div class="line">  req.work_done = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">  sc = <a class="code" href="group__ClassicTasks.html#gabffda1c2301962f0ae5af042ac0bba62">rtems_task_create</a>(</div><div class="line">    <a class="code" href="group__ClassicClassInfo.html#ga3f71442fa9093ffaa102cde5dcbd7daf">rtems_build_name</a>(<span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;E&#39;</span>, <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;V&#39;</span>),</div><div class="line">    1,</div><div class="line">    <a class="code" href="group__RTEMSAPIClassic.html#ga2e35188053c5e97a85df8e3aa4d23d2f">RTEMS_MINIMUM_STACK_SIZE</a>,</div><div class="line">    <a class="code" href="group__ClassicModes.html#ga809c838116a3079c58fb6e41d7f1782a">RTEMS_DEFAULT_MODES</a>,</div><div class="line">    <a class="code" href="group__ClassicAttributes.html#gae5dc2c331679bb5da53ab70010061252">RTEMS_DEFAULT_ATTRIBUTES</a>,</div><div class="line">    &amp;<span class="keywordtype">id</span></div><div class="line">  );</div><div class="line">  assert(sc == <a class="code" href="group__ClassicStatus.html#gga545d41846817eaba6143d52ee4d9e9fea8a23e2d94778f09399da984d73562536">RTEMS_SUCCESSFUL</a>);</div><div class="line"></div><div class="line">  sc = <a class="code" href="group__ClassicTasks.html#gac7fe1362154946d78978ceb4f116f13e">rtems_task_start</a>(<span class="keywordtype">id</span>, server, (<a class="code" href="group__ClassicTasks.html#gaf202f985ef5a3156f29eae99a0536842">rtems_task_argument</a>) &amp;req);</div><div class="line">  assert(sc == <a class="code" href="group__ClassicStatus.html#gga545d41846817eaba6143d52ee4d9e9fea8a23e2d94778f09399da984d73562536">RTEMS_SUCCESSFUL</a>);</div><div class="line"></div><div class="line">  sc = <a class="code" href="group__ClassicEventTransient.html#ga9a9d65005be8b07ee557eef07de4b501">rtems_event_transient_receive</a>(<a class="code" href="group__ClassicOptions.html#ga6c344518194b529f32555ad5a9f85613">RTEMS_WAIT</a>, <a class="code" href="group__RTEMSAPIClassic.html#ga4b2775cd075d4046bf637ae802689476">RTEMS_NO_TIMEOUT</a>);</div><div class="line">  assert(sc == <a class="code" href="group__ClassicStatus.html#gga545d41846817eaba6143d52ee4d9e9fea8a23e2d94778f09399da984d73562536">RTEMS_SUCCESSFUL</a>);</div><div class="line"></div><div class="line">  assert(req.work_done);</div><div class="line">}</div></div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a id="ga5fd6be98f54e9aa634dbb203902b8676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5fd6be98f54e9aa634dbb203902b8676">&#9670;&nbsp;</a></span>rtems_event_transient_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> void rtems_event_transient_clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See <a class="el" href="group__ClassicEventSystem.html#ga10c79eebe1e9c1b00eb72017bb67daf7" title="See rtems_event_receive().">rtems_event_system_receive()</a>. </p>
<p>The system event <a class="el" href="group__ClassicEventSystem.html#gace35bdbb8d804a49ca2d5eff5a90e214">RTEMS_EVENT_SYSTEM_TRANSIENT</a> will be cleared. </p>

</div>
</div>
<a id="ga9a9d65005be8b07ee557eef07de4b501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a9d65005be8b07ee557eef07de4b501">&#9670;&nbsp;</a></span>rtems_event_transient_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> <a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a> rtems_event_transient_receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ClassicOptions.html#gad26685eb0e60a9650082935c31920e29">rtems_option</a>&#160;</td>
          <td class="paramname"><em>option_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ClassicTasks.html#gad39c43f949683d46874e3a5586b93aee">rtems_interval</a>&#160;</td>
          <td class="paramname"><em>ticks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See <a class="el" href="group__ClassicEventSystem.html#ga10c79eebe1e9c1b00eb72017bb67daf7" title="See rtems_event_receive().">rtems_event_system_receive()</a>. </p>
<p>The system event <a class="el" href="group__ClassicEventSystem.html#gace35bdbb8d804a49ca2d5eff5a90e214">RTEMS_EVENT_SYSTEM_TRANSIENT</a> will be received. </p>

</div>
</div>
<a id="gab2d8a49e579d5eb1f71f499230ed9808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2d8a49e579d5eb1f71f499230ed9808">&#9670;&nbsp;</a></span>rtems_event_transient_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__RTEMSScoreBaseDefs.html#gac216239df231d5dbd15e3520b0b9313f">RTEMS_INLINE_ROUTINE</a> <a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a> rtems_event_transient_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ClassicTasks.html#gab20892b814dced7dd4e5b9bf42becd57">rtems_id</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See <a class="el" href="group__ClassicEventSystem.html#ga1119cb4341890e86ffa7cc7fad414f19" title="See rtems_event_send().">rtems_event_system_send()</a>. </p>
<p>The system event <a class="el" href="group__ClassicEventSystem.html#gace35bdbb8d804a49ca2d5eff5a90e214">RTEMS_EVENT_SYSTEM_TRANSIENT</a> will be sent. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
