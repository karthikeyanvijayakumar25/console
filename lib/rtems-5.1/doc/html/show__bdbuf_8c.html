<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: cpukit/libblock/src/show_bdbuf.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cd198e36225ba3f41de97552050ac017.html">cpukit</a></li><li class="navelem"><a class="el" href="dir_ba9e32a33b495813694f71ebec04d59b.html">libblock</a></li><li class="navelem"><a class="el" href="dir_a9d9a34363ac19c2d3f60afa775fa7b4.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">show_bdbuf.c File Reference<div class="ingroups"><a class="el" href="group__RTEMSDeviceDrivers.html">Device Drivers</a> &raquo; <a class="el" href="group__rtems__libblock.html">Block Device Library</a> &raquo; <a class="el" href="group__rtems__bdpart.html">Block Device Partition Management</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Enable the Monitor to Show bdbuf Information.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="rtems_8h_source.html">rtems.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="monitor_8h_source.html">rtems/monitor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="bdbuf_8h_source.html">rtems/bdbuf.h</a>&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;<a class="el" href="libio_8h_source.html">rtems/libio.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="inttypes_8h_source.html">inttypes.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshow__bdbuf__filter__t.html">show_bdbuf_filter_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshow__bdbuf__selector__t.html">show_bdbuf_selector_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structshow__bdbuf__bdbuf__info__t.html">show_bdbuf_bdbuf_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ace4cdf89b745521f9199d06ea1a2c4bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>DISABLE_PREEMPTION</b>(key)</td></tr>
<tr class="separator:ace4cdf89b745521f9199d06ea1a2c4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebc99d6195c1ff5aeff860b5a9d5dc7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>ENABLE_PREEMPTION</b>(key)</td></tr>
<tr class="separator:a6ebc99d6195c1ff5aeff860b5a9d5dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e7f1038e2bb44747112693c72fb237"><td class="memItemLeft" align="right" valign="top"><a id="a44e7f1038e2bb44747112693c72fb237"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ARRAY_CNT</b>(arr)&#160;&#160;&#160;(sizeof((arr))/sizeof((arr)[0]))</td></tr>
<tr class="separator:a44e7f1038e2bb44747112693c72fb237"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a296a96d4a17ba4ef82b41fc690281fba"><td class="memItemLeft" align="right" valign="top"><a id="a296a96d4a17ba4ef82b41fc690281fba"></a>
typedef <a class="el" href="group__ClassicModes.html#ga8d46a41a837840dc97336fdcd20e4f68">rtems_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><b>preemption_key_t</b></td></tr>
<tr class="separator:a296a96d4a17ba4ef82b41fc690281fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0b7c351d033bd607c21ab22a6029ecaf"><td class="memItemLeft" align="right" valign="top"><a id="a0b7c351d033bd607c21ab22a6029ecaf"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>bdbuf_chain_identifier_t</b> { <b>bdbuf_chain_ident_none</b>, 
<b>bdbuf_chain_ident_free</b>, 
<b>bdbuf_chain_ident_lru</b>, 
<b>bdbuf_chain_ident_mod</b>
 }</td></tr>
<tr class="separator:a0b7c351d033bd607c21ab22a6029ecaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aee3a607a74614c866b1f44a63e22e202"><td class="memItemLeft" align="right" valign="top"><a id="aee3a607a74614c866b1f44a63e22e202"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_bdbuf_show_follow_chain_node_to_head</b> (const <a class="el" href="group__RTEMSScoreChain.html#ga0dd4bfcca1ac7f90de2842e447846d3d">Chain_Node</a> *the_node, <a class="el" href="unionChain__Control.html">Chain_Control</a> **the_head)</td></tr>
<tr class="separator:aee3a607a74614c866b1f44a63e22e202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf45d536fec3a10290e8b32587c1c73e"><td class="memItemLeft" align="right" valign="top"><a id="aaf45d536fec3a10290e8b32587c1c73e"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_bdbuf_show_determine_chain_of_bdbuf</b> (const bdbuf_buffer *the_bdbuf, const bdbuf_pool *curr_pool, bdbuf_chain_identifier_t *chn_ident)</td></tr>
<tr class="separator:aaf45d536fec3a10290e8b32587c1c73e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ec1c86120e68870da03fcf881f10832"><td class="memItemLeft" align="right" valign="top"><a id="a6ec1c86120e68870da03fcf881f10832"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_bdbuf_show_getargs</b> (int argc, char **argv, <a class="el" href="structshow__bdbuf__filter__t.html">show_bdbuf_filter_t</a> *filter, <a class="el" href="structshow__bdbuf__selector__t.html">show_bdbuf_selector_t</a> *selector)</td></tr>
<tr class="separator:a6ec1c86120e68870da03fcf881f10832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720bcad5c80590c630d76caccc51d2a3"><td class="memItemLeft" align="right" valign="top"><a id="a720bcad5c80590c630d76caccc51d2a3"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_bdbuf_show_get_bufpool</b> (struct bdbuf_pool **pool_base_pptr, int *pool_cnt_ptr)</td></tr>
<tr class="separator:a720bcad5c80590c630d76caccc51d2a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0446474e838a32f27f920b3f0bb35881"><td class="memItemLeft" align="right" valign="top"><a id="a0446474e838a32f27f920b3f0bb35881"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_bdbuf_show_pool_header</b> (int pool_idx, bdbuf_pool *pool_ptr)</td></tr>
<tr class="separator:a0446474e838a32f27f920b3f0bb35881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381e1cc416d02d7763a7a6f106001bbf"><td class="memItemLeft" align="right" valign="top"><a id="a381e1cc416d02d7763a7a6f106001bbf"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_show_bdbuf_get_bdbuf_info</b> (const bdbuf_buffer *the_bdbuf, int bdbuf_idx, const bdbuf_pool *curr_pool, <a class="el" href="structshow__bdbuf__bdbuf__info__t.html">show_bdbuf_bdbuf_info_t</a> *bdbuf_info)</td></tr>
<tr class="separator:a381e1cc416d02d7763a7a6f106001bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e38cc2009643754213cbfd68ef0b91a"><td class="memItemLeft" align="right" valign="top"><a id="a3e38cc2009643754213cbfd68ef0b91a"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_show_bdbuf_match_filter</b> (const <a class="el" href="structshow__bdbuf__bdbuf__info__t.html">show_bdbuf_bdbuf_info_t</a> *bdbuf_info, const <a class="el" href="structshow__bdbuf__filter__t.html">show_bdbuf_filter_t</a> *filter, bool *is_match)</td></tr>
<tr class="separator:a3e38cc2009643754213cbfd68ef0b91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d008c33e405d12cee7f060dd54f2c87"><td class="memItemLeft" align="right" valign="top"><a id="a2d008c33e405d12cee7f060dd54f2c87"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_show_bdbuf_print_wait_chain</b> (bdbuf_buffer *the_bdbuf)</td></tr>
<tr class="separator:a2d008c33e405d12cee7f060dd54f2c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72207edefae5d7c26e9a1a1d86774690"><td class="memItemLeft" align="right" valign="top"><a id="a72207edefae5d7c26e9a1a1d86774690"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_show_bdbuf_print</b> (const <a class="el" href="structshow__bdbuf__bdbuf__info__t.html">show_bdbuf_bdbuf_info_t</a> *bdbuf_info, <a class="el" href="structshow__bdbuf__selector__t.html">show_bdbuf_selector_t</a> *selector, bool print_header)</td></tr>
<tr class="separator:a72207edefae5d7c26e9a1a1d86774690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e58e2bdc3d1e361b5cc079227418e2"><td class="memItemLeft" align="right" valign="top"><a id="a50e58e2bdc3d1e361b5cc079227418e2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_bdbuf_show_fnc</b> (int argc, char **argv, <a class="el" href="union__rtems__monitor__command__arg__t.html">rtems_monitor_command_arg_t</a> *command_arg, bool verbose)</td></tr>
<tr class="separator:a50e58e2bdc3d1e361b5cc079227418e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd5087c796fb2974c79ef0131ef71455"><td class="memItemLeft" align="right" valign="top"><a id="afd5087c796fb2974c79ef0131ef71455"></a>
<a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rtems_bdbuf_show_init</b> (void)</td></tr>
<tr class="separator:afd5087c796fb2974c79ef0131ef71455"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Enable the Monitor to Show bdbuf Information. </p>
<p>This module inspects the bdbuf data structures, assuming they are static, but in fact they are used very dynamically. Therefore the results show MAY BE INCORRECT in some cases. And, to cure this a bit, this module may block preemption for a rather long time and therefore it may BREAK THE REALTIME BEHAVIOUR OF YOUR SYSTEM (when in use) </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ace4cdf89b745521f9199d06ea1a2c4bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4cdf89b745521f9199d06ea1a2c4bf">&#9670;&nbsp;</a></span>DISABLE_PREEMPTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISABLE_PREEMPTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">key</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                               \</div><div class="line">        rtems_task_mode(<a class="code" href="group__ClassicModes.html#gaabb8ccb34ba1b5c0497f370781630c88">RTEMS_NO_PREEMPT</a>, <a class="code" href="group__ClassicModes.html#gadce57066cf804c77938d21a205c913ac">RTEMS_PREEMPT_MASK</a>, &amp;(key)); \</div><div class="line">    } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="group__ClassicModes_html_gadce57066cf804c77938d21a205c913ac"><div class="ttname"><a href="group__ClassicModes.html#gadce57066cf804c77938d21a205c913ac">RTEMS_PREEMPT_MASK</a></div><div class="ttdeci">#define RTEMS_PREEMPT_MASK</div><div class="ttdef"><b>Definition:</b> modes.h:64</div></div>
<div class="ttc" id="group__ClassicModes_html_gaabb8ccb34ba1b5c0497f370781630c88"><div class="ttname"><a href="group__ClassicModes.html#gaabb8ccb34ba1b5c0497f370781630c88">RTEMS_NO_PREEMPT</a></div><div class="ttdeci">#define RTEMS_NO_PREEMPT</div><div class="ttdef"><b>Definition:</b> modes.h:75</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6ebc99d6195c1ff5aeff860b5a9d5dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ebc99d6195c1ff5aeff860b5a9d5dc7">&#9670;&nbsp;</a></span>ENABLE_PREEMPTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENABLE_PREEMPTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">key</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                        \</div><div class="line">        rtems_mode temp;                                        \</div><div class="line">        rtems_task_mode((key), <a class="code" href="group__ClassicModes.html#gadce57066cf804c77938d21a205c913ac">RTEMS_PREEMPT_MASK</a>, &amp;temp);      \</div><div class="line">    } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="group__ClassicModes_html_gadce57066cf804c77938d21a205c913ac"><div class="ttname"><a href="group__ClassicModes.html#gadce57066cf804c77938d21a205c913ac">RTEMS_PREEMPT_MASK</a></div><div class="ttdeci">#define RTEMS_PREEMPT_MASK</div><div class="ttdef"><b>Definition:</b> modes.h:64</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
