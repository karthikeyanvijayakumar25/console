<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: bsps/powerpc/gen5200/include/bsp/bestcomm/bestcomm_api.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_49b8d5997469a34e9a523535602b7e1a.html">bsps</a></li><li class="navelem"><a class="el" href="dir_46af6cd0840f3f74e172e4a405a32223.html">powerpc</a></li><li class="navelem"><a class="el" href="dir_b906e655a8c29ef13667df83e5354eb3.html">gen5200</a></li><li class="navelem"><a class="el" href="dir_28f2746ddba3d21cdbad44220915e700.html">include</a></li><li class="navelem"><a class="el" href="dir_9469baae9e0da264086c8ab68c136615.html">bsp</a></li><li class="navelem"><a class="el" href="dir_dfaa074816b6141cc30ebb8f7ffae54b.html">bestcomm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bestcomm_api.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="rtems_8h_source.html">rtems.h</a>&gt;</code><br />
<code>#include &quot;include/ppctypes.h&quot;</code><br />
<code>#include &quot;include/mgt5200/sdma.h&quot;</code><br />
<code>#include &quot;task_api/tasksetup_bdtable.h&quot;</code><br />
<code>#include &quot;task_api/bestcomm_cntrl.h&quot;</code><br />
<code>#include &quot;task_api/bestcomm_api_mem.h&quot;</code><br />
<code>#include &quot;bestcomm_priv.h&quot;</code><br />
<code>#include &quot;dma_image.capi.h&quot;</code><br />
</div>
<p><a href="bestcomm__api_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTaskSetupParamSet__t.html">TaskSetupParamSet_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameters for TaskSetup()  <a href="structTaskSetupParamSet__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTaskDebugParamSet__t.html">TaskDebugParamSet_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameters for <a class="el" href="bestcomm__api_8c.html#a455957c637fde5586390764bbc17cbfd" title="Return BestComm debug information.">TaskDebug()</a>  <a href="structTaskDebugParamSet__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTaskBD__t.html">TaskBD_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic buffer descriptor.  <a href="structTaskBD__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTaskBD1__t.html">TaskBD1_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single buffer descriptor.  <a href="structTaskBD1__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTaskBD2__t.html">TaskBD2_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dual buffer descriptor.  <a href="structTaskBD2__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a77d2b06841dfb0faf94b154adb62643e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a77d2b06841dfb0faf94b154adb62643e">DEBUG_BESTCOMM_API</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a77d2b06841dfb0faf94b154adb62643e"><td class="mdescLeft">&#160;</td><td class="mdescRight">TaskSetup() debugging.  <a href="#a77d2b06841dfb0faf94b154adb62643e">More...</a><br /></td></tr>
<tr class="separator:a77d2b06841dfb0faf94b154adb62643e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac747bed84189f8cfa509b94d488e622"><td class="memItemLeft" align="right" valign="top"><a id="aac747bed84189f8cfa509b94d488e622"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#aac747bed84189f8cfa509b94d488e622">MAX_TASKS</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:aac747bed84189f8cfa509b94d488e622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of tasks in the system. This number is hardware-dependent and not user configuration. <br /></td></tr>
<tr class="separator:aac747bed84189f8cfa509b94d488e622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2017f357c8bb0fc398472e229ca01da"><td class="memItemLeft" align="right" valign="top"><a id="ac2017f357c8bb0fc398472e229ca01da"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#ac2017f357c8bb0fc398472e229ca01da">DEBUG_INTR_ID</a>&#160;&#160;&#160;SDMA_INT_BIT_DBG</td></tr>
<tr class="memdesc:ac2017f357c8bb0fc398472e229ca01da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug interrupt "task ID". <br /></td></tr>
<tr class="separator:ac2017f357c8bb0fc398472e229ca01da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7d95076e57c293245b74138eda4aaa"><td class="memItemLeft" align="right" valign="top"><a id="ade7d95076e57c293245b74138eda4aaa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#ade7d95076e57c293245b74138eda4aaa">TEA_INTR_ID</a>&#160;&#160;&#160;SDMA_INT_BIT_TEA</td></tr>
<tr class="memdesc:ade7d95076e57c293245b74138eda4aaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">TEA interrupt "task ID". <br /></td></tr>
<tr class="separator:ade7d95076e57c293245b74138eda4aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9876145e46d47a77a1ccab559815bd3"><td class="memItemLeft" align="right" valign="top"><a id="aa9876145e46d47a77a1ccab559815bd3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#aa9876145e46d47a77a1ccab559815bd3">TASK_AUTOSTART_ENABLE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:aa9876145e46d47a77a1ccab559815bd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task start autostart enable. <br /></td></tr>
<tr class="separator:aa9876145e46d47a77a1ccab559815bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af98480823beeda82d948a6757adba3c1"><td class="memItemLeft" align="right" valign="top"><a id="af98480823beeda82d948a6757adba3c1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#af98480823beeda82d948a6757adba3c1">TASK_AUTOSTART_DISABLE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:af98480823beeda82d948a6757adba3c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task start autostart disable. <br /></td></tr>
<tr class="separator:af98480823beeda82d948a6757adba3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cce3a41889b553dd205b38c3d92b8a5"><td class="memItemLeft" align="right" valign="top"><a id="a3cce3a41889b553dd205b38c3d92b8a5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a3cce3a41889b553dd205b38c3d92b8a5">TASK_INTERRUPT_ENABLE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a3cce3a41889b553dd205b38c3d92b8a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task start interrupt enable. <br /></td></tr>
<tr class="separator:a3cce3a41889b553dd205b38c3d92b8a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c0d15ec2d8f43be6caaa01ea8ee43f"><td class="memItemLeft" align="right" valign="top"><a id="ac0c0d15ec2d8f43be6caaa01ea8ee43f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#ac0c0d15ec2d8f43be6caaa01ea8ee43f">TASK_INTERRUPT_DISABLE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ac0c0d15ec2d8f43be6caaa01ea8ee43f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Task start interrupt disable. <br /></td></tr>
<tr class="separator:ac0c0d15ec2d8f43be6caaa01ea8ee43f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989a3027eda2dd1407ee3758361e86d7"><td class="memItemLeft" align="right" valign="top"><a id="a989a3027eda2dd1407ee3758361e86d7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a989a3027eda2dd1407ee3758361e86d7">TASK_BD_TFD</a>&#160;&#160;&#160;(1 &lt;&lt; SDMA_DRD_BIT_TFD)</td></tr>
<tr class="memdesc:a989a3027eda2dd1407ee3758361e86d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit frame done. <br /></td></tr>
<tr class="separator:a989a3027eda2dd1407ee3758361e86d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acb925715ab865253708f6357f38416"><td class="memItemLeft" align="right" valign="top"><a id="a8acb925715ab865253708f6357f38416"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a8acb925715ab865253708f6357f38416">TASK_BD_INT</a>&#160;&#160;&#160;(1 &lt;&lt; SDMA_DRD_BIT_INT)</td></tr>
<tr class="memdesc:a8acb925715ab865253708f6357f38416"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt on frame done. <br /></td></tr>
<tr class="separator:a8acb925715ab865253708f6357f38416"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9c3a8528c3ad65a171d35059fa800d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#ad9c3a8528c3ad65a171d35059fa800d3">TaskSetupHelper</a>(TaskName,  TaskSetupParams)&#160;&#160;&#160;TaskSetup_ ## TaskName (TaskName ## _api, TaskSetupParams)</td></tr>
<tr class="memdesc:ad9c3a8528c3ad65a171d35059fa800d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a single task.  <a href="#ad9c3a8528c3ad65a171d35059fa800d3">More...</a><br /></td></tr>
<tr class="separator:ad9c3a8528c3ad65a171d35059fa800d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb0ffaf997ab87a956650a3088e7003"><td class="memItemLeft" align="right" valign="top"><a id="a0bb0ffaf997ab87a956650a3088e7003"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TaskSetup</b>(TaskName,  TaskSetupParams)&#160;&#160;&#160;<a class="el" href="bestcomm__api_8h.html#ad9c3a8528c3ad65a171d35059fa800d3">TaskSetupHelper</a>(TaskName, TaskSetupParams)</td></tr>
<tr class="separator:a0bb0ffaf997ab87a956650a3088e7003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">gpio Usage</div></td></tr>
<tr class="memitem:a872bb74de61c3689ccd5b41873fce42c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a872bb74de61c3689ccd5b41873fce42c">NULL</a>&#160;&#160;&#160;((void *)0)</td></tr>
<tr class="memdesc:a872bb74de61c3689ccd5b41873fce42c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests a GPIO pin group configuration.  <a href="#a872bb74de61c3689ccd5b41873fce42c">More...</a><br /></td></tr>
<tr class="separator:a872bb74de61c3689ccd5b41873fce42c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae08a241f3af1719cb00d56a385bdb08a"><td class="memItemLeft" align="right" valign="top"><a id="ae08a241f3af1719cb00d56a385bdb08a"></a>
typedef sint8&#160;</td><td class="memItemRight" valign="bottom"><b>TaskId</b></td></tr>
<tr class="separator:ae08a241f3af1719cb00d56a385bdb08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4135dbe2fa16263655d4edf15babcc7"><td class="memItemLeft" align="right" valign="top"><a id="aa4135dbe2fa16263655d4edf15babcc7"></a>
typedef sint32&#160;</td><td class="memItemRight" valign="bottom"><b>BDIdx</b></td></tr>
<tr class="separator:aa4135dbe2fa16263655d4edf15babcc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a83efcf1363a5d57a19933e5149ecc816"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a83efcf1363a5d57a19933e5149ecc816">Sz_t</a> { <a class="el" href="bestcomm__api_8h.html#a83efcf1363a5d57a19933e5149ecc816ab7348946303cde70c86babe56778e476">SZ_FLEX</a> = 3, 
<a class="el" href="bestcomm__api_8h.html#a83efcf1363a5d57a19933e5149ecc816a670aab914a44a0a394ff0d04561383d8">SZ_UINT8</a> = 1, 
<a class="el" href="bestcomm__api_8h.html#a83efcf1363a5d57a19933e5149ecc816a1635d997e6a6edff00b46d22208197fd">SZ_UINT16</a> = 2, 
<a class="el" href="bestcomm__api_8h.html#a83efcf1363a5d57a19933e5149ecc816a3401e43f08a19e47941746a4b1873f9c">SZ_UINT32</a> = 4
 }</td></tr>
<tr class="memdesc:a83efcf1363a5d57a19933e5149ecc816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data transfer size.  <a href="bestcomm__api_8h.html#a83efcf1363a5d57a19933e5149ecc816">More...</a><br /></td></tr>
<tr class="separator:a83efcf1363a5d57a19933e5149ecc816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a5206e2df4c716723a957a223dec41"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41">TaskErr_t</a> { <br />
&#160;&#160;<a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41a0aea041a904c1ff90e0a82b4647a9355">TASK_ERR_NO_ERR</a> = -1, 
<a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41ae83253c577c0995303e57d8943048d34">TASK_ERR_NO_INTR</a> = TASK_ERR_NO_ERR, 
<a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41a536e2b674d9165e844391cc23e337d25">TASK_ERR_INVALID_ARG</a> = -2, 
<a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41a3f5dc51ede27d348f6ccb62db1ffc704">TASK_ERR_BD_RING_FULL</a> = -3, 
<br />
&#160;&#160;<a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41a1e8da990d0bbf1e80623c0a28c51959d">TASK_ERR_API_ALREADY_INITIALIZED</a> = -4, 
<a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41adc682ce812f1af42b3e675c96544e7f0">TASK_ERR_SIZE_TOO_LARGE</a> = -5, 
<a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41ae9a4330979631d836f9a97a5b9b03300">TASK_ERR_BD_RING_EMPTY</a> = -6, 
<a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41a0d2648affa028b96540fa218dd3b9d32">TASK_ERR_BD_BUSY</a> = -7, 
<br />
&#160;&#160;<a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41a84dd62c2fe6d051b7ad43e4037bc98c1">TASK_ERR_TASK_RUNNING</a> = -8
<br />
 }</td></tr>
<tr class="memdesc:a88a5206e2df4c716723a957a223dec41"><td class="mdescLeft">&#160;</td><td class="mdescRight">API error codes.  <a href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41">More...</a><br /></td></tr>
<tr class="separator:a88a5206e2df4c716723a957a223dec41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6590b0d43c4d03b9deeb566a946cc4a1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a6590b0d43c4d03b9deeb566a946cc4a1">MPC5200Initiator_t</a> { <br />
&#160;&#160;<b>INITIATOR_ALWAYS</b> = 0, 
<b>INITIATOR_SCTMR_0</b> = 1, 
<b>INITIATOR_SCTMR_1</b> = 2, 
<b>INITIATOR_FEC_RX</b> = 3, 
<br />
&#160;&#160;<b>INITIATOR_FEC_TX</b> = 4, 
<b>INITIATOR_ATA_RX</b> = 5, 
<b>INITIATOR_ATA_TX</b> = 6, 
<b>INITIATOR_SCPCI_RX</b> = 7, 
<br />
&#160;&#160;<b>INITIATOR_SCPCI_TX</b> = 8, 
<b>INITIATOR_PSC3_RX</b> = 9, 
<b>INITIATOR_PSC3_TX</b> = 10, 
<b>INITIATOR_PSC2_RX</b> = 11, 
<br />
&#160;&#160;<b>INITIATOR_PSC2_TX</b> = 12, 
<b>INITIATOR_PSC1_RX</b> = 13, 
<b>INITIATOR_PSC1_TX</b> = 14, 
<b>INITIATOR_SCTMR_2</b> = 15, 
<br />
&#160;&#160;<b>INITIATOR_SCLPC</b> = 16, 
<b>INITIATOR_PSC5_RX</b> = 17, 
<b>INITIATOR_PSC5_TX</b> = 18, 
<b>INITIATOR_PSC4_RX</b> = 19, 
<br />
&#160;&#160;<b>INITIATOR_PSC4_TX</b> = 20, 
<b>INITIATOR_I2C2_RX</b> = 21, 
<b>INITIATOR_I2C2_TX</b> = 22, 
<b>INITIATOR_I2C1_RX</b> = 23, 
<br />
&#160;&#160;<b>INITIATOR_I2C1_TX</b> = 24, 
<b>INITIATOR_PSC6_RX</b> = 25, 
<b>INITIATOR_PSC6_TX</b> = 26, 
<b>INITIATOR_IRDA_RX</b> = 25, 
<br />
&#160;&#160;<b>INITIATOR_IRDA_TX</b> = 26, 
<b>INITIATOR_SCTMR_3</b> = 27, 
<b>INITIATOR_SCTMR_4</b> = 28, 
<b>INITIATOR_SCTMR_5</b> = 29, 
<br />
&#160;&#160;<b>INITIATOR_SCTMR_6</b> = 30, 
<b>INITIATOR_SCTMR_7</b> = 31
<br />
 }</td></tr>
<tr class="memdesc:a6590b0d43c4d03b9deeb566a946cc4a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">BestComm initiators.  <a href="bestcomm__api_8h.html#a6590b0d43c4d03b9deeb566a946cc4a1">More...</a><br /></td></tr>
<tr class="separator:a6590b0d43c4d03b9deeb566a946cc4a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1fe2b4c534707dc2ffa76134dbdd18a6"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a1fe2b4c534707dc2ffa76134dbdd18a6">TaskVersion</a> (void)</td></tr>
<tr class="memdesc:a1fe2b4c534707dc2ffa76134dbdd18a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a string containing API version information.  <a href="#a1fe2b4c534707dc2ffa76134dbdd18a6">More...</a><br /></td></tr>
<tr class="separator:a1fe2b4c534707dc2ffa76134dbdd18a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae914efa36122a772ac8ad8848ec0812a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#ae914efa36122a772ac8ad8848ec0812a">TasksInitAPI</a> (uint8 *MBarRef)</td></tr>
<tr class="memdesc:ae914efa36122a772ac8ad8848ec0812a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the API.  <a href="#ae914efa36122a772ac8ad8848ec0812a">More...</a><br /></td></tr>
<tr class="separator:ae914efa36122a772ac8ad8848ec0812a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a218e71b4e0b0e6e1fdbda806bdf937f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a218e71b4e0b0e6e1fdbda806bdf937f7">TasksInitAPI_VM</a> (uint8 *MBarRef, uint8 *MBarPhys)</td></tr>
<tr class="memdesc:a218e71b4e0b0e6e1fdbda806bdf937f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the API when virtual memory is used.  <a href="#a218e71b4e0b0e6e1fdbda806bdf937f7">More...</a><br /></td></tr>
<tr class="separator:a218e71b4e0b0e6e1fdbda806bdf937f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62dc500dc177e7beb3ea18bd488f08bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a62dc500dc177e7beb3ea18bd488f08bd">TasksLoadImage</a> (<a class="el" href="structsdma__register__set.html">sdma_regs</a> *sdma)</td></tr>
<tr class="memdesc:a62dc500dc177e7beb3ea18bd488f08bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load BestComm tasks into SRAM.  <a href="#a62dc500dc177e7beb3ea18bd488f08bd">More...</a><br /></td></tr>
<tr class="separator:a62dc500dc177e7beb3ea18bd488f08bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0debe7b5957175c27dd80de6359d264"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#af0debe7b5957175c27dd80de6359d264">TasksAttachImage</a> (<a class="el" href="structsdma__register__set.html">sdma_regs</a> *sdma)</td></tr>
<tr class="memdesc:af0debe7b5957175c27dd80de6359d264"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>Deprecated</em>  <a href="#af0debe7b5957175c27dd80de6359d264">More...</a><br /></td></tr>
<tr class="separator:af0debe7b5957175c27dd80de6359d264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b48145c6c0418944c8226075ba97e7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a2b48145c6c0418944c8226075ba97e7a">TaskStart</a> (TaskId taskId, uint32 autoStartEnable, TaskId autoStartTask, uint32 intrEnable)</td></tr>
<tr class="memdesc:a2b48145c6c0418944c8226075ba97e7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start an initialized task running.  <a href="#a2b48145c6c0418944c8226075ba97e7a">More...</a><br /></td></tr>
<tr class="separator:a2b48145c6c0418944c8226075ba97e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a0e8468075caefc2c8594375e095fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a50a0e8468075caefc2c8594375e095fd">TaskStop</a> (TaskId taskId)</td></tr>
<tr class="memdesc:a50a0e8468075caefc2c8594375e095fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a running task.  <a href="#a50a0e8468075caefc2c8594375e095fd">More...</a><br /></td></tr>
<tr class="separator:a50a0e8468075caefc2c8594375e095fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4117e7e78d83c86e3430384f56004629"><td class="memItemLeft" align="right" valign="top">BDIdx&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a4117e7e78d83c86e3430384f56004629">TaskBDAssign</a> (TaskId taskId, void *buffer0, void *buffer1, int <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>, uint32 bdFlags)</td></tr>
<tr class="memdesc:a4117e7e78d83c86e3430384f56004629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign a buffer to a buffer descriptor.  <a href="#a4117e7e78d83c86e3430384f56004629">More...</a><br /></td></tr>
<tr class="separator:a4117e7e78d83c86e3430384f56004629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf12022da391fada14f3a5621da86a3"><td class="memItemLeft" align="right" valign="top">BDIdx&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#adaf12022da391fada14f3a5621da86a3">TaskBDRelease</a> (TaskId taskId)</td></tr>
<tr class="memdesc:adaf12022da391fada14f3a5621da86a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release last buffer in the buffer descriptor ring.  <a href="#adaf12022da391fada14f3a5621da86a3">More...</a><br /></td></tr>
<tr class="separator:adaf12022da391fada14f3a5621da86a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d74620a816775576cfa503865033827"><td class="memItemLeft" align="right" valign="top">BDIdx&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a3d74620a816775576cfa503865033827">TaskBDReset</a> (TaskId taskId)</td></tr>
<tr class="memdesc:a3d74620a816775576cfa503865033827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release all buffers.  <a href="#a3d74620a816775576cfa503865033827">More...</a><br /></td></tr>
<tr class="separator:a3d74620a816775576cfa503865033827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455957c637fde5586390764bbc17cbfd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bestcomm__api_8h.html#a455957c637fde5586390764bbc17cbfd">TaskDebug</a> (TaskId taskId, <a class="el" href="structTaskDebugParamSet__t.html">TaskDebugParamSet_t</a> *paramSet)</td></tr>
<tr class="memdesc:a455957c637fde5586390764bbc17cbfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return BestComm debug information.  <a href="#a455957c637fde5586390764bbc17cbfd">More...</a><br /></td></tr>
<tr class="separator:a455957c637fde5586390764bbc17cbfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Bestcomm_api.h is the only header necessary for inclusion by user code. The include path the C compiler searches to find .h files should contain bestcomm/capi and one of bestcomm/code_dma/image_*. This second entry selects which set of BestComm tasks will be used. Of course the appropriate files in image_* must also be compiled and linked. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a77d2b06841dfb0faf94b154adb62643e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77d2b06841dfb0faf94b154adb62643e">&#9670;&nbsp;</a></span>DEBUG_BESTCOMM_API</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_BESTCOMM_API&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TaskSetup() debugging. </p>
<p>Define this macro as follows for debugging printf()s to see what the API receives and sets from the <a class="el" href="structTaskSetupParamSet__t.html" title="Parameters for TaskSetup()">TaskSetupParamSet_t</a> struct. Implemented in capi/task_api/tasksetup_general.h.</p>
<pre class="fragment">* &gt;0  : print basic debug messages
* &gt;=10: also print C-API interface variables
* &gt;=20: also print task API interface variables
* else: do nothing
* </pre> 
</div>
</div>
<a id="a872bb74de61c3689ccd5b41873fce42c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a872bb74de61c3689ccd5b41873fce42c">&#9670;&nbsp;</a></span>NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pins array is NULL&#160;&#160;&#160;((void *)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests a GPIO pin group configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">group_definition</td><td><a class="el" href="structrtems__gpio__group__definition.html" title="Object containing configuration information to request a GPIO pin group.">rtems_gpio_group_definition</a> structure filled with the group pins configurations. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">group</td><td>Reference to the created group.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RTEMS_SUCCESSFUL</td><td>Pin group was configured successfully. </td></tr>
    <tr><td class="paramname">RTEMS_UNSATISFIED</td><td>the</td></tr>
    <tr><td class="paramname">*</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="gpio_8h.html#a365b5cf4bcbb396316f2d99569ad95ec" title="Releases a GPIO pin, making it available to be used again.">rtems_gpio_release_pin()</a>. </dd></dl>

</div>
</div>
<a id="ad9c3a8528c3ad65a171d35059fa800d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9c3a8528c3ad65a171d35059fa800d3">&#9670;&nbsp;</a></span>TaskSetupHelper</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TaskSetupHelper</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TaskName, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TaskSetupParams&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;TaskSetup_ ## TaskName (TaskName ## _api, TaskSetupParams)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a single task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TaskName</td><td>Type of task to initialize. E.g. PCI transmit, ethernet receive, general purpose dual-pointer. Values expected can be found in the TaskName_t enum defined in <a class="el" href="dma__image_8capi_8h_source.html">dma_image.capi.h</a>. </td></tr>
    <tr><td class="paramname">TaskSetupParams</td><td>Task-specific parameters. The user must fill out the pertinent parts of a <a class="el" href="structTaskSetupParamSet__t.html" title="Parameters for TaskSetup()">TaskSetupParamSet_t</a> data structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TaskId task identification token which is a required parameter for most other API functions.</dd></dl>
<p>This function returns a task identification token which is a required parameter for most other API functions.</p>
<p>Certain values of the structure pointed to by TaskParams are set as a side-effect based on task type. These may be examined after a successful call to TaskSetup(). User-specified values may be overridden.</p>
<p>TaskId TaskSetup( TaskName_t TaskName, <a class="el" href="structTaskSetupParamSet__t.html" title="Parameters for TaskSetup()">TaskSetupParamSet_t</a> *TaskSetupParams ); </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a6590b0d43c4d03b9deeb566a946cc4a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6590b0d43c4d03b9deeb566a946cc4a1">&#9670;&nbsp;</a></span>MPC5200Initiator_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bestcomm__api_8h.html#a6590b0d43c4d03b9deeb566a946cc4a1">MPC5200Initiator_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BestComm initiators. </p>
<p>These are assigned by TaskSetup(). </p>

</div>
</div>
<a id="a83efcf1363a5d57a19933e5149ecc816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83efcf1363a5d57a19933e5149ecc816">&#9670;&nbsp;</a></span>Sz_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bestcomm__api_8h.html#a83efcf1363a5d57a19933e5149ecc816">Sz_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data transfer size. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a83efcf1363a5d57a19933e5149ecc816ab7348946303cde70c86babe56778e476"></a>SZ_FLEX&#160;</td><td class="fielddoc"><p>invalid for <a class="el" href="structTaskSetupParamSet__t.html" title="Parameters for TaskSetup()">TaskSetupParamSet_t</a> </p>
</td></tr>
<tr><td class="fieldname"><a id="a83efcf1363a5d57a19933e5149ecc816a670aab914a44a0a394ff0d04561383d8"></a>SZ_UINT8&#160;</td><td class="fielddoc"><p>1-byte </p>
</td></tr>
<tr><td class="fieldname"><a id="a83efcf1363a5d57a19933e5149ecc816a1635d997e6a6edff00b46d22208197fd"></a>SZ_UINT16&#160;</td><td class="fielddoc"><p>2-byte </p>
</td></tr>
<tr><td class="fieldname"><a id="a83efcf1363a5d57a19933e5149ecc816a3401e43f08a19e47941746a4b1873f9c"></a>SZ_UINT32&#160;</td><td class="fielddoc"><p>4-byte </p>
</td></tr>
</table>

</div>
</div>
<a id="a88a5206e2df4c716723a957a223dec41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88a5206e2df4c716723a957a223dec41">&#9670;&nbsp;</a></span>TaskErr_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="bestcomm__api_8h.html#a88a5206e2df4c716723a957a223dec41">TaskErr_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API error codes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a88a5206e2df4c716723a957a223dec41a0aea041a904c1ff90e0a82b4647a9355"></a>TASK_ERR_NO_ERR&#160;</td><td class="fielddoc"><p>No error </p>
</td></tr>
<tr><td class="fieldname"><a id="a88a5206e2df4c716723a957a223dec41ae83253c577c0995303e57d8943048d34"></a>TASK_ERR_NO_INTR&#160;</td><td class="fielddoc"><p>No interrupt </p>
</td></tr>
<tr><td class="fieldname"><a id="a88a5206e2df4c716723a957a223dec41a536e2b674d9165e844391cc23e337d25"></a>TASK_ERR_INVALID_ARG&#160;</td><td class="fielddoc"><p>Invalid function argument </p>
</td></tr>
<tr><td class="fieldname"><a id="a88a5206e2df4c716723a957a223dec41a3f5dc51ede27d348f6ccb62db1ffc704"></a>TASK_ERR_BD_RING_FULL&#160;</td><td class="fielddoc"><p>Buffer descriptor ring full </p>
</td></tr>
<tr><td class="fieldname"><a id="a88a5206e2df4c716723a957a223dec41a1e8da990d0bbf1e80623c0a28c51959d"></a>TASK_ERR_API_ALREADY_INITIALIZED&#160;</td><td class="fielddoc"><p>API has already been initialized </p>
</td></tr>
<tr><td class="fieldname"><a id="a88a5206e2df4c716723a957a223dec41adc682ce812f1af42b3e675c96544e7f0"></a>TASK_ERR_SIZE_TOO_LARGE&#160;</td><td class="fielddoc"><p>Buffer descriptor cannot support size parameter </p>
</td></tr>
<tr><td class="fieldname"><a id="a88a5206e2df4c716723a957a223dec41ae9a4330979631d836f9a97a5b9b03300"></a>TASK_ERR_BD_RING_EMPTY&#160;</td><td class="fielddoc"><p>Buffer descriptor ring is empty </p>
</td></tr>
<tr><td class="fieldname"><a id="a88a5206e2df4c716723a957a223dec41a0d2648affa028b96540fa218dd3b9d32"></a>TASK_ERR_BD_BUSY&#160;</td><td class="fielddoc"><p>The buffer descriptor is in use by the BestComm </p>
</td></tr>
<tr><td class="fieldname"><a id="a88a5206e2df4c716723a957a223dec41a84dd62c2fe6d051b7ad43e4037bc98c1"></a>TASK_ERR_TASK_RUNNING&#160;</td><td class="fielddoc"><p>The task is running. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4117e7e78d83c86e3430384f56004629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4117e7e78d83c86e3430384f56004629">&#9670;&nbsp;</a></span>TaskBDAssign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BDIdx TaskBDAssign </td>
          <td>(</td>
          <td class="paramtype">TaskId&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>bdFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign a buffer to a buffer descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>Task handle passed back from a successful TaskSetup() </td></tr>
    <tr><td class="paramname">buffer0</td><td>A buffer to send data from or receive data into a device </td></tr>
    <tr><td class="paramname">buffer1</td><td>A second buffer to send data from or receive data into a device for use with double-buffer tasks. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the buffer in bytes. </td></tr>
    <tr><td class="paramname">bdFlags</td><td>Buffer descriptor flags to set. Used by ethernet BD tasks. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Handle to the buffer descriptor used by this DMA transfer. Error is indicated by a negative return value (see TaskErr_t).</dd></dl>
<p>This function is used for both transmit and receive buffer descriptor tasks. The buffer may be freed by the <a class="el" href="bestcomm__api_8c.html#adaf12022da391fada14f3a5621da86a3" title="Release last buffer in the buffer descriptor ring.">TaskBDRelease()</a> function. In the case of tasks with a buffer descriptor with two buffer pointers this function uses both buffer0 and buffer1 where buffer0 is a source and buffer1 is a destination. When the buffer descriptor is a single pointer type, the buffer0 is the only pointer used and buffer1 is ignored.</p>
<p>Using this function on non-buffer descriptor tasks will produce unpredictable results. </p>

</div>
</div>
<a id="adaf12022da391fada14f3a5621da86a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf12022da391fada14f3a5621da86a3">&#9670;&nbsp;</a></span>TaskBDRelease()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BDIdx TaskBDRelease </td>
          <td>(</td>
          <td class="paramtype">TaskId&#160;</td>
          <td class="paramname"><em>taskId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release last buffer in the buffer descriptor ring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>Task handle passed back from a successful TaskSetup()</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Buffer descriptor index of next buffer index that will be released by another call of this function. TASK_ERR_BD_RING_EMPTY is returned if the ring is already empty.</dd></dl>
<p>This function allows the system to reallocate the memory used by the buffer. It also cleans up the structure in the BD ring by removing the tail buffer in the ring. The buffer descriptor tasks are designed around this. Non-BD tasks do not use this function.</p>
<p>Using this function on non-buffer descriptor tasks will produce unpredictable results. </p>

</div>
</div>
<a id="a3d74620a816775576cfa503865033827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d74620a816775576cfa503865033827">&#9670;&nbsp;</a></span>TaskBDReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BDIdx TaskBDReset </td>
          <td>(</td>
          <td class="paramtype">TaskId&#160;</td>
          <td class="paramname"><em>taskId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release all buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>Task handle passed back from a successful TaskSetup()</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Buffer descriptor index of next buffer that will be assigned by <a class="el" href="bestcomm__api_8c.html#a4117e7e78d83c86e3430384f56004629" title="Assign a buffer to a buffer descriptor.">TaskBDAssign()</a> which will also be the first released by the next call to <a class="el" href="bestcomm__api_8c.html#adaf12022da391fada14f3a5621da86a3" title="Release last buffer in the buffer descriptor ring.">TaskBDRelease()</a> or TASK_ERR_TASK_RUNNING if the task has not been stopped.</dd></dl>
<p>This function is similar to <a class="el" href="bestcomm__api_8c.html#adaf12022da391fada14f3a5621da86a3" title="Release last buffer in the buffer descriptor ring.">TaskBDRelease()</a> except that it releases all assigned buffers including those not yet processed by the BestComm task; i.e. SDMA_BD_MASK_READY is set. Non-BD tasks do not use this function.</p>
<p>The task should not be running. Call <a class="el" href="bestcomm__api_8c.html#a50a0e8468075caefc2c8594375e095fd" title="Stop a running task.">TaskStop()</a> first.</p>
<p><em>Note:</em> Partially transmitted buffers are up to the user to handle.</p>
<p>Using this function on non-buffer descriptor tasks will produce unpredictable results. </p>

</div>
</div>
<a id="a455957c637fde5586390764bbc17cbfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455957c637fde5586390764bbc17cbfd">&#9670;&nbsp;</a></span>TaskDebug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TaskDebug </td>
          <td>(</td>
          <td class="paramtype">TaskId&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTaskDebugParamSet__t.html">TaskDebugParamSet_t</a> *&#160;</td>
          <td class="paramname"><em>paramSet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return BestComm debug information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>Task handle passed back from a successful TaskSetup() </td></tr>
    <tr><td class="paramname">paramSet</td><td>TBD </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TBD</dd></dl>
<p>The implementation of this function is yet to be determined. </p>

</div>
</div>
<a id="af0debe7b5957175c27dd80de6359d264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0debe7b5957175c27dd80de6359d264">&#9670;&nbsp;</a></span>TasksAttachImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TasksAttachImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsdma__register__set.html">sdma_regs</a> *&#160;</td>
          <td class="paramname"><em>sdma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>Deprecated</em> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sdma</td><td>Base address of the BestComm register set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TASK_ERR_NO_ERR</dd></dl>
<p>Use of this function is no longer necessary. It is retained for compatibility with previous versions of the API. </p>

</div>
</div>
<a id="ae914efa36122a772ac8ad8848ec0812a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae914efa36122a772ac8ad8848ec0812a">&#9670;&nbsp;</a></span>TasksInitAPI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TasksInitAPI </td>
          <td>(</td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>MBarRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MBarRef</td><td>Reference pointer to the device register memory map.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TASK_ERR_NO_ERR on successful initialization. or TASK_ERR_API_ALREADY_INITIALIZED.</dd></dl>
<p>This function is only used with physical addresses.</p>
<p>This function will also initialize API internal variables. The return value TASK_ERR_API_ALREADY_INITIALIZED is intended to help determine if another process has already instantiated a version of the API. </p>

</div>
</div>
<a id="a218e71b4e0b0e6e1fdbda806bdf937f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a218e71b4e0b0e6e1fdbda806bdf937f7">&#9670;&nbsp;</a></span>TasksInitAPI_VM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TasksInitAPI_VM </td>
          <td>(</td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>MBarRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&#160;</td>
          <td class="paramname"><em>MBarPhys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the API when virtual memory is used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MBarRef</td><td>Reference pointer to the device register memory map. </td></tr>
    <tr><td class="paramname">MBarPhys</td><td>Actual physical location of MBAR device register memory map.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TASK_ERR_NO_ERR on successful initialization. or TASK_ERR_API_ALREADY_INITIALIZED.</dd></dl>
<p>This function allows using virtual memory addresses as well as physical addresses. All device registers are offset to the address supplied here, so the virtual memory space should include enough space for the entire register set of the device to include the SRAM space.</p>
<p>This function will also initialize API internal variables. The return value TASK_ERR_API_ALREADY_INITIALIZED is intended to help determine if another process has already instantiated a version of the API. </p>

</div>
</div>
<a id="a62dc500dc177e7beb3ea18bd488f08bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62dc500dc177e7beb3ea18bd488f08bd">&#9670;&nbsp;</a></span>TasksLoadImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TasksLoadImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsdma__register__set.html">sdma_regs</a> *&#160;</td>
          <td class="paramname"><em>sdma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load BestComm tasks into SRAM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sdma</td><td>Base address of the BestComm register set</td></tr>
  </table>
  </dd>
</dl>
<p>The BestComm tasks must be loaded before any task can be setup, enabled, etc. This might be called as part of a boot sequence before any BestComm drivers are required. </p>

</div>
</div>
<a id="a2b48145c6c0418944c8226075ba97e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b48145c6c0418944c8226075ba97e7a">&#9670;&nbsp;</a></span>TaskStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TaskStart </td>
          <td>(</td>
          <td class="paramtype">TaskId&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>autoStartEnable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TaskId&#160;</td>
          <td class="paramname"><em>autoStartTask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>intrEnable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start an initialized task running. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>Task handle passed back from a successful TaskSetup() </td></tr>
    <tr><td class="paramname">autoStartEnable</td><td>Boolean for whether autostart bit is enabled. If this is set then the parameter autoStartTask defines the task to auto start. </td></tr>
    <tr><td class="paramname">autoStartTask</td><td>TaskId for task to autostart. If autoStartEnable is not set then this parameter is a don't care. </td></tr>
    <tr><td class="paramname">intrEnable</td><td>Boolean for interrupt enable for this task. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TASK_ERR_NO_ERR on success or TASK_ERR_INVALID_ARG if taskId is invalid. </dd></dl>

</div>
</div>
<a id="a50a0e8468075caefc2c8594375e095fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a0e8468075caefc2c8594375e095fd">&#9670;&nbsp;</a></span>TaskStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TaskStop </td>
          <td>(</td>
          <td class="paramtype">TaskId&#160;</td>
          <td class="paramname"><em>taskId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop a running task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskId</td><td>Task handle passed back from a successful TaskSetup() </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TASK_ERR_NO_ERR on success or TASK_ERR_INVALID_ARG if taskId is invalid.</dd></dl>
<p><em>Note:</em> Stopping a polling buffer descriptor task is a catastrophic operation. It does not merely pause execution. Context is not saved. The task's pointer into the BD ring is reset back to the beginning.</p>
<p><em>Note:</em> This is not the case for the new "fall-through" BD tasks. They save the BD ring pointer across stop/start boundaries. The previous polling tasks are considered deprecated. </p>

</div>
</div>
<a id="a1fe2b4c534707dc2ffa76134dbdd18a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fe2b4c534707dc2ffa76134dbdd18a6">&#9670;&nbsp;</a></span>TaskVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* TaskVersion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a string containing API version information. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the API version string </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
