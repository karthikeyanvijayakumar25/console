<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: cpukit/libdl/rtl-obj-comp.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cd198e36225ba3f41de97552050ac017.html">cpukit</a></li><li class="navelem"><a class="el" href="dir_18969d2c90e3ffddab35ecf776e9a0c5.html">libdl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rtl-obj-comp.c File Reference<div class="ingroups"><a class="el" href="group__RTEMSAPI.html">API</a> &raquo; <a class="el" href="group__rtems__rtl.html">RTEMS Runtime Link Editor</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>RTEMS Run-Time Linker Object Compression manages a compress stream of data.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;<a class="el" href="inttypes_8h_source.html">inttypes.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rtl-allocator_8h_source.html">rtems/rtl/rtl-allocator.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rtl-obj-comp_8h_source.html">rtems/rtl/rtl-obj-comp.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="rtl-error_8h_source.html">rtl-error.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="rtl-trace_8h_source.html">rtems/rtl/rtl-trace.h</a>&gt;</code><br />
<code>#include &quot;fastlz.h&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae57c7af4f1fefa9e13f9ed00eb01dcf3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-obj-comp_8c.html#ae57c7af4f1fefa9e13f9ed00eb01dcf3">rtems_rtl_obj_comp_open</a> (<a class="el" href="rtl-obj-comp_8h.html#a5ac76d7cdc14a520157bd5c8a322f56c">rtems_rtl_obj_comp</a> *comp, size_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:ae57c7af4f1fefa9e13f9ed00eb01dcf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa623f3df8f95696261fe1f558bff7873"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-obj-comp_8c.html#aa623f3df8f95696261fe1f558bff7873">rtems_rtl_obj_comp_close</a> (<a class="el" href="rtl-obj-comp_8h.html#a5ac76d7cdc14a520157bd5c8a322f56c">rtems_rtl_obj_comp</a> *comp)</td></tr>
<tr class="separator:aa623f3df8f95696261fe1f558bff7873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f6650db0abec0a0fae4ad5a5975baa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-obj-comp_8c.html#a53f6650db0abec0a0fae4ad5a5975baa">rtems_rtl_obj_comp_set</a> (<a class="el" href="rtl-obj-comp_8h.html#a5ac76d7cdc14a520157bd5c8a322f56c">rtems_rtl_obj_comp</a> *comp, <a class="el" href="structrtems__rtl__obj__cache.html">rtems_rtl_obj_cache</a> *cache, int fd, int compression, off_t offset)</td></tr>
<tr class="separator:a53f6650db0abec0a0fae4ad5a5975baa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ad76f30e119ef7536b1222220715a40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtl-obj-comp_8c.html#a4ad76f30e119ef7536b1222220715a40">rtems_rtl_obj_comp_read</a> (<a class="el" href="rtl-obj-comp_8h.html#a5ac76d7cdc14a520157bd5c8a322f56c">rtems_rtl_obj_comp</a> *comp, void *buffer, size_t length)</td></tr>
<tr class="separator:a4ad76f30e119ef7536b1222220715a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTEMS Run-Time Linker Object Compression manages a compress stream of data. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa623f3df8f95696261fe1f558bff7873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa623f3df8f95696261fe1f558bff7873">&#9670;&nbsp;</a></span>rtems_rtl_obj_comp_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_rtl_obj_comp_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtl-obj-comp_8h.html#a5ac76d7cdc14a520157bd5c8a322f56c">rtems_rtl_obj_comp</a> *&#160;</td>
          <td class="paramname"><em>comp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close a compressor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comp</td><td>The compressor to close. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae57c7af4f1fefa9e13f9ed00eb01dcf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae57c7af4f1fefa9e13f9ed00eb01dcf3">&#9670;&nbsp;</a></span>rtems_rtl_obj_comp_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rtems_rtl_obj_comp_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtl-obj-comp_8h.html#a5ac76d7cdc14a520157bd5c8a322f56c">rtems_rtl_obj_comp</a> *&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a compressor allocating the output buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comp</td><td>The compressor to initialise. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the compressor's output buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The compressor is open. </td></tr>
    <tr><td class="paramname">false</td><td>The compressor is not open. The RTL error is set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ad76f30e119ef7536b1222220715a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ad76f30e119ef7536b1222220715a40">&#9670;&nbsp;</a></span>rtems_rtl_obj_comp_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rtems_rtl_obj_comp_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtl-obj-comp_8h.html#a5ac76d7cdc14a520157bd5c8a322f56c">rtems_rtl_obj_comp</a> *&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read decompressed data. The length contains the amount of data that should be available in the cache and referenced by the buffer handle. It must be less than or equal to the size of the cache. This call will return the amount of data that is available. It can be less than you ask if the offset and size is past the end of the file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comp</td><td>The compressor to read data from. </td></tr>
    <tr><td class="paramname">buffer</td><td>The buffer the output is written too. </td></tr>
    <tr><td class="paramname">length</td><td>The length of data to read. Can be modified to a lesser value and true is still returned so check it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The data referenced is in the cache. </td></tr>
    <tr><td class="paramname">false</td><td>The read failed and the RTL error has been set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a53f6650db0abec0a0fae4ad5a5975baa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f6650db0abec0a0fae4ad5a5975baa">&#9670;&nbsp;</a></span>rtems_rtl_obj_comp_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_rtl_obj_comp_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtl-obj-comp_8h.html#a5ac76d7cdc14a520157bd5c8a322f56c">rtems_rtl_obj_comp</a> *&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrtems__rtl__obj__cache.html">rtems_rtl_obj_cache</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>compression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the cache and offset in the file the compressed stream starts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comp</td><td>The compressor to set the offset in. </td></tr>
    <tr><td class="paramname">cache</td><td>The cache to read the file in by. </td></tr>
    <tr><td class="paramname">fd</td><td>The file descriptor. Must be an open file. </td></tr>
    <tr><td class="paramname">compression</td><td>The type of compression being streamed. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset in the file the compressed stream starts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
