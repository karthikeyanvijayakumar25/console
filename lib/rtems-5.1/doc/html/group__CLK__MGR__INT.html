<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: Clock Manager Interrupt Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Clock Manager Interrupt Management<div class="ingroups"><a class="el" href="group__RTEMSBSPs.html">Board Support Packages</a> &raquo; <a class="el" href="group__RTEMSBSPsARM.html">ARM</a> &raquo; <a class="el" href="group__RTEMSBSPsARMCycV.html">Intel Cyclone V</a> &raquo; <a class="el" href="group__RTEMSBSPsARMCycVContrib.html">Contributed Code</a> &raquo; <a class="el" href="group__CLK__MGR.html">The Clock Manager API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa37c8af166f14f2dc8c6712d9a4a4085"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CLK__MGR__INT.html#gaa37c8af166f14f2dc8c6712d9a4a4085">alt_clk_irq_disable</a> (<a class="el" href="group__CLK__MGR__STATUS.html#ga62fbfc277685cad341f57ee0a252092c">ALT_CLK_PLL_LOCK_STATUS_t</a> lock_stat_mask)</td></tr>
<tr class="separator:gaa37c8af166f14f2dc8c6712d9a4a4085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8dac52ec4e5a203a697ce86a8a893fdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CLK__MGR__INT.html#ga8dac52ec4e5a203a697ce86a8a893fdd">alt_clk_irq_enable</a> (<a class="el" href="group__CLK__MGR__STATUS.html#ga62fbfc277685cad341f57ee0a252092c">ALT_CLK_PLL_LOCK_STATUS_t</a> lock_stat_mask)</td></tr>
<tr class="separator:ga8dac52ec4e5a203a697ce86a8a893fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The functions in this group provide management of interrupts originating from the Clock Manager.</p>
<p>The following interrupt request (IRQ) signals are sourced from the Clock Manager:</p>
<ul>
<li><p class="startli"><b>clkmgr_IRQ</b> - Clock Manager lock status interrupt output. The PLL lock status interrupt is the logical <em>OR</em> of six interrupt sources defining the loss or achievement of lock status for each PLL. The six PLL lock status conditions are:</p><ul>
<li>Main PLL Achieved Lock</li>
<li>Main PLL Lost Lock</li>
<li>Peripheral PLL Achieved Lock</li>
<li>Peripheral PLL Lost Lock</li>
<li>SDRAM PLL Achieved Lock</li>
<li>SDRAM PLL Lost Lock</li>
</ul>
<p class="startli">They are enumeratated by the type <a class="el" href="group__CLK__MGR__STATUS.html#ga62fbfc277685cad341f57ee0a252092c">ALT_CLK_PLL_LOCK_STATUS_t</a>.</p>
<p class="startli">Each PLL lock condition may be individually disabled/enabled as a contributor to the determination of the <b>clkmgr_IRQ</b> assertion status.</p>
<p class="startli">The <a class="el" href="group__CLK__MGR__STATUS.html#ga8418718b0efdf2b2c69242265ff1581a">alt_clk_lock_status_clear()</a> function is used to clear the PLL lock conditions causing the <b>clkmgr_IRQ</b> assertion.</p>
</li>
<li><b>mpuwakeup_IRQ</b> - MPU wakeup interrupt output. This interrupt notifies the MPU to "wake up" after a transition of the Main PLL into or out of bypass mode has been safely achieved. The need for the "wake up" notification is because the PLL clocks pause for a short number of clock cycles during bypass state transition. ARM recommeds that the CPUs are placed in standby if the clocks are ever paused.</li>
</ul>
<p>NOTE: <b>mpuwakeup_IRQ</b> appears to be an Altera private interrupt and may not be part of the public API although clearly it has important utility in implementing safe changes to PLL settings and transitions into and out of bypass mode. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa37c8af166f14f2dc8c6712d9a4a4085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa37c8af166f14f2dc8c6712d9a4a4085">&#9670;&nbsp;</a></span>alt_clk_irq_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a> alt_clk_irq_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__CLK__MGR__STATUS.html#ga62fbfc277685cad341f57ee0a252092c">ALT_CLK_PLL_LOCK_STATUS_t</a>&#160;</td>
          <td class="paramname"><em>lock_stat_mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable the <b>clkmgr_IRQ</b> interrupt signal source lock status condition(s).</p>
<p>This function disables one or more of the lock status conditions as contributors to the <b>clkmgr_IRQ</b> interrupt signal state.</p>
<p>NOTE: A set bit for a PLL lock status condition in the mask value does not have the effect of enabling it as a contributor to the <b>clkmgr_IRQ</b> interrupt signal state. The function alt_clk_irq_enable is used to enable PLL lock status source condition(s).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock_stat_mask</td><td>Specifies the PLL lock status conditions to disable as interrupt source contributors. <em>lock_stat_mask</em> is a mask of logically OR'ed ALT_CLK_PLL_LOCK_STATUS_t values that designate the PLL lock conditions to disable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ALT_E_SUCCESS</td><td>Successful status. </td></tr>
    <tr><td class="paramname">ALT_E_BAD_ARG</td><td>The <em>lock_stat_mask</em> argument contains an unknown condition value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8dac52ec4e5a203a697ce86a8a893fdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8dac52ec4e5a203a697ce86a8a893fdd">&#9670;&nbsp;</a></span>alt_clk_irq_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hwlib_8h.html#abdb0d369f069723ca55d6c94bcaaaa12">ALT_STATUS_CODE</a> alt_clk_irq_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__CLK__MGR__STATUS.html#ga62fbfc277685cad341f57ee0a252092c">ALT_CLK_PLL_LOCK_STATUS_t</a>&#160;</td>
          <td class="paramname"><em>lock_stat_mask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable the <b>clkmgr_IRQ</b> interrupt signal source lock status condition(s).</p>
<p>This function enables one or more of the lock status conditions as contributors to the <b>clkmgr_IRQ</b> interrupt signal state.</p>
<p>NOTE: A cleared bit for any PLL lock status condition in the mask value does not have the effect of disabling it as a contributor to the <b>clkmgr_IRQ</b> interrupt signal state. The function alt_clk_irq_disable is used to disable PLL lock status source condition(s).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock_stat_mask</td><td>Specifies the PLL lock status conditions to enable as interrupt source contributors. <em>lock_stat_mask</em> is a mask of logically OR'ed ALT_CLK_PLL_LOCK_STATUS_t values that designate the PLL lock conditions to enable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ALT_E_SUCCESS</td><td>Successful status. </td></tr>
    <tr><td class="paramname">ALT_E_BAD_ARG</td><td>The <em>lock_stat_mask</em> argument contains an unknown condition value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
