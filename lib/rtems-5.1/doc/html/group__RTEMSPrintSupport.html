<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: RTEMS Print Support</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">RTEMS Print Support<div class="ingroups"><a class="el" href="group__RTEMSAPI.html">API</a> &raquo; <a class="el" href="group__RTEMSAPIIO.html">IO</a> &raquo; <a class="el" href="group__RTEMSAPIPrintSupport.html">Print Support</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__printer.html">rtems_printer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrtems__printer__task__context.html">rtems_printer_task_context</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1a1d078f9f2a229f68b017e3c21ded61"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSPrintSupport.html#ga1a1d078f9f2a229f68b017e3c21ded61">rtems_print_printer</a>) (void *, const char *<a class="el" href="structformat.html">format</a>, va_list ap)</td></tr>
<tr class="separator:ga1a1d078f9f2a229f68b017e3c21ded61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga553b725c5361554dc9788e1a6a82b373"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSPrintSupport.html#ga553b725c5361554dc9788e1a6a82b373">rtems_print_printer_printk</a> (<a class="el" href="structrtems__printer.html">rtems_printer</a> *printer)</td></tr>
<tr class="memdesc:ga553b725c5361554dc9788e1a6a82b373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the printer to print via <a class="el" href="bspIo_8h.html#a380cfecc8035cec8a13b68c0cb90f32f" title="Kernel Print.">printk()</a>.  <a href="#ga553b725c5361554dc9788e1a6a82b373">More...</a><br /></td></tr>
<tr class="separator:ga553b725c5361554dc9788e1a6a82b373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90a67702ffe1d15690e1de2b15bf229f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSPrintSupport.html#ga90a67702ffe1d15690e1de2b15bf229f">rtems_print_printer_printf</a> (<a class="el" href="structrtems__printer.html">rtems_printer</a> *printer)</td></tr>
<tr class="memdesc:ga90a67702ffe1d15690e1de2b15bf229f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the printer to print via printf().  <a href="#ga90a67702ffe1d15690e1de2b15bf229f">More...</a><br /></td></tr>
<tr class="separator:ga90a67702ffe1d15690e1de2b15bf229f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1495ba5b6aea0cd31f5b98f5c28d3beb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSPrintSupport.html#ga1495ba5b6aea0cd31f5b98f5c28d3beb">rtems_print_printer_fprintf</a> (<a class="el" href="structrtems__printer.html">rtems_printer</a> *printer, FILE *<a class="el" href="structfile.html">file</a>)</td></tr>
<tr class="memdesc:ga1495ba5b6aea0cd31f5b98f5c28d3beb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the printer to print via fprintf() using the specified file stream.  <a href="#ga1495ba5b6aea0cd31f5b98f5c28d3beb">More...</a><br /></td></tr>
<tr class="separator:ga1495ba5b6aea0cd31f5b98f5c28d3beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga527e5e5b91e40e2fc44a13be10484105"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSPrintSupport.html#ga527e5e5b91e40e2fc44a13be10484105">rtems_print_printer_fprintf_putc</a> (<a class="el" href="structrtems__printer.html">rtems_printer</a> *printer)</td></tr>
<tr class="memdesc:ga527e5e5b91e40e2fc44a13be10484105"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the printer to print via fprintf() using an unbuffered FILE stream with output through <a class="el" href="bspIo_8h.html#a6fd11f34260f10035f38a051af872e1e" title="Kernel Put Character.">rtems_putc()</a>.  <a href="#ga527e5e5b91e40e2fc44a13be10484105">More...</a><br /></td></tr>
<tr class="separator:ga527e5e5b91e40e2fc44a13be10484105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga826644e95a7ef01b186d55cf7bf37766"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSPrintSupport.html#ga826644e95a7ef01b186d55cf7bf37766">rtems_print_printer_task</a> (<a class="el" href="structrtems__printer.html">rtems_printer</a> *printer, <a class="el" href="structrtems__printer__task__context.html">rtems_printer_task_context</a> *<a class="el" href="sun4u_2tte_8h.html#a9b4a99475e2709333b8e5d70483173f1">context</a>)</td></tr>
<tr class="memdesc:ga826644e95a7ef01b186d55cf7bf37766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a printer task.  <a href="#ga826644e95a7ef01b186d55cf7bf37766">More...</a><br /></td></tr>
<tr class="separator:ga826644e95a7ef01b186d55cf7bf37766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96fffda2c9f3f85e47b6c15a2c6b3708"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__RTEMSPrintSupport.html#ga96fffda2c9f3f85e47b6c15a2c6b3708">rtems_printer_task_drain</a> (<a class="el" href="structrtems__printer__task__context.html">rtems_printer_task_context</a> *<a class="el" href="sun4u_2tte_8h.html#a9b4a99475e2709333b8e5d70483173f1">context</a>)</td></tr>
<tr class="memdesc:ga96fffda2c9f3f85e47b6c15a2c6b3708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drains the work queue of the printer task.  <a href="#ga96fffda2c9f3f85e47b6c15a2c6b3708">More...</a><br /></td></tr>
<tr class="separator:ga96fffda2c9f3f85e47b6c15a2c6b3708"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module contains all methods and support related to providing the user with an interface to the kernel level print support. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga1a1d078f9f2a229f68b017e3c21ded61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a1d078f9f2a229f68b017e3c21ded61">&#9670;&nbsp;</a></span>rtems_print_printer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* rtems_print_printer) (void *, const char *<a class="el" href="structformat.html">format</a>, va_list ap)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Type definition for function which can be plugged in to certain reporting routines to redirect the output.</p>
<p>Use the RTEMS Print interface to call these functions. Do not directly use them.</p>
<p>If the user provides their own printer, then they may redirect those reports as they see fit. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1495ba5b6aea0cd31f5b98f5c28d3beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1495ba5b6aea0cd31f5b98f5c28d3beb">&#9670;&nbsp;</a></span>rtems_print_printer_fprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_print_printer_fprintf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__printer.html">rtems_printer</a> *&#160;</td>
          <td class="paramname"><em>printer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the printer to print via fprintf() using the specified file stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printer</td><td>Pointer to the printer structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga527e5e5b91e40e2fc44a13be10484105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga527e5e5b91e40e2fc44a13be10484105">&#9670;&nbsp;</a></span>rtems_print_printer_fprintf_putc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_print_printer_fprintf_putc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__printer.html">rtems_printer</a> *&#160;</td>
          <td class="paramname"><em>printer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the printer to print via fprintf() using an unbuffered FILE stream with output through <a class="el" href="bspIo_8h.html#a6fd11f34260f10035f38a051af872e1e" title="Kernel Put Character.">rtems_putc()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printer</td><td>Pointer to the printer structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga90a67702ffe1d15690e1de2b15bf229f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90a67702ffe1d15690e1de2b15bf229f">&#9670;&nbsp;</a></span>rtems_print_printer_printf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_print_printer_printf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__printer.html">rtems_printer</a> *&#160;</td>
          <td class="paramname"><em>printer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the printer to print via printf(). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printer</td><td>Pointer to the printer structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga553b725c5361554dc9788e1a6a82b373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga553b725c5361554dc9788e1a6a82b373">&#9670;&nbsp;</a></span>rtems_print_printer_printk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_print_printer_printk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__printer.html">rtems_printer</a> *&#160;</td>
          <td class="paramname"><em>printer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the printer to print via <a class="el" href="bspIo_8h.html#a380cfecc8035cec8a13b68c0cb90f32f" title="Kernel Print.">printk()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printer</td><td>Pointer to the printer structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga826644e95a7ef01b186d55cf7bf37766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga826644e95a7ef01b186d55cf7bf37766">&#9670;&nbsp;</a></span>rtems_print_printer_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtems_print_printer_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__printer.html">rtems_printer</a> *&#160;</td>
          <td class="paramname"><em>printer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrtems__printer__task__context.html">rtems_printer_task_context</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a printer task. </p>
<p>Print requests via <a class="el" href="print_8h.html#a9d7cd7d1a2242a0d33f403ecec3f9baa" title="Print to the kernel plugin handler. This has to be a macro because there is no vprint version of the ...">rtems_printf()</a> or <a class="el" href="print_8h.html#aef1a908de45eb9d57903eef636db95d2" title="Print to the kernel plugin handler. This has to be a macro because there is no vprint version of the ...">rtems_vprintf()</a> using a printer task printer are output to a buffer and then placed on a work queue in FIFO order. The work queue is emptied by the printer task. The printer task writes the buffer content to the file descriptor specified by the context. Buffers are allocated from a pool of buffers as specified by the context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">printer</td><td>Pointer to the printer structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The initialized printer task context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successful operation. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>Invalid context parameters. </td></tr>
    <tr><td class="paramname">ENOMEM</td><td>Not enough resources. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga96fffda2c9f3f85e47b6c15a2c6b3708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96fffda2c9f3f85e47b6c15a2c6b3708">&#9670;&nbsp;</a></span>rtems_printer_task_drain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtems_printer_task_drain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtems__printer__task__context.html">rtems_printer_task_context</a> *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drains the work queue of the printer task. </p>
<p>Waits until all output buffers in the work queue at the time of this function call are written to the file descriptor and an <a class="el" href="fsync_8c.html#a9ba34c4ff72e21db486eedf77c2a18d0">fsync()</a> completed.</p>
<p>The printer task must be successfully started via <a class="el" href="group__RTEMSPrintSupport.html#ga826644e95a7ef01b186d55cf7bf37766" title="Creates a printer task.">rtems_print_printer_task()</a> before this function can be used. Otherwise, the behaviour is undefined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The printer task context of a successfully started printer task. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
