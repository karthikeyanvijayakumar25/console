<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: bsps/arm/atsam/include/libchip/include/pio_it.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_49b8d5997469a34e9a523535602b7e1a.html">bsps</a></li><li class="navelem"><a class="el" href="dir_5f7c3d4818c142e5ac9b73b670fac05b.html">arm</a></li><li class="navelem"><a class="el" href="dir_5aba8e8e237efdfba4be1d84414be7d9.html">atsam</a></li><li class="navelem"><a class="el" href="dir_53328eca4dcb1090163930e511cacd16.html">include</a></li><li class="navelem"><a class="el" href="dir_274991013533d8575fd1059fa51c67ea.html">libchip</a></li><li class="navelem"><a class="el" href="dir_cf03edfe8c04bb4dac56be90ec60e75d.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pio_it.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="pio_8h_source.html">pio.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="rtems_8h_source.html">rtems.h</a>&gt;</code><br />
</div>
<p><a href="pio__it_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad31e05d6debb1e88af6124cd7751af22"><td class="memItemLeft" align="right" valign="top"><a id="ad31e05d6debb1e88af6124cd7751af22"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PIO_InitializeInterrupts</b> (uint32_t dwPriority)</td></tr>
<tr class="separator:ad31e05d6debb1e88af6124cd7751af22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb47fc6c9f3c5032ec174ac5c1ee36f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio__it_8h.html#a8fb47fc6c9f3c5032ec174ac5c1ee36f">PIO_ConfigureIt</a> (const <a class="el" href="struct__Pin.html">Pin</a> *pPin, void(*handler)(const <a class="el" href="struct__Pin.html">Pin</a> *, void *arg), void *arg)</td></tr>
<tr class="separator:a8fb47fc6c9f3c5032ec174ac5c1ee36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaf06391f018c096b2c4d450b6557998"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio__it_8h.html#aeaf06391f018c096b2c4d450b6557998">PIO_RemoveIt</a> (const <a class="el" href="struct__Pin.html">Pin</a> *pPin, void(*handler)(const <a class="el" href="struct__Pin.html">Pin</a> *, void *arg), void *arg)</td></tr>
<tr class="separator:aeaf06391f018c096b2c4d450b6557998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8518ebb0c0604ceb1af0741aecbf4a"><td class="memItemLeft" align="right" valign="top"><a id="aea8518ebb0c0604ceb1af0741aecbf4a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PIO_IT_InterruptHandler</b> (void)</td></tr>
<tr class="separator:aea8518ebb0c0604ceb1af0741aecbf4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc023afbbf0cdd67bf3f28ea3ceb06d"><td class="memItemLeft" align="right" valign="top"><a id="a1fc023afbbf0cdd67bf3f28ea3ceb06d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PioInterruptHandler</b> (uint32_t id, <a class="el" href="structPio.html">Pio</a> *pPio)</td></tr>
<tr class="separator:a1fc023afbbf0cdd67bf3f28ea3ceb06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf2253c76b14e77d0dbca31f2c93690"><td class="memItemLeft" align="right" valign="top"><a id="adaf2253c76b14e77d0dbca31f2c93690"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pio__it_8h.html#adaf2253c76b14e77d0dbca31f2c93690">PIO_CaptureHandler</a> (void)</td></tr>
<tr class="memdesc:adaf2253c76b14e77d0dbca31f2c93690"><td class="mdescLeft">&#160;</td><td class="mdescRight">The PIO_CaptureHandler must be called by the PIO Capture Interrupt Service Routine with the corresponding PIO Capture instance. <br /></td></tr>
<tr class="separator:adaf2253c76b14e77d0dbca31f2c93690"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section user"><dt>Purpose</dt><dd></dd></dl>
<p>Configuration and handling of interrupts on PIO status changes. The API provided here have several advantages over the traditional PIO interrupt configuration approach:</p><ul>
<li>It is highly portable</li>
<li>It automatically demultiplexes interrupts when multiples pins have been configured on a single PIO controller</li>
<li>It allows a group of pins to share the same interrupt</li>
</ul>
<p>However, it also has several minor drawbacks that may prevent from using it in particular applications:</p><ul>
<li>It enables the clocks of all PIO controllers</li>
<li>PIO controllers all share the same interrupt handler, which does the demultiplexing and can be slower than direct configuration</li>
<li>It reserves space for a fixed number of interrupts, which can be increased by modifying the appropriate constant in pio_it.c.</li>
</ul>
<dl class="section user"><dt>Usage</dt><dd></dd></dl>
<ol type="1">
<li>Initialize the PIO interrupt mechanism using PIO_InitializeInterrupts() with the desired priority (0 ... 7).</li>
<li>Configure a status change interrupt on one or more pin(s) with <a class="el" href="pio__it_8h.html#a8fb47fc6c9f3c5032ec174ac5c1ee36f">PIO_ConfigureIt()</a>.</li>
<li>Enable &amp; disable interrupts on pins using PIO_EnableIt() and PIO_DisableIt(). </li>
</ol>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8fb47fc6c9f3c5032ec174ac5c1ee36f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb47fc6c9f3c5032ec174ac5c1ee36f">&#9670;&nbsp;</a></span>PIO_ConfigureIt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PIO_ConfigureIt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__Pin.html">Pin</a> *&#160;</td>
          <td class="paramname"><em>pPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const <a class="el" href="struct__Pin.html">Pin</a> *, void *arg)&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures a PIO or a group of PIO to generate an interrupt on status change. The provided interrupt handler will be called with the triggering pin as its parameter (enabling different pin instances to share the same handler). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPin</td><td>Pointer to a Pin instance. </td></tr>
    <tr><td class="paramname">handler</td><td>Interrupt handler function pointer. </td></tr>
    <tr><td class="paramname">arg</td><td>Pointer to interrupt handler argument </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeaf06391f018c096b2c4d450b6557998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaf06391f018c096b2c4d450b6557998">&#9670;&nbsp;</a></span>PIO_RemoveIt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ClassicStatus.html#ga545d41846817eaba6143d52ee4d9e9fe">rtems_status_code</a> PIO_RemoveIt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct__Pin.html">Pin</a> *&#160;</td>
          <td class="paramname"><em>pPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const <a class="el" href="struct__Pin.html">Pin</a> *, void *arg)&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for a PIO interrupt and remove it if it is there. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pPin</td><td>Pointer to a Pin instance. </td></tr>
    <tr><td class="paramname">handler</td><td>Interrupt handler function pointer. </td></tr>
    <tr><td class="paramname">arg</td><td>Pointer to interrupt handler argument </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RTEMS_SUCCESSFUL if removed. </dd>
<dd>
RTEMS_UNSATISFIED if the handler couldn't be found </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
