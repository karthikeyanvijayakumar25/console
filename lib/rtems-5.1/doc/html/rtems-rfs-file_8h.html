<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTEMS: cpukit/include/rtems/rfs/rtems-rfs-file.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rtemslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTEMS
   &#160;<span id="projectnumber">5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cd198e36225ba3f41de97552050ac017.html">cpukit</a></li><li class="navelem"><a class="el" href="dir_4f6a7e6de63bf7faab77653961b179a0.html">include</a></li><li class="navelem"><a class="el" href="dir_be382d098cd1aaaaf11a7ebea3d850c0.html">rtems</a></li><li class="navelem"><a class="el" href="dir_b9d5d64de603ae100d445b1c1fa7382d.html">rfs</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rtems-rfs-file.h File Reference<div class="ingroups"><a class="el" href="group__LibIO.html">IO Library</a> &raquo; <a class="el" href="group__FileSystemTypesAndMount.html">File System Types and Mount</a> &raquo; <a class="el" href="group__rtems__rfs.html">RTEMS File System Group Management</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>RTEMS File System File Support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="libio___8h_source.html">rtems/libio_.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rtems-rfs-block_8h_source.html">rtems/rfs/rtems-rfs-block.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rtems-rfs-data_8h_source.html">rtems/rfs/rtems-rfs-data.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rtems-rfs-file-system_8h_source.html">rtems/rfs/rtems-rfs-file-system.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="rtems-rfs-inode_8h_source.html">rtems/rfs/rtems-rfs-inode.h</a>&gt;</code><br />
</div>
<p><a href="rtems-rfs-file_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__rtems__rfs__file__shared.html">_rtems_rfs_file_shared</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__rtems__rfs__file__handle.html">_rtems_rfs_file_handle</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa2ec4bfbf423d3b274ca575bdb3301ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#aa2ec4bfbf423d3b274ca575bdb3301ad">RTEMS_RFS_FILE_NO_ATIME_UPDATE</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:aa2ec4bfbf423d3b274ca575bdb3301ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f537f7b4684a012ca3e27bf608b9ac3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a3f537f7b4684a012ca3e27bf608b9ac3">RTEMS_RFS_FILE_NO_MTIME_UPDATE</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:a3f537f7b4684a012ca3e27bf608b9ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9bbd4e5f667652ead3ad1268bfe049"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a9e9bbd4e5f667652ead3ad1268bfe049">RTEMS_RFS_FILE_NO_LENGTH_UPDATE</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr class="separator:a9e9bbd4e5f667652ead3ad1268bfe049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe557c4a6812ce29a1c43640b51f561e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#afe557c4a6812ce29a1c43640b51f561e">rtems_rfs_file_data</a>(_f)&#160;&#160;&#160;(<a class="el" href="rtems-rfs-buffer_8h.html#aeb8816b42da7435346c907b381188402">rtems_rfs_buffer_data</a> (&amp;(_f)-&gt;buffer) + (_f)-&gt;bpos.boff)</td></tr>
<tr class="separator:afe557c4a6812ce29a1c43640b51f561e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7546d9fdb507dcd132e994a235242a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a4c7546d9fdb507dcd132e994a235242a">rtems_rfs_file_fs</a>(_f)&#160;&#160;&#160;((_f)-&gt;shared-&gt;fs)</td></tr>
<tr class="separator:a4c7546d9fdb507dcd132e994a235242a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e59d7442e15f61e6eaa5d3a50a672f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a4e59d7442e15f61e6eaa5d3a50a672f7">rtems_rfs_file_inode</a>(_f)&#160;&#160;&#160;(&amp;(_f)-&gt;shared-&gt;inode)</td></tr>
<tr class="separator:a4e59d7442e15f61e6eaa5d3a50a672f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad929421716f250f6c7e5ed20a9da11d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#ad929421716f250f6c7e5ed20a9da11d5">rtems_rfs_file_map</a>(_f)&#160;&#160;&#160;(&amp;(_f)-&gt;shared-&gt;<a class="el" href="struct__map.html">map</a>)</td></tr>
<tr class="separator:ad929421716f250f6c7e5ed20a9da11d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b9de6a6c7437246e73260be684ee87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a21b9de6a6c7437246e73260be684ee87">rtems_rfs_file_bpos</a>(_f)&#160;&#160;&#160;(&amp;(_f)-&gt;bpos)</td></tr>
<tr class="separator:a21b9de6a6c7437246e73260be684ee87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af033b8990fc9d2d3410099e4a4209100"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#af033b8990fc9d2d3410099e4a4209100">rtems_rfs_file_block</a>(_f)&#160;&#160;&#160;((_f)-&gt;bpos.bno)</td></tr>
<tr class="separator:af033b8990fc9d2d3410099e4a4209100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a205fd0f3d98c21f4b194ae800d1d567f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a205fd0f3d98c21f4b194ae800d1d567f">rtems_rfs_file_block_offset</a>(_f)&#160;&#160;&#160;((_f)-&gt;bpos.boff)</td></tr>
<tr class="separator:a205fd0f3d98c21f4b194ae800d1d567f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644b7fe2a81feb968c67d75744ca16a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a644b7fe2a81feb968c67d75744ca16a7">rtems_rfs_file_set_bpos</a>(_f,  _p)&#160;&#160;&#160;<a class="el" href="rtems-rfs-block_8c.html#a35848429d41d99f4aab4be97b41a324e">rtems_rfs_block_get_bpos</a> (<a class="el" href="rtems-rfs-file_8h.html#a4c7546d9fdb507dcd132e994a235242a">rtems_rfs_file_fs</a> (_f), _p, (&amp;(_f)-&gt;bpos))</td></tr>
<tr class="separator:a644b7fe2a81feb968c67d75744ca16a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4586d565182d3860f29655d8d1c2a218"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a4586d565182d3860f29655d8d1c2a218">rtems_rfs_file_buffer</a>(_f)&#160;&#160;&#160;(&amp;(_f)-&gt;buffer)</td></tr>
<tr class="separator:a4586d565182d3860f29655d8d1c2a218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb6e660bc821bd68967483e5bd2f17b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a8cb6e660bc821bd68967483e5bd2f17b">rtems_rfs_file_update_atime</a>(_f)&#160;&#160;&#160;(((_f)-&gt;flags &amp; <a class="el" href="rtems-rfs-file_8h.html#aa2ec4bfbf423d3b274ca575bdb3301ad">RTEMS_RFS_FILE_NO_ATIME_UPDATE</a>) == 0)</td></tr>
<tr class="separator:a8cb6e660bc821bd68967483e5bd2f17b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a9af59f3174feaf853d58339d5ce4dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a8a9af59f3174feaf853d58339d5ce4dd">rtems_rfs_file_update_mtime</a>(_f)&#160;&#160;&#160;(((_f)-&gt;flags &amp; <a class="el" href="rtems-rfs-file_8h.html#a3f537f7b4684a012ca3e27bf608b9ac3">RTEMS_RFS_FILE_NO_MTIME_UPDATE</a>) == 0)</td></tr>
<tr class="separator:a8a9af59f3174feaf853d58339d5ce4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5400045d7b50c06e8c827c72e92115"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a8f5400045d7b50c06e8c827c72e92115">rtems_rfs_file_update_length</a>(_f)&#160;&#160;&#160;(((_f)-&gt;flags &amp; <a class="el" href="rtems-rfs-file_8h.html#a9e9bbd4e5f667652ead3ad1268bfe049">RTEMS_RFS_FILE_NO_LENGTH_UPDATE</a>) == 0)</td></tr>
<tr class="separator:a8f5400045d7b50c06e8c827c72e92115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff48c478d0897c80730e1d64782004cb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#aff48c478d0897c80730e1d64782004cb">rtems_rfs_file_get_size</a>(_f)&#160;&#160;&#160;(&amp;(_f)-&gt;shared-&gt;<a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:aff48c478d0897c80730e1d64782004cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad621f6c4bf9e335c18993c6d07d41ef3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#ad621f6c4bf9e335c18993c6d07d41ef3">rtems_rfs_file_size</a>(_f)&#160;&#160;&#160;rtems_rfs_file_shared_get_size (<a class="el" href="rtems-rfs-file_8h.html#a4c7546d9fdb507dcd132e994a235242a">rtems_rfs_file_fs</a> (_f), (_f)-&gt;shared)</td></tr>
<tr class="separator:ad621f6c4bf9e335c18993c6d07d41ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72061aa35cafb586f2a3ca883dd2d67e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a72061aa35cafb586f2a3ca883dd2d67e">rtems_rfs_file_size_count</a>(_f)&#160;&#160;&#160;rtems_rfs_file_shared_get_block_count ((_f)-&gt;shared)</td></tr>
<tr class="separator:a72061aa35cafb586f2a3ca883dd2d67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae687fe1a9f2f8f1fe653fb872f70c1dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#ae687fe1a9f2f8f1fe653fb872f70c1dc">rtems_rfs_file_size_offset</a>(_f)&#160;&#160;&#160;rtems_rfs_file_shared_get_block_offset ((_f)-&gt;shared)</td></tr>
<tr class="separator:ae687fe1a9f2f8f1fe653fb872f70c1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:adb93e0b8dc15817a098cb105949cc3c7"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__rtems__rfs__file__shared.html">_rtems_rfs_file_shared</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#adb93e0b8dc15817a098cb105949cc3c7">rtems_rfs_file_shared</a></td></tr>
<tr class="separator:adb93e0b8dc15817a098cb105949cc3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a0f4ad45bd35ea0af7df0aa0ad893b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__rtems__rfs__file__handle.html">_rtems_rfs_file_handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a></td></tr>
<tr class="separator:a35a0f4ad45bd35ea0af7df0aa0ad893b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9cffe1fcb5e933e4eaf6eb65161ac9d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a9cffe1fcb5e933e4eaf6eb65161ac9d7">rtems_rfs_file_open</a> (<a class="el" href="struct__rtems__rfs__file__system.html">rtems_rfs_file_system</a> *fs, <a class="el" href="rtems-rfs-inode_8h.html#ae658325c3ff9941f2e68315d20e3c723">rtems_rfs_ino</a> ino, int oflag, <a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> **handle)</td></tr>
<tr class="separator:a9cffe1fcb5e933e4eaf6eb65161ac9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41fc4f3d47394892b567a5e1d0dd35a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a41fc4f3d47394892b567a5e1d0dd35a6">rtems_rfs_file_close</a> (<a class="el" href="struct__rtems__rfs__file__system.html">rtems_rfs_file_system</a> *fs, <a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *handle)</td></tr>
<tr class="separator:a41fc4f3d47394892b567a5e1d0dd35a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a9fbf77d3ac355c21ac263db639439"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a95a9fbf77d3ac355c21ac263db639439">rtems_rfs_file_io_start</a> (<a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *handle, size_t *available, bool <a class="el" href="libcsupport_2src_2read_8c.html#a26d4711c05afec4c7771c3d17b2db9e9">read</a>)</td></tr>
<tr class="separator:a95a9fbf77d3ac355c21ac263db639439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8539cb85352152dd9b0b5f4a756c092"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#ae8539cb85352152dd9b0b5f4a756c092">rtems_rfs_file_io_end</a> (<a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *handle, size_t <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>, bool <a class="el" href="libcsupport_2src_2read_8c.html#a26d4711c05afec4c7771c3d17b2db9e9">read</a>)</td></tr>
<tr class="separator:ae8539cb85352152dd9b0b5f4a756c092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26077ee233df41e872ae47429fb66d40"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a26077ee233df41e872ae47429fb66d40">rtems_rfs_file_io_release</a> (<a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *handle)</td></tr>
<tr class="separator:a26077ee233df41e872ae47429fb66d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a37c884a77b1399e00425cdf1a864e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#aa6a37c884a77b1399e00425cdf1a864e">rtems_rfs_file_seek</a> (<a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *handle, <a class="el" href="rtems-rfs-file-system_8h.html#ae6adc04fe673c46403605d64f16699bd">rtems_rfs_pos</a> pos, <a class="el" href="rtems-rfs-file-system_8h.html#ae6adc04fe673c46403605d64f16699bd">rtems_rfs_pos</a> *new_pos)</td></tr>
<tr class="separator:aa6a37c884a77b1399e00425cdf1a864e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb0914311b2dd39a6899b522fe28093"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a0eb0914311b2dd39a6899b522fe28093">rtems_rfs_file_set_size</a> (<a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *handle, <a class="el" href="rtems-rfs-file-system_8h.html#ae6adc04fe673c46403605d64f16699bd">rtems_rfs_pos</a> <a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td></tr>
<tr class="separator:a0eb0914311b2dd39a6899b522fe28093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47bc6c24c1df4ab25e8cb8dec7c5c86a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rtems-rfs-file_8h.html#adb93e0b8dc15817a098cb105949cc3c7">rtems_rfs_file_shared</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtems-rfs-file_8h.html#a47bc6c24c1df4ab25e8cb8dec7c5c86a">rtems_rfs_file_get_shared</a> (<a class="el" href="struct__rtems__rfs__file__system.html">rtems_rfs_file_system</a> *fs, <a class="el" href="rtems-rfs-inode_8h.html#ae658325c3ff9941f2e68315d20e3c723">rtems_rfs_ino</a> ino)</td></tr>
<tr class="separator:a47bc6c24c1df4ab25e8cb8dec7c5c86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTEMS File System File Support. </p>
<p>RTEMS File System File Support</p>
<p>This file provides the support functions. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af033b8990fc9d2d3410099e4a4209100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af033b8990fc9d2d3410099e4a4209100">&#9670;&nbsp;</a></span>rtems_rfs_file_block</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_block</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;((_f)-&gt;bpos.bno)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the file's block number given a file handle. </p>

</div>
</div>
<a id="a205fd0f3d98c21f4b194ae800d1d567f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a205fd0f3d98c21f4b194ae800d1d567f">&#9670;&nbsp;</a></span>rtems_rfs_file_block_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_block_offset</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;((_f)-&gt;bpos.boff)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the file's block offset given a file handle. </p>

</div>
</div>
<a id="a21b9de6a6c7437246e73260be684ee87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b9de6a6c7437246e73260be684ee87">&#9670;&nbsp;</a></span>rtems_rfs_file_bpos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_bpos</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;(&amp;(_f)-&gt;bpos)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the file's block position pointer given a file handle. </p>

</div>
</div>
<a id="a4586d565182d3860f29655d8d1c2a218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4586d565182d3860f29655d8d1c2a218">&#9670;&nbsp;</a></span>rtems_rfs_file_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_buffer</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;(&amp;(_f)-&gt;buffer)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the file's buffer handle pointer given a file handle. </p>

</div>
</div>
<a id="afe557c4a6812ce29a1c43640b51f561e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe557c4a6812ce29a1c43640b51f561e">&#9670;&nbsp;</a></span>rtems_rfs_file_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_data</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="rtems-rfs-buffer_8h.html#aeb8816b42da7435346c907b381188402">rtems_rfs_buffer_data</a> (&amp;(_f)-&gt;buffer) + (_f)-&gt;bpos.boff)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Access the data in the buffer. </p>

</div>
</div>
<a id="a4c7546d9fdb507dcd132e994a235242a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c7546d9fdb507dcd132e994a235242a">&#9670;&nbsp;</a></span>rtems_rfs_file_fs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_fs</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;((_f)-&gt;shared-&gt;fs)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the file system data pointer given a file handle. </p>

</div>
</div>
<a id="aff48c478d0897c80730e1d64782004cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff48c478d0897c80730e1d64782004cb">&#9670;&nbsp;</a></span>rtems_rfs_file_get_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_get_size</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;(&amp;(_f)-&gt;shared-&gt;<a class="el" href="sun4u_2tte_8h.html#a245260f6f74972558f61b85227df5aae">size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the shared size varable. </p>

</div>
</div>
<a id="a4e59d7442e15f61e6eaa5d3a50a672f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e59d7442e15f61e6eaa5d3a50a672f7">&#9670;&nbsp;</a></span>rtems_rfs_file_inode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_inode</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;(&amp;(_f)-&gt;shared-&gt;inode)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the file's inode handle pointer given a file handle. </p>

</div>
</div>
<a id="ad929421716f250f6c7e5ed20a9da11d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad929421716f250f6c7e5ed20a9da11d5">&#9670;&nbsp;</a></span>rtems_rfs_file_map</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_map</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;(&amp;(_f)-&gt;shared-&gt;<a class="el" href="struct__map.html">map</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the file's block map pointer given a file handle. </p>

</div>
</div>
<a id="aa2ec4bfbf423d3b274ca575bdb3301ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2ec4bfbf423d3b274ca575bdb3301ad">&#9670;&nbsp;</a></span>RTEMS_RFS_FILE_NO_ATIME_UPDATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTEMS_RFS_FILE_NO_ATIME_UPDATE&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>File flags.Do not update the atime field in the inode if set. </p>

</div>
</div>
<a id="a9e9bbd4e5f667652ead3ad1268bfe049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e9bbd4e5f667652ead3ad1268bfe049">&#9670;&nbsp;</a></span>RTEMS_RFS_FILE_NO_LENGTH_UPDATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTEMS_RFS_FILE_NO_LENGTH_UPDATE&#160;&#160;&#160;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do not update the position field in the inode if set. </p>

</div>
</div>
<a id="a3f537f7b4684a012ca3e27bf608b9ac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f537f7b4684a012ca3e27bf608b9ac3">&#9670;&nbsp;</a></span>RTEMS_RFS_FILE_NO_MTIME_UPDATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTEMS_RFS_FILE_NO_MTIME_UPDATE&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Do not update the mtime field in the inode if set. </p>

</div>
</div>
<a id="a644b7fe2a81feb968c67d75744ca16a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a644b7fe2a81feb968c67d75744ca16a7">&#9670;&nbsp;</a></span>rtems_rfs_file_set_bpos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_set_bpos</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_p&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="rtems-rfs-block_8c.html#a35848429d41d99f4aab4be97b41a324e">rtems_rfs_block_get_bpos</a> (<a class="el" href="rtems-rfs-file_8h.html#a4c7546d9fdb507dcd132e994a235242a">rtems_rfs_file_fs</a> (_f), _p, (&amp;(_f)-&gt;bpos))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the file's block position given a file position (absolute). </p>

</div>
</div>
<a id="ad621f6c4bf9e335c18993c6d07d41ef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad621f6c4bf9e335c18993c6d07d41ef3">&#9670;&nbsp;</a></span>rtems_rfs_file_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_size</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;rtems_rfs_file_shared_get_size (<a class="el" href="rtems-rfs-file_8h.html#a4c7546d9fdb507dcd132e994a235242a">rtems_rfs_file_fs</a> (_f), (_f)-&gt;shared)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the size of file. </p>

</div>
</div>
<a id="a72061aa35cafb586f2a3ca883dd2d67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72061aa35cafb586f2a3ca883dd2d67e">&#9670;&nbsp;</a></span>rtems_rfs_file_size_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_size_count</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;rtems_rfs_file_shared_get_block_count ((_f)-&gt;shared)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the file block count. </p>

</div>
</div>
<a id="ae687fe1a9f2f8f1fe653fb872f70c1dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae687fe1a9f2f8f1fe653fb872f70c1dc">&#9670;&nbsp;</a></span>rtems_rfs_file_size_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_size_offset</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;rtems_rfs_file_shared_get_block_offset ((_f)-&gt;shared)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the file block offset. </p>

</div>
</div>
<a id="a8cb6e660bc821bd68967483e5bd2f17b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb6e660bc821bd68967483e5bd2f17b">&#9670;&nbsp;</a></span>rtems_rfs_file_update_atime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_update_atime</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;(((_f)-&gt;flags &amp; <a class="el" href="rtems-rfs-file_8h.html#aa2ec4bfbf423d3b274ca575bdb3301ad">RTEMS_RFS_FILE_NO_ATIME_UPDATE</a>) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the access time field of the inode when reading if flagged to do so. </p>

</div>
</div>
<a id="a8f5400045d7b50c06e8c827c72e92115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5400045d7b50c06e8c827c72e92115">&#9670;&nbsp;</a></span>rtems_rfs_file_update_length</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_update_length</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;(((_f)-&gt;flags &amp; <a class="el" href="rtems-rfs-file_8h.html#a9e9bbd4e5f667652ead3ad1268bfe049">RTEMS_RFS_FILE_NO_LENGTH_UPDATE</a>) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the length field of the inode. </p>

</div>
</div>
<a id="a8a9af59f3174feaf853d58339d5ce4dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a9af59f3174feaf853d58339d5ce4dd">&#9670;&nbsp;</a></span>rtems_rfs_file_update_mtime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rtems_rfs_file_update_mtime</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_f</td><td>)</td>
          <td>&#160;&#160;&#160;(((_f)-&gt;flags &amp; <a class="el" href="rtems-rfs-file_8h.html#a3f537f7b4684a012ca3e27bf608b9ac3">RTEMS_RFS_FILE_NO_MTIME_UPDATE</a>) == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the modified time field of the inode when writing if flagged to do so. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a35a0f4ad45bd35ea0af7df0aa0ad893b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35a0f4ad45bd35ea0af7df0aa0ad893b">&#9670;&nbsp;</a></span>rtems_rfs_file_handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__rtems__rfs__file__handle.html">_rtems_rfs_file_handle</a>  <a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>File data used to managed an open file. </p>

</div>
</div>
<a id="adb93e0b8dc15817a098cb105949cc3c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb93e0b8dc15817a098cb105949cc3c7">&#9670;&nbsp;</a></span>rtems_rfs_file_shared</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__rtems__rfs__file__shared.html">_rtems_rfs_file_shared</a>  <a class="el" href="rtems-rfs-file_8h.html#adb93e0b8dc15817a098cb105949cc3c7">rtems_rfs_file_shared</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>File data that is shared by various file handles accessing the same file. We hold various inode values common to the file that can change frequently so the inode is not thrashed yet we meet the requirements of the POSIX standard. The stat call needs to check the shared file data. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a41fc4f3d47394892b567a5e1d0dd35a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41fc4f3d47394892b567a5e1d0dd35a6">&#9670;&nbsp;</a></span>rtems_rfs_file_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtems_rfs_file_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__rtems__rfs__file__system.html">rtems_rfs_file_system</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close an open file handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs</td><td>is the file system. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the open file handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successful operation. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a47bc6c24c1df4ab25e8cb8dec7c5c86a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47bc6c24c1df4ab25e8cb8dec7c5c86a">&#9670;&nbsp;</a></span>rtems_rfs_file_get_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rtems-rfs-file_8h.html#adb93e0b8dc15817a098cb105949cc3c7">rtems_rfs_file_shared</a>* rtems_rfs_file_get_shared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__rtems__rfs__file__system.html">rtems_rfs_file_system</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtems-rfs-inode_8h.html#ae658325c3ff9941f2e68315d20e3c723">rtems_rfs_ino</a>&#160;</td>
          <td class="paramname"><em>ino</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the shared file data for an ino.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs</td><td>is the file system data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ino</td><td>is the inode number to locate the data for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>rtems_rfs_file_shared* The shared data or NULL is not located.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">shared</td><td>The shared data. </td></tr>
    <tr><td class="paramname">NULL</td><td>No shared file data is located. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae8539cb85352152dd9b0b5f4a756c092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8539cb85352152dd9b0b5f4a756c092">&#9670;&nbsp;</a></span>rtems_rfs_file_io_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtems_rfs_file_io_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>End the I/O. Any buffers held in the file handle and returned to the cache. If inode updating is not disable and the I/O is a read the atime field is updated and if a write I/O the mtime is updated.</p>
<p>If the file's position is updated by the size amount.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the file handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>is the amount of data read or written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read</td><td>is the I/O was a read if true else it was a write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successful operation. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26077ee233df41e872ae47429fb66d40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26077ee233df41e872ae47429fb66d40">&#9670;&nbsp;</a></span>rtems_rfs_file_io_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtems_rfs_file_io_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release the I/O resources without any changes. If data has changed in the buffer and the buffer was not already released as modified the data will be lost.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the file handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successful operation. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95a9fbf77d3ac355c21ac263db639439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95a9fbf77d3ac355c21ac263db639439">&#9670;&nbsp;</a></span>rtems_rfs_file_io_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtems_rfs_file_io_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>available</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start I/O on a block of a file. This call only requests the block from the media if reading and makes the buffer available to you the via the rtems_rfs_file_data interface after the call. The available amount data is taken from the current file position until the end of the block. The file position is not adujsted until the I/O ends. An I/O request cannot perform I/O past the end of a block so the call returns the amount of data available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the file handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">available</td><td>is the amount of data available for I/O. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read</td><td>is the I/O operation is a read so the block is read from the media.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successful operation. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9cffe1fcb5e933e4eaf6eb65161ac9d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cffe1fcb5e933e4eaf6eb65161ac9d7">&#9670;&nbsp;</a></span>rtems_rfs_file_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtems_rfs_file_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__rtems__rfs__file__system.html">rtems_rfs_file_system</a> *&#160;</td>
          <td class="paramname"><em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtems-rfs-inode_8h.html#ae658325c3ff9941f2e68315d20e3c723">rtems_rfs_ino</a>&#160;</td>
          <td class="paramname"><em>ino</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>oflag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> **&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a file handle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fs</td><td>is the file system. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ino</td><td>is the inode number of the file to be opened. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>will be filled in with the handle pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successful operation. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa6a37c884a77b1399e00425cdf1a864e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a37c884a77b1399e00425cdf1a864e">&#9670;&nbsp;</a></span>rtems_rfs_file_seek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtems_rfs_file_seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file-system_8h.html#ae6adc04fe673c46403605d64f16699bd">rtems_rfs_pos</a>&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file-system_8h.html#ae6adc04fe673c46403605d64f16699bd">rtems_rfs_pos</a> *&#160;</td>
          <td class="paramname"><em>new_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The file to the position returning the old position. The position is abolute.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>The file handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>is the position to seek to. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">new_pos</td><td>will contain the actual position.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successful operation. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0eb0914311b2dd39a6899b522fe28093"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb0914311b2dd39a6899b522fe28093">&#9670;&nbsp;</a></span>rtems_rfs_file_set_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtems_rfs_file_set_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file_8h.html#a35a0f4ad45bd35ea0af7df0aa0ad893b">rtems_rfs_file_handle</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtems-rfs-file-system_8h.html#ae6adc04fe673c46403605d64f16699bd">rtems_rfs_pos</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the size of the file to the new size. This can extend the file to a new size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the file handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>is the new size of the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Successful operation. </td></tr>
    <tr><td class="paramname">error_code</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
